<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Vueæ·±å…¥ç†è§£ | iSzw_Blog</title><meta name="description" content="Vueæ·±å…¥ç†è§£"><meta name="keywords" content="vue,å“åº”å¼,mvvm,vdom,diff"><meta name="author" content="suvan"><meta name="copyright" content="suvan"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vueæ·±å…¥ç†è§£"><meta name="twitter:description" content="Vueæ·±å…¥ç†è§£"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fwLR6I.png"><meta property="og:type" content="article"><meta property="og:title" content="Vueæ·±å…¥ç†è§£"><meta property="og:url" content="https://iszw.github.io/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/"><meta property="og:site_name" content="iSzw_Blog"><meta property="og:description" content="Vueæ·±å…¥ç†è§£"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fwLR6I.png"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '2'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/custom.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/footer.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/buttons.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://iszw.github.io/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/"><link rel="prev" title="Daliy FE Coding Tips" href="https://iszw.github.io/2019/06/06/Daliy%20FE%20Coding%20Tips/"><link rel="next" title="Gitå‘½ä»¤è¯¦è§£" href="https://iszw.github.io/2019/03/21/Git%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://isuziwei.cn/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"å¯Œå¼·,æ°‘ä¸»,æ–‡æ˜,å’Œè«§,è‡ªç”±,å¹³ç­‰,å…¬æ­£,æ³•æ²»,æ„›åœ‹,æ•¬æ¥­,èª ä¿¡,å‹å–„","fontSize":"14px"},
  medium_zoom: true,
  fancybox: false,
  Snackbar: {"bookmark":{"message_prev":"æŒ‰","message_next":"é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾"},"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-center"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">40</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">164</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/playlist/"><i class="fa-fw fa fa-music"></i><span> æ­Œå•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ç»„ä»¶åŒ–åŸºç¡€"><span class="toc-number">1.</span> <span class="toc-text">ç»„ä»¶åŒ–åŸºç¡€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vueå“åº”å¼"><span class="toc-number">2.</span> <span class="toc-text">Vueå“åº”å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-defineProperty-åŸºæœ¬ç”¨æ³•"><span class="toc-number">2.1.</span> <span class="toc-text">Object.defineProperty()åŸºæœ¬ç”¨æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ·±åº¦ç›‘å¬dataå˜åŒ–"><span class="toc-number">2.2.</span> <span class="toc-text">æ·±åº¦ç›‘å¬dataå˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-defineProperty-çš„ç¼ºé™·"><span class="toc-number">2.2.1.</span> <span class="toc-text">Object.defineProperty()çš„ç¼ºé™·</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#è™šæ‹ŸDOM-Virture-DOM"><span class="toc-number">3.</span> <span class="toc-text">è™šæ‹ŸDOM(Virture DOM)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#èƒŒæ™¯"><span class="toc-number">3.1.</span> <span class="toc-text">èƒŒæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”¨JSæ¨¡æ‹ŸDOMç»“æ„"><span class="toc-number">3.2.</span> <span class="toc-text">ç”¨JSæ¨¡æ‹ŸDOMç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#diffç®—æ³•"><span class="toc-number">4.</span> <span class="toc-text">diffç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#diffç®—æ³•æ¦‚è¿°"><span class="toc-number">4.1.</span> <span class="toc-text">diffç®—æ³•æ¦‚è¿°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO-n-3"><span class="toc-number">4.1.1.</span> <span class="toc-text">æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3):</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O-n"><span class="toc-number">4.2.</span> <span class="toc-text">ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O(n)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Snabbdomæºç "><span class="toc-number">4.3.</span> <span class="toc-text">Snabbdomæºç </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#patch-å‡½æ•°"><span class="toc-number">4.3.1.</span> <span class="toc-text">patch()å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#patchVnode-å‡½æ•°"><span class="toc-number">4.3.2.</span> <span class="toc-text">patchVnode()å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#updateChildren-å‡½æ•°"><span class="toc-number">4.3.3.</span> <span class="toc-text">updateChildren()å‡½æ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ¨¡æ¿ç¼–è¯‘"><span class="toc-number">5.</span> <span class="toc-text">æ¨¡æ¿ç¼–è¯‘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#withè¯­æ³•"><span class="toc-number">5.1.</span> <span class="toc-text">withè¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°"><span class="toc-number">5.2.</span> <span class="toc-text">æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template"><span class="toc-number">5.3.</span> <span class="toc-text">vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°"><span class="toc-number">6.</span> <span class="toc-text">vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹"><span class="toc-number">6.1.</span> <span class="toc-text">åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ‰§è¡Œrenderå‡½æ•°-ä¼šè§¦å‘getter"><span class="toc-number">6.1.1.</span> <span class="toc-text">æ‰§è¡Œrenderå‡½æ•° ä¼šè§¦å‘getter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ›´æ–°è¿‡ç¨‹"><span class="toc-number">6.2.</span> <span class="toc-text">æ›´æ–°è¿‡ç¨‹</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fwLR6I.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">iSzw_Blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/playlist/"><i class="fa-fw fa fa-music"></i><span> æ­Œå•</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Vueæ·±å…¥ç†è§£</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date" title="å‘è¡¨äº 2019-04-15 03:22:15"><i class="fa fa-calendar" aria-hidden="true"></i> å‘è¡¨äº 2019-04-15</time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/study/">study</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>å­—æ•°æ€»è®¡:</span><span class="word-count">2.8k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>é˜…è¯»æ—¶é•¿: 13 åˆ†é’Ÿ</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="ç»„ä»¶åŒ–åŸºç¡€"><a href="#ç»„ä»¶åŒ–åŸºç¡€" class="headerlink" title="ç»„ä»¶åŒ–åŸºç¡€"></a>ç»„ä»¶åŒ–åŸºç¡€</h1><p>â€‹    ä¼ ç»Ÿç»„ä»¶ï¼Œåªæ˜¯é™æ€æ¸²æŸ“ï¼Œæ›´æ–°è¿˜æ˜¯è¦ä¾èµ–äºæ“ä½œ<code>DOM</code>ï¼Œæ¯”å¦‚<code>JQuery</code>ã€‚è€Œ<code>Vue</code>çš„<code>MVVM</code>ã€<code>React</code>çš„<code>setState</code>éƒ½æ˜¯<code>æ•°æ®é©±åŠ¨è§†å›¾çš„æ¡†æ¶</code>ã€‚</p>
<p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/f527UQ.jpg"  alt="f527UQ"></p>
<p>â€‹    ç¬¬ä¸€ä¸ª<code>Mï¼ˆModelï¼‰</code>è¡¨ç¤ºçš„æ˜¯<code>Vue</code>ç»„ä»¶ä¸­çš„<code>Data</code>éƒ¨åˆ†ï¼Œç¬¬äºŒä¸ª<code>Vï¼ˆViewï¼‰</code>è¡¨ç¤ºçš„æ˜¯<code>Vue</code>ç»„ä»¶ä¸­çš„è§†å›¾ï¼Œä¹Ÿå°±æ˜¯htmlæ¨¡æ¿ï¼Œè€Œ<code>VMï¼ˆViewModelï¼‰</code>æ¯”è¾ƒæŠ½è±¡ï¼Œå¯ä»¥ç†è§£ä¸º<code>Vue</code>æä¾›çš„èƒ½åŠ›ï¼Œæ˜¯<code>View</code>å±‚å’Œ<code>Model</code>å±‚è¿æ¥çš„éƒ¨åˆ†ï¼Œå…·åƒåŒ–æ¥è¯´å°±æ˜¯<code>Vue</code>çš„æŒ‡ä»¤ã€æ–¹æ³•ç­‰ç­‰ã€‚</p>
<h1 id="Vueå“åº”å¼"><a href="#Vueå“åº”å¼" class="headerlink" title="Vueå“åº”å¼"></a>Vueå“åº”å¼</h1><ul>
<li>ç»„ä»¶dataçš„æ•°æ®ä¸€æ—¦å˜åŒ–ï¼Œç«‹åˆ»è§¦å‘è§†å›¾çš„æ›´æ–°</li>
<li>å®ç°æ•°æ®é©±åŠ¨è§†å›¾çš„ç¬¬ä¸€æ­¥</li>
<li>æ ¸å¿ƒAPI: Object.defineProperty()</li>
</ul>
<h2 id="Object-defineProperty-åŸºæœ¬ç”¨æ³•"><a href="#Object-defineProperty-åŸºæœ¬ç”¨æ³•" class="headerlink" title="Object.defineProperty()åŸºæœ¬ç”¨æ³•"></a>Object.defineProperty()åŸºæœ¬ç”¨æ³•</h2><blockquote>
<p><strong>Object.defineProperty(obj, prop/key, descriptor)</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'zhangsan'</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(data, <span class="string">'name'</span>, &#123;</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'get'</span>)</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function(newVal) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'set'</span>)</span><br><span class="line">        name = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="built_in">console</span>.log(data.name) <span class="comment">// get zhangsan</span></span><br><span class="line">data.name = <span class="string">'lisi'</span> <span class="comment">// set</span></span><br></pre></td></tr></table></figure>

<h2 id="æ·±åº¦ç›‘å¬dataå˜åŒ–"><a href="#æ·±åº¦ç›‘å¬dataå˜åŒ–" class="headerlink" title="æ·±åº¦ç›‘å¬dataå˜åŒ–"></a>æ·±åº¦ç›‘å¬dataå˜åŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§¦å‘æ›´æ–°è§†å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateView</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è§†å›¾æ›´æ–°'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸŒŸğŸŒŸğŸŒŸé‡æ–°å®šä¹‰æ•°ç»„åŸå‹</span></span><br><span class="line"><span class="keyword">const</span> oldArrayProperty = <span class="built_in">Array</span>.prototype</span><br><span class="line"><span class="comment">// ğŸŒŸğŸŒŸğŸŒŸåˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘ oldArrayProperty ï¼Œå†æ‰©å±•æ–°çš„æ–¹æ³•ï¼ˆè§¦å‘è§†å›¾æ›´æ–°ï¼‰ä¸ä¼šå½±å“åŸå‹</span></span><br><span class="line"><span class="keyword">const</span> arrProto = <span class="built_in">Object</span>.create(oldArrayProperty);</span><br><span class="line">[<span class="string">'push'</span>, <span class="string">'pop'</span>, <span class="string">'shift'</span>, <span class="string">'unshift'</span>, <span class="string">'splice'</span>].forEach(<span class="function"><span class="params">methodName</span> =&gt;</span> &#123;</span><br><span class="line">    arrProto[methodName] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        updateView() <span class="comment">// è§¦å‘è§†å›¾æ›´æ–°</span></span><br><span class="line">        oldArrayProperty[methodName].call(<span class="keyword">this</span>, ...arguments)</span><br><span class="line">        <span class="comment">// Array.prototype.push.call(this, ...arguments)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡æ–°å®šä¹‰å±æ€§ï¼Œç›‘å¬èµ·æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">target, key, value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// â­â­â­æ·±åº¦ç›‘å¬</span></span><br><span class="line">    observer(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¸å¿ƒ API</span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(target, key, &#123;</span><br><span class="line">        <span class="keyword">get</span>() &#123;</span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span>(newValue) &#123;</span><br><span class="line">            <span class="keyword">if</span> (newValue !== value) &#123;</span><br><span class="line">                <span class="comment">// æ·±åº¦ç›‘å¬</span></span><br><span class="line">                observer(newValue)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è®¾ç½®æ–°å€¼</span></span><br><span class="line">                <span class="comment">// æ³¨æ„ï¼Œvalue ä¸€ç›´åœ¨é—­åŒ…ä¸­ï¼Œæ­¤å¤„è®¾ç½®å®Œä¹‹åï¼Œå† get æ—¶ä¹Ÿæ˜¯ä¼šè·å–æœ€æ–°çš„å€¼</span></span><br><span class="line">                value = newValue</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è§¦å‘æ›´æ–°è§†å›¾</span></span><br><span class="line">                updateView()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬å¯¹è±¡å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observer</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„ å°±ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> target !== <span class="string">'object'</span> || target === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ±¡æŸ“å…¨å±€çš„ Array åŸå‹ï¼Œä¸å¯å–</span></span><br><span class="line">    <span class="comment">// Array.prototype.push = function () &#123;</span></span><br><span class="line">    <span class="comment">//     updateView()</span></span><br><span class="line">    <span class="comment">//     ...</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœtargetæ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆå°†targetçš„åŸå‹å¤åˆ¶æˆé‡å†™è¿‡çš„æ•°ç»„åŸå‹</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(target)) &#123;</span><br><span class="line">        target.__proto__ = arrProto</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°å®šä¹‰å„ä¸ªå±æ€§ï¼ˆfor in ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        defineReactive(target, key, target[key])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡†å¤‡æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">20</span>,</span><br><span class="line">    info: &#123;</span><br><span class="line">        address: <span class="string">'åŒ—äº¬'</span> <span class="comment">// éœ€è¦æ·±åº¦ç›‘å¬</span></span><br><span class="line">    &#125;,</span><br><span class="line">    nums: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æ•°æ®</span></span><br><span class="line">observer(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line">data.name = <span class="string">'lisi'</span></span><br><span class="line">data.age = <span class="number">21</span></span><br><span class="line"><span class="comment">// console.log('age', data.age)</span></span><br><span class="line"></span><br><span class="line">data.x = <span class="string">'100'</span> <span class="comment">// æ–°å¢å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” æ‰€ä»¥æœ‰ Vue.set</span></span><br><span class="line"><span class="keyword">delete</span> data.name <span class="comment">// åˆ é™¤å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” æ‰€ä»¥æœ‰ Vue.delete</span></span><br><span class="line"></span><br><span class="line">data.info.address = <span class="string">'ä¸Šæµ·'</span> <span class="comment">// æ·±åº¦ç›‘å¬</span></span><br><span class="line"></span><br><span class="line">data.nums.push(<span class="number">4</span>) <span class="comment">// ç›‘å¬æ•°ç»„</span></span><br></pre></td></tr></table></figure>

<p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ApRqGd.png"  alt="ApRqGd"></p>
<h3 id="Object-defineProperty-çš„ç¼ºé™·"><a href="#Object-defineProperty-çš„ç¼ºé™·" class="headerlink" title="Object.defineProperty()çš„ç¼ºé™·"></a>Object.defineProperty()çš„ç¼ºé™·</h3><ul>
<li>æ·±åº¦ç›‘å¬æ—¶éœ€è¦é€’å½’åˆ°åº•ï¼Œä¸€æ¬¡æ€§è®¡ç®—é‡å¤§</li>
<li>æ— æ³•ç›‘å¬æ–°å¢å±æ€§/åˆ é™¤å±æ€§ï¼ˆVue.set / Vue.deleteï¼‰</li>
<li>æ— æ³•åŸç”Ÿç›‘å¬æ•°ç»„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</li>
</ul>
<h1 id="è™šæ‹ŸDOM-Virture-DOM"><a href="#è™šæ‹ŸDOM-Virture-DOM" class="headerlink" title="è™šæ‹ŸDOM(Virture DOM)"></a>è™šæ‹ŸDOM(Virture DOM)</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    <code>DOM</code>æ“ä½œæ—¢è€—æ—¶ä¹Ÿè€—è´¹æ€§èƒ½ï¼Œè€Œ<code>JS</code>çš„æ‰§è¡Œæ˜¯æ¯”è¾ƒå¿«çš„ã€‚ä»¥å‰ç”¨<code>jQuery</code>ï¼Œå¯ä»¥è‡ªè¡Œæ§åˆ¶<code>DOM</code>æ“ä½œçš„æ—¶æœºï¼Œæ‰‹åŠ¨è°ƒæ•´ã€‚è€Œ<code>Vue</code>å’Œ<code>React</code>éƒ½æ˜¯æ•°æ®é©±åŠ¨è§†å›¾ï¼Œå¦‚ä½•æœ‰æ•ˆæ§åˆ¶<code>DOM</code>æ“ä½œï¼Ÿå½“ä»£<code>web</code>é¡µé¢çš„å¤æ‚åº¦æ—¥ç›Šæå‡ï¼Œæœ‰äº†ä¸€å®šçš„å¤æ‚åº¦ï¼Œæƒ³å‡å°‘è®¡ç®—æ¬¡æ•°æ¯”è¾ƒéš¾ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½æŠŠè®¡ç®—ï¼Œæ›´å¤šåœ°è½¬ç§»ä¸º<code>JS</code>è®¡ç®—ã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯<code>vdom</code>ã€‚ç”¨<code>JS</code>æ¥æ¨¡æ‹Ÿ<code>DOM</code>ç»“æ„ï¼Œè®¡ç®—å‡ºæœ€å°çš„å˜æ›´ï¼Œå†æ¥æ“ä½œ<code>DOM</code>ã€‚</p>
<h2 id="ç”¨JSæ¨¡æ‹ŸDOMç»“æ„"><a href="#ç”¨JSæ¨¡æ‹ŸDOMç»“æ„" class="headerlink" title="ç”¨JSæ¨¡æ‹ŸDOMç»“æ„"></a>ç”¨JSæ¨¡æ‹ŸDOMç»“æ„</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>vdom<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">"font-size: 20px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ğŸŒŸğŸŒŸğŸŒŸä¸‰è¦ç´ </span></span><br><span class="line"><span class="comment"> * tag/el/sel: æ ‡ç­¾æˆ–è€…é€‰æ‹©å™¨</span></span><br><span class="line"><span class="comment"> * props: å±æ€§ã€æ ·å¼ã€äº‹ä»¶</span></span><br><span class="line"><span class="comment"> * children: å­å…ƒç´ /å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">    tag: <span class="string">'div'</span>,</span><br><span class="line">    props: &#123;</span><br><span class="line">        className: <span class="string">'container'</span>,</span><br><span class="line">        id: <span class="string">'div1'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    children: [</span><br><span class="line">        &#123;</span><br><span class="line">            tag: <span class="string">'p'</span>,</span><br><span class="line">            children: <span class="string">'vdom'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            tag: <span class="string">'ul'</span>,</span><br><span class="line">            props: &#123;</span><br><span class="line">                style: <span class="string">'font-size: 20px;'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            children: [</span><br><span class="line">                &#123;</span><br><span class="line">                    tag: <span class="string">'li'</span>,</span><br><span class="line">                    children: <span class="string">'a'</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="diffç®—æ³•"><a href="#diffç®—æ³•" class="headerlink" title="diffç®—æ³•"></a>diffç®—æ³•</h1><h2 id="diffç®—æ³•æ¦‚è¿°"><a href="#diffç®—æ³•æ¦‚è¿°" class="headerlink" title="diffç®—æ³•æ¦‚è¿°"></a>diffç®—æ³•æ¦‚è¿°</h2><ul>
<li><code>diff</code>å³å¯¹æ¯”ï¼Œæ˜¯ä¸€ä¸ªå¹¿æ³›çš„æ¦‚å¿µï¼Œå¦‚<code>linux</code> çš„<code>diff</code>å‘½ä»¤ã€<code>git diff</code>ç­‰</li>
<li>ä¸¤ä¸ª<code>js</code>å¯¹è±¡ä¹Ÿå¯ä»¥åš<code>diff</code>ï¼Œå¦‚ <a href="http://github.com/cujojs/jiff" target="_blank" rel="noopener">http://github.com/cujojs/jiff</a></li>
<li>ä¸¤æ£µæ ‘åš<code>diff</code>ï¼Œå¦‚è¿™é‡Œçš„ <code>vdom diff</code>ã€‚</li>
</ul>
<p>![image-20200714140541476](/Users/su/Library/Application Support/typora-user-images/image-20200714140541476.png)</p>
<h3 id="æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO-n-3"><a href="#æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO-n-3" class="headerlink" title="æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3):"></a>æ ‘çš„diffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3):</h3><ul>
<li>ç¬¬ä¸€ï¼Œéå†tree1ï¼›ç¬¬äºŒï¼Œéå†tree2ï¼›</li>
<li>ç¬¬ä¸‰ï¼Œæ’åºï¼›</li>
<li>å¦‚æœæœ‰1000ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±è¦è®¡ç®—10äº¿æ¬¡ï¼Œæ‰€ä»¥ç®—æ³•ä¸å¯ç”¨</li>
</ul>
<h2 id="ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O-n"><a href="#ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O-n" class="headerlink" title="ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O(n)"></a>ğŸŒŸğŸŒŸğŸŒŸä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O(n)</h2><ul>
<li>åªæ¯”è¾ƒåŒä¸€å±‚çº§ï¼Œä¸è·¨çº§æ¯”è¾ƒï¼›</li>
<li>tagä¸ç›¸åŒï¼Œåˆ™ç›´æ¥åˆ æ‰é‡å»ºï¼Œä¸å†æ·±åº¦æ¯”è¾ƒï¼›</li>
<li>tagå’Œkeyï¼Œä¸¤è€…éƒ½ç›¸åŒï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸åŒèŠ‚ç‚¹ï¼Œä¸å†æ·±åº¦æ¯”è¾ƒã€‚</li>
</ul>
<h2 id="Snabbdomæºç "><a href="#Snabbdomæºç " class="headerlink" title="Snabbdomæºç "></a>Snabbdomæºç </h2><p><a href="https://github.com/snabbdom/snabbdom" target="_blank" rel="noopener">snabbdom</a>æ˜¯ä¸€ä¸ªç®€æ´å¼ºå¤§çš„vdomåº“ï¼Œæ˜“å­¦æ˜“ç”¨ã€‚Vueä¹Ÿæ˜¯å‚è€ƒå®ƒæ¥å®ç°çš„vdomå’Œdiffã€‚</p>
<h3 id="patch-å‡½æ•°"><a href="#patch-å‡½æ•°" class="headerlink" title="patch()å‡½æ•°"></a>patch()å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">patch</span> (<span class="params">oldVnode: VNode | Element, vnode: VNode</span>): <span class="title">VNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i: number, <span class="attr">elm</span>: Node, <span class="attr">parent</span>: Node;</span><br><span class="line">    <span class="keyword">const</span> insertedVnodeQueue: VNodeQueue = [];</span><br><span class="line">    <span class="comment">// æ‰§è¡Œ pre hook</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; cbs.pre.length; ++i) cbs.pre[i]();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ vnode</span></span><br><span class="line">    <span class="keyword">if</span> (!isVnode(oldVnode)) &#123;</span><br><span class="line">      <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„ vnode ï¼Œå…³è”åˆ°è¿™ä¸ª DOM å…ƒç´ </span></span><br><span class="line">      oldVnode = emptyNodeAt(oldVnode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›¸åŒçš„ vnodeï¼ˆkey å’Œ sel éƒ½ç›¸ç­‰ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (sameVnode(oldVnode, vnode)) &#123;</span><br><span class="line">      <span class="comment">// vnode å¯¹æ¯”</span></span><br><span class="line">      patchVnode(oldVnode, vnode, insertedVnodeQueue);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸åŒçš„ vnode ï¼Œç›´æ¥åˆ æ‰é‡å»º</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      elm = oldVnode.elm!;</span><br><span class="line">      parent = api.parentNode(elm);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// é‡å»º</span></span><br><span class="line">      createElm(vnode, insertedVnodeQueue);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (parent !== <span class="literal">null</span>) &#123;</span><br><span class="line">        api.insertBefore(parent, vnode.elm!, api.nextSibling(elm));</span><br><span class="line">        removeVnodes(parent, [oldVnode], <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; insertedVnodeQueue.length; ++i) &#123;</span><br><span class="line">      insertedVnodeQueue[i].data!.hook!.insert!(insertedVnodeQueue[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; cbs.post.length; ++i) cbs.post[i]();</span><br><span class="line">    <span class="keyword">return</span> vnode;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="patchVnode-å‡½æ•°"><a href="#patchVnode-å‡½æ•°" class="headerlink" title="patchVnode()å‡½æ•°"></a>patchVnode()å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸŒŸğŸŒŸğŸŒŸ patchVnodeè¿‡ç¨‹</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">patchVnode</span> (<span class="params">oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œ prepatch hook</span></span><br><span class="line">    <span class="keyword">const</span> hook = vnode.data?.hook;</span><br><span class="line">    hook?.prepatch?.(oldVnode, vnode);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® vnode.elem</span></span><br><span class="line">    <span class="keyword">const</span> elm = vnode.elm = oldVnode.elm!;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// æ—§ children</span></span><br><span class="line">    <span class="keyword">let</span> oldCh = oldVnode.children <span class="keyword">as</span> VNode[];</span><br><span class="line">    <span class="comment">// æ–° children</span></span><br><span class="line">    <span class="keyword">let</span> ch = vnode.children <span class="keyword">as</span> VNode[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldVnode === vnode) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// hook ç›¸å…³</span></span><br><span class="line">    <span class="keyword">if</span> (vnode.data !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);</span><br><span class="line">      vnode.data.hook?.update?.(oldVnode, vnode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// vnode.text === undefined ï¼ˆvnode.children ä¸€èˆ¬æœ‰å€¼ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (isUndef(vnode.text)) &#123;</span><br><span class="line">      <span class="comment">// æ–°æ—§éƒ½æœ‰ children</span></span><br><span class="line">      <span class="keyword">if</span> (isDef(oldCh) &amp;&amp; isDef(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue);</span><br><span class="line">      <span class="comment">// æ–° children æœ‰ï¼Œæ—§ children æ—  ï¼ˆæ—§ text æœ‰ï¼‰</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isDef(ch)) &#123;</span><br><span class="line">        <span class="comment">// æ¸…ç©º text</span></span><br><span class="line">        <span class="keyword">if</span> (isDef(oldVnode.text)) api.setTextContent(elm, <span class="string">''</span>);</span><br><span class="line">        <span class="comment">// æ·»åŠ  children</span></span><br><span class="line">        addVnodes(elm, <span class="literal">null</span>, ch, <span class="number">0</span>, ch.length - <span class="number">1</span>, insertedVnodeQueue);</span><br><span class="line">      <span class="comment">// æ—§ child æœ‰ï¼Œæ–° child æ— </span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isDef(oldCh)) &#123;</span><br><span class="line">        <span class="comment">// ç§»é™¤ children</span></span><br><span class="line">        removeVnodes(elm, oldCh, <span class="number">0</span>, oldCh.length - <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// æ—§ text æœ‰</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isDef(oldVnode.text)) &#123;</span><br><span class="line">        api.setTextContent(elm, <span class="string">''</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// else : vnode.text !== undefined ï¼ˆvnode.children æ— å€¼ï¼‰</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldVnode.text !== vnode.text) &#123;</span><br><span class="line">      <span class="comment">// ç§»é™¤æ—§ children</span></span><br><span class="line">      <span class="keyword">if</span> (isDef(oldCh)) &#123;</span><br><span class="line">        removeVnodes(elm, oldCh, <span class="number">0</span>, oldCh.length - <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// è®¾ç½®æ–° text</span></span><br><span class="line">      api.setTextContent(elm, vnode.text!);</span><br><span class="line">    &#125;</span><br><span class="line">    hook?.postpatch?.(oldVnode, vnode);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="updateChildren-å‡½æ•°"><a href="#updateChildren-å‡½æ•°" class="headerlink" title="updateChildren()å‡½æ•°"></a>updateChildren()å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateChildren</span> (<span class="params">parentElm: Node,</span></span></span><br><span class="line"><span class="function"><span class="params">    oldCh: VNode[],</span></span></span><br><span class="line"><span class="function"><span class="params">    newCh: VNode[],</span></span></span><br><span class="line"><span class="function"><span class="params">    insertedVnodeQueue: VNodeQueue</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> oldStartIdx = <span class="number">0</span>, newStartIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> oldEndIdx = oldCh.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> oldStartVnode = oldCh[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> oldEndVnode = oldCh[oldEndIdx];</span><br><span class="line">    <span class="keyword">let</span> newEndIdx = newCh.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> newStartVnode = newCh[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> newEndVnode = newCh[newEndIdx];</span><br><span class="line">    <span class="keyword">let</span> oldKeyToIdx: KeyToIndexMap | <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">let</span> idxInOld: number;</span><br><span class="line">    <span class="keyword">let</span> elmToMove: VNode;</span><br><span class="line">    <span class="keyword">let</span> before: any;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (oldStartVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]; <span class="comment">// Vnode might have been moved left</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldEndVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newStartVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newEndVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¼€å§‹å’Œå¼€å§‹å¯¹æ¯”</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newStartVnode)) &#123;</span><br><span class="line">        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx];</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// ç»“æŸå’Œç»“æŸå¯¹æ¯”</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newEndVnode)) &#123;</span><br><span class="line">        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¼€å§‹å’Œç»“æŸå¯¹æ¯”</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newEndVnode)) &#123; <span class="comment">// Vnode moved right</span></span><br><span class="line">        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);</span><br><span class="line">        api.insertBefore(parentElm, oldStartVnode.elm!, api.nextSibling(oldEndVnode.elm!));</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx];</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç»“æŸå’Œå¼€å§‹å¯¹æ¯”</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newStartVnode)) &#123; <span class="comment">// Vnode moved left</span></span><br><span class="line">        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);</span><br><span class="line">        api.insertBefore(parentElm, oldEndVnode.elm!, oldStartVnode.elm!);</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ä»¥ä¸Šå››ä¸ªéƒ½æœªå‘½ä¸­</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldKeyToIdx === <span class="literal">undefined</span>) &#123;</span><br><span class="line">          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‹¿æ–°èŠ‚ç‚¹ key ï¼Œèƒ½å¦å¯¹åº”ä¸Š oldCh ä¸­çš„æŸä¸ªèŠ‚ç‚¹çš„ key</span></span><br><span class="line">        idxInOld = oldKeyToIdx[newStartVnode.key <span class="keyword">as</span> string];</span><br><span class="line">  </span><br><span class="line">        <span class="comment">// æ²¡å¯¹åº”ä¸Š</span></span><br><span class="line">        <span class="keyword">if</span> (isUndef(idxInOld)) &#123; <span class="comment">// New element</span></span><br><span class="line">          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm!);</span><br><span class="line">          newStartVnode = newCh[++newStartIdx];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¯¹åº”ä¸Šäº†</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// å¯¹åº”ä¸Š key çš„èŠ‚ç‚¹</span></span><br><span class="line">          elmToMove = oldCh[idxInOld];</span><br><span class="line"></span><br><span class="line">          <span class="comment">// sel æ˜¯å¦ç›¸ç­‰ï¼ˆsameVnode çš„æ¡ä»¶ï¼‰</span></span><br><span class="line">          <span class="keyword">if</span> (elmToMove.sel !== newStartVnode.sel) &#123;</span><br><span class="line">            <span class="comment">// New element</span></span><br><span class="line">            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm!);</span><br><span class="line">          </span><br><span class="line">          <span class="comment">// sel ç›¸ç­‰ï¼Œkey ç›¸ç­‰</span></span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);</span><br><span class="line">            oldCh[idxInOld] = <span class="literal">undefined</span> <span class="keyword">as</span> any;</span><br><span class="line">            api.insertBefore(parentElm, elmToMove.elm!, oldStartVnode.elm!);</span><br><span class="line">          &#125;</span><br><span class="line">          newStartVnode = newCh[++newStartIdx];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (oldStartIdx &lt;= oldEndIdx || newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class="line">        before = newCh[newEndIdx + <span class="number">1</span>] == <span class="literal">null</span> ? <span class="literal">null</span> : newCh[newEndIdx + <span class="number">1</span>].elm;</span><br><span class="line">        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ¨¡æ¿ç¼–è¯‘"><a href="#æ¨¡æ¿ç¼–è¯‘" class="headerlink" title="æ¨¡æ¿ç¼–è¯‘"></a>æ¨¡æ¿ç¼–è¯‘</h1><p>â€‹    æ¨¡æ¿æ˜¯<code>Vue</code>å¼€å‘ä¸­æœ€å¸¸ç”¨çš„éƒ¨åˆ†ï¼Œå®ƒä¸æ˜¯<code>html</code>ï¼Œæœ‰æŒ‡ä»¤ã€æ’å€¼ã€JSè¡¨è¾¾å¼ã€‚èƒ½å®ç°åˆ¤æ–­ã€å¾ªç¯ã€‚<code>html</code>åªæ˜¯æ ‡ç­¾è¯­è¨€ï¼Œåªæœ‰<code>JS</code>æ‰èƒ½å®ç°<u>é¡ºåºæ‰§è¡Œã€åˆ¤æ–­ã€å¾ªç¯</u>ï¼ˆ<strong><code>å›¾çµå®Œå¤‡çš„</code></strong>ï¼‰ã€‚å› æ­¤ï¼Œæ¨¡æ¿ä¸€å®šæ˜¯è½¬æ¢ä¸ºæŸç§<code>JS</code>ä»£ç ï¼Œå³ç¼–è¯‘æ¨¡æ¿ã€‚äº†è§£äº†æ¨¡æ¿æ¸²æŸ“ï¼Œå°±èƒ½çŸ¥é“â€œç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹â€ã€‚</p>
<ul>
<li>å‰ç½®çŸ¥è¯†ï¼š<code>JS</code>çš„<code>with</code>è¯­æ³•</li>
<li><code>vue template complier</code> å°†æ¨¡æ¿ç¼–è¯‘ä¸º<code>render</code>å‡½æ•°</li>
<li>æ¨¡æ¿ç¼–è¯‘ä¸º<code>render</code>å‡½æ•°ï¼Œæ‰§è¡Œ<code>render</code>å‡½æ•°ç”Ÿæˆ<code>vnode</code>ï¼ŒåŸºäº<code>vnode</code>å†å»æ‰§è¡Œ<code>patch</code>å’Œ<code>diff</code>ã€‚</li>
<li>ä½¿ç”¨<code>webpack</code>çš„<code>vue-loader</code>ï¼Œä¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹ç¼–è¯‘æ¨¡æ¿ï¼Œå³è§£ææ¨¡æ¿ä¸º<code>render</code>å‡½æ•°ï¼ˆé‡è¦ï¼‰</li>
</ul>
<h2 id="withè¯­æ³•"><a href="#withè¯­æ³•" class="headerlink" title="withè¯­æ³•"></a>withè¯­æ³•</h2><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/FX9vtl.png"  alt="FX9vtl"></p>
<ul>
<li>æ”¹å˜ <code>{}</code> å†…è‡ªç”±å˜é‡çš„æŸ¥æ‰¾æ–¹å¼ï¼Œå³å½“ä½œ<code>obj</code>å±æ€§æ¥æŸ¥æ‰¾</li>
<li>å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„<code>obj</code>å±æ€§ï¼Œå°±ä¼šæŠ¥é”™</li>
<li>ğŸŒŸğŸŒŸğŸŒŸ <code>with</code>è¦æ…ç”¨ï¼Œå®ƒæ‰“ç ´äº†ä½œç”¨åŸŸè§„åˆ™ï¼Œæ˜“è¯»æ€§å˜å·®ï¼ˆåŸºæœ¬ä¸Šä¸æ¨èä½¿ç”¨ï¼‰</li>
</ul>
<h2 id="æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°"><a href="#æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°" class="headerlink" title="æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°"></a>æ¨¡æ¿ç¼–è¯‘å…·ä½“å®ç°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compiler = <span class="built_in">require</span>(<span class="string">'vue-template-compiler'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å€¼</span></span><br><span class="line"><span class="keyword">const</span> template = <span class="string">`&lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;`</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('p',[_v(_s(message))])&#125;</span></span><br><span class="line"><span class="comment">// with(this)&#123;return createElement('p',[createTextVNode(toString(message))])&#125;</span></span><br><span class="line"><span class="comment">// _c == createElement == h</span></span><br><span class="line"><span class="comment">// h -&gt; vnode | createElement -&gt; vnode</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // è¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment">// const template = `&lt;p&gt;&#123;&#123;flag ? message : 'no message found'&#125;&#125;&lt;/p&gt;`</span></span><br><span class="line"><span class="comment">// // with(this)&#123;return _c('p',[_v(_s(flag ? message : 'no message found'))])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // å±æ€§å’ŒåŠ¨æ€å±æ€§</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;div id="div1" class="container"&gt;</span></span><br><span class="line"><span class="comment">//         &lt;img :src="imgUrl"/&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/div&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('div',</span></span><br><span class="line"><span class="comment">//      &#123;staticClass:"container",attrs:&#123;"id":"div1"&#125;&#125;,</span></span><br><span class="line"><span class="comment">//      [</span></span><br><span class="line"><span class="comment">//          _c('img',&#123;attrs:&#123;"src":imgUrl&#125;&#125;)])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // æ¡ä»¶</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;div&gt;</span></span><br><span class="line"><span class="comment">//         &lt;p v-if="flag === 'a'"&gt;A&lt;/p&gt;</span></span><br><span class="line"><span class="comment">//         &lt;p v-else&gt;B&lt;/p&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/div&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('div',[(flag === 'a')?_c('p',[_v("A")]):_c('p',[_v("B")])])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;ul&gt;</span></span><br><span class="line"><span class="comment">//         &lt;li v-for="item in list" :key="item.id"&gt;&#123;&#123;item.title&#125;&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('ul',_l((list),function(item)&#123;return _c('li',&#123;key:item.id&#125;,[_v(_s(item.title))])&#125;),0)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äº‹ä»¶</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;button @click="clickHandler"&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('button',&#123;on:&#123;"click":clickHandler&#125;&#125;,[_v("submit")])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// v-model</span></span><br><span class="line"><span class="comment">// const template = `&lt;input type="text" v-model="name"&gt;`</span></span><br><span class="line"><span class="comment">// ä¸»è¦çœ‹ input äº‹ä»¶</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c('input',&#123;directives:[&#123;name:"model",rawName:"v-model",value:(name),expression:"name"&#125;],attrs:&#123;"type":"text"&#125;,domProps:&#123;"value":(name)&#125;,on:&#123;"input":function($event)&#123;if($event.target.composing)return;name=$event.target.value&#125;&#125;&#125;)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// render å‡½æ•°</span></span><br><span class="line"><span class="comment">// è¿”å› vnode</span></span><br><span class="line"><span class="comment">// patch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘</span></span><br><span class="line"><span class="keyword">const</span> res = compiler.compile(template)</span><br><span class="line"><span class="built_in">console</span>.log(res.render)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸŒŸğŸŒŸğŸŒŸ ä» vue æºç ä¸­æ‰¾åˆ°ç¼©å†™å‡½æ•°çš„å«ä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">installRenderHelpers</span> (<span class="params">target</span>) </span>&#123;</span><br><span class="line">    target._c = createElement;</span><br><span class="line">    target._o = markOnce;</span><br><span class="line">    target._n = toNumber;</span><br><span class="line">    target._s = toString;</span><br><span class="line">    target._l = renderList;</span><br><span class="line">    target._t = renderSlot;</span><br><span class="line">    target._q = looseEqual;</span><br><span class="line">    target._i = looseIndexOf;</span><br><span class="line">    target._m = renderStatic;</span><br><span class="line">    target._f = resolveFilter;</span><br><span class="line">    target._k = checkKeyCodes;</span><br><span class="line">    target._b = bindObjectProps;</span><br><span class="line">    target._v = createTextVNode;</span><br><span class="line">    target._e = createEmptyVNode;</span><br><span class="line">    target._u = resolveScopedSlots;</span><br><span class="line">    target._g = bindObjectListeners;</span><br><span class="line">    target._d = bindDynamicKeys;</span><br><span class="line">    target._p = prependModifier;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template"><a href="#vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template" class="headerlink" title="vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template"></a>vueç»„ä»¶ä¸­ä½¿ç”¨renderä»£æ›¿template</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'heading'</span>, &#123;</span><br><span class="line">    <span class="comment">// template: `xxx`,</span></span><br><span class="line">    render: <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createElement(</span><br><span class="line">            <span class="string">'h'</span> + <span class="keyword">this</span>.level, <span class="comment">// h1ã€h2ç­‰æ ‡é¢˜</span></span><br><span class="line">            [</span><br><span class="line">                createElement(<span class="string">'a'</span>, &#123;</span><br><span class="line">                    attrs: &#123;</span><br><span class="line">                        name: <span class="string">'headerId'</span>,</span><br><span class="line">                        href: <span class="string">'#'</span> + <span class="string">'headerId'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, <span class="string">'this is a tag'</span>)</span><br><span class="line">            ]</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨æœ‰äº›å¤æ‚æƒ…å†µä¸­ï¼Œä¸èƒ½ç”¨<code>template</code>ï¼Œå¯ä»¥è€ƒè™‘ç”¨<code>render</code></li>
<li><code>React</code>ä¸€ç›´éƒ½åœ¨ç”¨<code>render</code>ï¼ˆæ²¡æœ‰æ¨¡æ¿ï¼‰ï¼Œå’Œè¿™é‡Œä¸€æ ·</li>
</ul>
<h1 id="vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°"><a href="#vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°" class="headerlink" title="vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°"></a>vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°</h1><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/I4Rn1o.jpg"  alt="I4Rn1o"></p>
<h2 id="åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹"><a href="#åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹" class="headerlink" title="åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹"></a>åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹</h2><ol>
<li>è§£ææ¨¡æ¿ä¸º render å‡½æ•°ï¼ˆæˆ–åœ¨å¼€å‘ç¯å¢ƒä¸­å·²å®Œæˆï¼Œvue-loaderï¼‰</li>
<li>è§¦å‘å“åº”å¼ï¼Œç›‘å¬ data å±æ€§ getter setter</li>
<li>æ‰§è¡Œ render å‡½æ•°ï¼Œç”Ÿæˆvnode ï¼Œ patch(elem, vnode)</li>
</ol>
<h3 id="æ‰§è¡Œrenderå‡½æ•°-ä¼šè§¦å‘getter"><a href="#æ‰§è¡Œrenderå‡½æ•°-ä¼šè§¦å‘getter" class="headerlink" title="æ‰§è¡Œrenderå‡½æ•° ä¼šè§¦å‘getter"></a>æ‰§è¡Œrenderå‡½æ•° ä¼šè§¦å‘getter</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123; message &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">	data()	&#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      message: 'hello',	/</span><span class="regexp">/ ä¼šè§¦å‘ get</span></span><br><span class="line"><span class="regexp">      city: 'hangzhou' /</span><span class="regexp">/ ä¸ä¼šè§¦å‘ get å› ä¸ºæ¨¡æ¿æ²¡æœ‰ç”¨åˆ°ï¼Œå³å’Œè§†å›¾æ²¡æœ‰å…³ç³»</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="æ›´æ–°è¿‡ç¨‹"><a href="#æ›´æ–°è¿‡ç¨‹" class="headerlink" title="æ›´æ–°è¿‡ç¨‹"></a>æ›´æ–°è¿‡ç¨‹</h2><ol>
<li>ä¿®æ”¹ dataï¼Œè§¦å‘setterï¼ˆæ­¤å‰åœ¨getterä¸­å·²è¢«ç›‘å¬ï¼‰</li>
<li>é‡æ–°æ‰§è¡Œ render å‡½æ•°ï¼Œç”Ÿæˆ newVnode</li>
<li>patch(vnode, newVnode)</li>
</ol>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">suvan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://iszw.github.io/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/">https://iszw.github.io/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://iszw.github.io" target="_blank">iSzw_Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a><a class="post-meta__tags" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/">å“åº”å¼</a><a class="post-meta__tags" href="/tags/mvvm/">mvvm</a><a class="post-meta__tags" href="/tags/vdom/">vdom</a><a class="post-meta__tags" href="/tags/diff/">diff</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Jza4Q9.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> æ‰“èµ<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/payQRCode.png" alt="å‘æˆ‘æ‰“èµä¸¤å…ƒ"/><div class="post-qr-code__desc">å‘æˆ‘æ‰“èµä¸¤å…ƒ</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/06/06/Daliy%20FE%20Coding%20Tips/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/eud1pF.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Daliy FE Coding Tips</div></div></a></div><div class="next-post pull_right"><a href="/2019/03/21/Git%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fu0VMt.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Gitå‘½ä»¤è¯¦è§£</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/06/06/Daliy FE Coding Tips/" title="Daliy FE Coding Tips"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/eud1pF.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-06-06</div><div class="relatedPosts_title">Daliy FE Coding Tips</div></div></a></div><div class="relatedPosts_item"><a href="/2018/03/14/Vue2.0æ­å»ºæ—…æ¸¸ç½‘ç«™å¼€å‘ç¬”è®°/" title="Vue2.0æ­å»ºæ—…æ¸¸ç½‘ç«™å¼€å‘ç¬”è®°"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ZW1Rws.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-03-14</div><div class="relatedPosts_title">Vue2.0æ­å»ºæ—…æ¸¸ç½‘ç«™å¼€å‘ç¬”è®°</div></div></a></div><div class="relatedPosts_item"><a href="/2017/12/14/Vue:æ„å»ºæ•°æ®é©±åŠ¨çš„webç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶/" title="Vue:æ„å»ºæ•°æ®é©±åŠ¨çš„webç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/IR0uv5.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-12-14</div><div class="relatedPosts_title">Vue:æ„å»ºæ•°æ®é©±åŠ¨çš„webç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶</div></div></a></div><div class="relatedPosts_item"><a href="/2018/09/05/Vueå¼€å‘ä¸­çš„å‡ ä¸ªå°tips/" title="Vueå¼€å‘ä¸­çš„å‡ ä¸ªå°tips"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fHbVno.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-09-05</div><div class="relatedPosts_title">Vueå¼€å‘ä¸­çš„å‡ ä¸ªå°tips</div></div></a></div><div class="relatedPosts_item"><a href="/2017/09/21/Vueçš„åŸºç¡€çŸ¥è¯†/" title="Vueçš„åŸºç¡€çŸ¥è¯†"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/fHbVno.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-09-21</div><div class="relatedPosts_title">Vueçš„åŸºç¡€çŸ¥è¯†</div></div></a></div><div class="relatedPosts_item"><a href="/2017/12/10/åŸºäºVue+Webpackæ‰“é€ todoAppåº”ç”¨/" title="åŸºäºVue+Webpackæ‰“é€ todoAppåº”ç”¨"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/93EiSR.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-12-10</div><div class="relatedPosts_title">åŸºäºVue+Webpackæ‰“é€ todoAppåº”ç”¨</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: true,
  verify: false,
  appId: 'brdzyt5vvqHKSx1EeqP329Na-9Nh9j0Va',
  appKey: 'NuTaxQbs1RIE2eSA5cpcVq4F',
  placeholder: 'è¨˜å¾—ç•™ä¸‹ä½ çš„æ˜µç¨±å’Œéƒµç®±...å¯ä»¥å¿«é€Ÿæ”¶åˆ°å›å¾©',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'en',
  recordIP: true,
  serverURLs: ''
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2020 By suvan</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/ClickShowText.js"></script><script src="https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {
      pangu.spacingElementById('content-inner')
})</script><script src="/js/search/local-search.js"></script></body></html>