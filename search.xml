<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CSS经典布局问题整理</title>
    <url>/2017/03/14/CSS%20%E7%BB%8F%E5%85%B8%E5%B8%83%E5%B1%80%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: CSS布局相关。</p>
</blockquote>
<a id="more"></a>

<h1 id="CSS基础知识"><a href="#CSS基础知识" class="headerlink" title="CSS基础知识"></a>CSS基础知识</h1><ul>
<li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Getting_started">MDN-CSS入门教程</a>： MDN的官方文档</p>
</li>
<li><p><a href="http://zh.learnlayout.com/">学习CSS布局</a>： 排版不错，简短精悍</p>
</li>
</ul>
<h1 id="CSS定位问题"><a href="#CSS定位问题" class="headerlink" title="CSS定位问题"></a>CSS定位问题</h1><p>主要就是经典的绝对定位、相对定位问题</p>
<ul>
<li><p><a href="http://www.barelyfitz.com/screencast/html-training/css/positioning/">10个文档学布局</a>： 通过十个例子讲解布局，主要涉及相对布局，绝对布局，浮动。</p>
</li>
<li><p><a href="http://ife.baidu.com/note/detail/id/662">百度前端学院笔记 - 理解绝对定位</a>： 文章本身一般，几篇参考文献比较详细</p>
</li>
<li><p><a href="http://www.w3cplus.com/css/advanced-html-css-lesson2-detailed-css-positioning.html">HTML和CSS高级指南之二——定位详解</a>： 介绍浮动的使用，详细介绍定位的技巧，包括如何准确的给元素在 X 轴、Y 轴和 Z 轴定位</p>
</li>
</ul>
<h1 id="三栏式布局"><a href="#三栏式布局" class="headerlink" title="三栏式布局"></a>三栏式布局</h1><p>涉及浮动和清除浮动，主要讲解“圣杯”和“双飞翼”两种解决方法。这两种方法实现的都是三栏布局，两边的盒子宽度固定，中间盒子自适应，它们实现的效果是一样的，差别在于其实现的思想。</p>
<h2 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h2><p>圣杯：父盒子包含三个子盒子（左，中，右）</p>
<ul>
<li>中间盒子的宽度设置为 width: 100%; 独占一行</li>
<li>使用负边距(均是 margin-left)把左右两边的盒子都拉上去和中间盒子同一行<ul>
<li>.left {margin-left:-100%;} 把左边的盒子拉上去</li>
<li>.right {margin-left：-右边盒子宽度px;} 把右边的盒子拉上去</li>
</ul>
</li>
<li>父盒子设置左右的 padding 来为左右盒子留位置</li>
<li>对左右盒子使用相对布局来占据 padding 的空白，避免中间盒子的内容被左右盒子覆盖</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 圣杯的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 中间的 div 必须写在最前面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h2><p>双飞翼：父盒子包含三个子盒子（左，中，右），中间的子盒子里再加一个子盒子。</p>
<ul>
<li>中间盒子的宽度设置为 width: 100%; 独占一行</li>
<li>使用负边距(均是 margin-left)把左右两边的盒子都拉上去和中间盒子同一行</li>
<li>在中间盒子里面再添加一个 div，然后对这个 div 设置 margin-left 和 margin-right来为左右盒子留位置</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 双飞翼的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 中间的 div 必须写在最前面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle-inner&quot;</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="圣杯和双飞翼异同"><a href="#圣杯和双飞翼异同" class="headerlink" title="圣杯和双飞翼异同"></a>圣杯和双飞翼异同</h2><p>圣杯布局和双飞翼布局解决的问题是一样的，都是两边定宽，中间自适应的三栏布局，中间栏要在放在文档流前面以优先渲染。</p>
<ul>
<li>两种方法基本思路都相同：三栏全部 float 浮动。首先让中间盒子 100% 宽度占满同一高度的空间，在左右两个盒子被挤出中间盒子所在区域时，使用 margin-left 的负值将左右两个盒子拉回与中间盒子同一高度的空间。接下来进行一些调整避免中间盒子的内容被左右盒子遮挡。</li>
<li>主要区别在于 如何使中间盒子的内容不被左右盒子遮挡：<ul>
<li>圣杯布局的方法：设置父盒子的 padding 值为左右盒子留出空位，再利用相对布局对左右盒子调整位置占据 padding 出来的空位</li>
<li>双飞翼布局的方法：在中间盒子里再增加一个子盒子，直接设置这个子盒子的 margin 值来让出空位，而不用再调整左右盒子</li>
</ul>
</li>
</ul>
<p>简单说起来就是双飞翼布局比圣杯布局多创建了一个 div，但不用相对布局了，少设置几个属性。</p>
<h2 id="利用浮动实现"><a href="#利用浮动实现" class="headerlink" title="利用浮动实现"></a>利用浮动实现</h2><p>我自己使用浮动也实现了三栏式布局：左边盒子左浮动，右边盒子右浮动，中间盒子利用 margin-left 和 margin-right 来为左右盒子留位置，同时父盒子设置 overflow: auto; 来避免子盒子溢出。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 浮动实现的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 中间的 div 必须写在最后面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>三栏式布局参考下面几个链接:</p>
<ul>
<li><a href="http://www.w3cplus.com/blog/104.html">CSS三栏布局——中间固定两边自适应宽度</a>： w3cplus 的文章，使用了双飞翼和浮动实现两侧定宽、中间自适应，也实现了两侧自适应、中间定宽</li>
<li><a href="http://www.jianshu.com/p/f9bcddb0e8b4">简书 - 圣杯布局和双飞翼布局(前端面试必看)</a>：只讲了圣杯，不过特别详细</li>
<li><a href="https://alistapart.com/article/holygrail">In Search of the Holy Grail</a>：圣杯布局的来源</li>
<li><a href="http://ife.baidu.com/note/detail/id/1025">百度前端学院笔记 - 三栏式布局之双飞翼与圣杯</a>：百度前端学院学员的前端学习笔记</li>
</ul>
<p>三栏式布局涉及到负 magin 和 清除浮动的问题。</p>
<h1 id="负magin"><a href="#负magin" class="headerlink" title="负magin"></a>负magin</h1><ul>
<li><a href="https://www.smashingmagazine.com/2009/07/the-definitive-guide-to-using-negative-margins/">负margin用法权威指南</a>：The Definitive Guide to Using Negative Margins 的译文,介绍了负 magin 的一些性质和很多实用技巧</li>
<li><a href="http://www.jianshu.com/p/549aaa5fabaa">简书 - margin为负值产生的影响和常见布局应用</a>：包括对自身的影响，对文档流的影响，以及一些在布局中的应用技巧(比如去除列表右边框，负边距+定位实现水平垂直居中，去除列表最后一个 li 元素的 border-bottom，多列等高)</li>
<li><a href="http://www.cnblogs.com/2050/archive/2012/08/13/2636467.html">博客园 - CSS布局奇淫巧计之-强大的负边距</a>：和上文内容差不多</li>
</ul>
<p>简单总结几点：</p>
<ul>
<li>不使用 float 的话，负 margin 元素是不会破坏页面的文档流。所以如果你使用负 margin 上移一个元素，所有跟随的元素都会被上移(而 relative 定位的元素则不同，会保留原位置，影响文档流)</li>
<li>当 static 元素的 margin-top/margin-left 被赋予负值时，元素将被拉进指定的方向</li>
<li>如果你设置 margin-bottom/right 为负数，元素并不会如你所想的那样向下/右移动，而是将后续的元素拖拉进来，覆盖本来的元素</li>
<li>当元素不存在 width 属性或者 width: auto 的时候，负 margin 会增加元素的宽度</li>
<li>margin-top 为负值不会增加高度，只会产生向上位移;margin-bottom 为负值不会产生位移，会减少自身的供 CSS 读取的高度，影响下方的元素位置；上下相邻的元素两者均为负时，效果不叠加，取负值更多的那个效果</li>
</ul>
<h1 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h1><p>清除浮动主要是为了解决高度塌陷问题。而简单的 clear: both 并不能解决这个问题，所以引出了许多解决方案。</p>
<ul>
<li><a href="http://stackoverflow.com/questions/211383/what-methods-of-clearfix-can-i-use">StackOverflow - What methods of ‘clearfix’ can I use?</a>：清除浮动黑科技完整解读</li>
<li><a href="http://www.iyunlu.com/view/css-xhtml/55.html">那些年我们一起清除过的浮动</a>：神文，把“清除浮动”定义为“闭合浮动”，把问题由来和解决方案都讲清楚了，并且分析了各种解决方案的优劣。</li>
</ul>
<p>各种解决方案在上面的链接里有很详细的说明了，这里就不赘述了。大体分为两类：</p>
<ul>
<li>其一，通过在浮动元素的末尾添加一个空元素，设置 clear: both 属性，after 伪元素其实也是通过 content 在元素的后面生成了内容为一个点的块级元素</li>
<li>其二，通过设置父元素 overflow 或者 display: table 属性来闭合浮动</li>
</ul>
<p>顺便补充一句，clear float(例如 clear: left) 是对某个元素设置，以避免其某一边有浮动元素，即对当前元素产生约束，约束的边界为其他的浮动元素。对于已经浮动的元素，设置 clear float 是无效的。</p>
<h1 id="居中布局"><a href="#居中布局" class="headerlink" title="居中布局"></a>居中布局</h1><p><a href="https://css-tricks.com/centering-css-complete-guide/">Centering in CSS: A Complete Guide</a>：非常全面的居中定位博客，包括各种情况下的水平居中，垂直居中和水平垂直居中方案。有展示示例及相应的 HTML 和 CSS 代码<br>文章大致结构：</p>
<p>1 水平居中</p>
<ul>
<li>对于行内元素(inline)：text-align: center</li>
<li>对于块级元素(block)：设置宽度且 marigin-left 和 margin-right 是设成 auto</li>
<li>对于多个块级元素：对父元素设置 text-align: center;，对子元素设置 display: inline-block;；或者使用 flex 布局</li>
</ul>
<p>2 垂直居中</p>
<ul>
<li>对于行内元素(inline)<ul>
<li>单行：设置上下 pandding 相等；或者设置 line-height 和 height 相等</li>
<li>多行：设置上下 pandding 相等；或者设置 display: table-cell; 和 vertical-align: middle;；或者使用 flex 布局；或者使用伪元素</li>
</ul>
</li>
<li>对于块级元素(block)：下面前两种方案，父元素需使用相对布局<ul>
<li>已知高度：子元素使用绝对布局 top: 50%;，再用负的 margin-top 把子元素往上拉一半的高度</li>
<li>未知高度：子元素使用绝对布局 position: absolute; top: 50%; transform: translateY(-50%)</li>
<li>使用 Flexbox：选择方向，justify-content: center</li>
</ul>
</li>
</ul>
<p>3 水平垂直居中</p>
<ul>
<li>定高定宽：先用绝对布局 top: 50%; left: 50%;，再用和宽高的一半相等的负 margin 把子元素回拉</li>
<li>高度和宽度未知：先用绝对布局 top: 50%; left: 50%;，再设置 transform: translate(-50%, -50%)</li>
<li>使用 Flexbox：justify-content: center; align-items: center</li>
</ul>
<h1 id="响应式设计"><a href="#响应式设计" class="headerlink" title="响应式设计"></a>响应式设计</h1><p>响应式设计（Responsive Design) 是一种让网站针对不同的浏览器和设备呈现不同显示效果的策略。</p>
<p><code>媒体查询(Media Queries)</code>是做此事所需的最强大的工具。</p>
<blockquote>
<p>注： Responsive Web Design ＝ RWD，Adaptive Web Design ＝ AWD</p>
</blockquote>
<p>RWD：</p>
<ul>
<li>采用 CSS 的 media query 技术</li>
<li>流体布局（fluid grids）</li>
<li>自适应的图片/视频等资源素材<br>（为小、中、大屏幕做一些优化，目的是让任何尺寸的屏幕空间都能得到充分利用）</li>
</ul>
<p>AWD：</p>
<ul>
<li>CSS media query 技术（仅针对有限几种预设的屏幕尺寸设计）</li>
<li>用 JavaScript 来操作 HTML 内容</li>
<li>在服务器端操作 HTML 内容（比如为移动端减少内容，为桌面端提供更多内容）</li>
</ul>
<p>可以参考 Bootstrap 的网格系统：<a href="http://getbootstrap.com/css/#grid-less">http://getbootstrap.com/css/#grid-less</a></p>
<blockquote>
<p>The Bootstrap 3 grid system has four tiers of classes: xs (phones), sm (tablets), md (desktops), and lg (larger desktops).</p>
</blockquote>
<p>自己实现网格系统： <a href="http://j4n.co/blog/Creating-your-own-css-grid-system">Creating Your Own CSS Grid System</a></p>
<h1 id="Flexbox布局"><a href="#Flexbox布局" class="headerlink" title="Flexbox布局"></a>Flexbox布局</h1><p><a href="http://isuziwei.cn/2017/03/14/Flex%E5%B8%83%E5%B1%80%E8%AF%AD%E6%B3%95%E6%95%99%E7%A8%8B/">点我参考</a>本博客另一篇文章。</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>study</tag>
        <tag>position</tag>
        <tag>absolute</tag>
        <tag>relative</tag>
        <tag>flex</tag>
        <tag>float</tag>
        <tag>margin</tag>
        <tag>center</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS实现垂直水平居中</title>
    <url>/2017/03/18/CSS%E5%AE%9E%E7%8E%B0%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="CSS实现垂直水平居中"><a href="#CSS实现垂直水平居中" class="headerlink" title="CSS实现垂直水平居中"></a>CSS实现垂直水平居中</h1><a id="more"></a>

<ul>
<li><strong>第一种方法（position:absolute，负margin法）</strong></li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.box</span>&#123;</span><br><span class="line">weight:<span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">400px</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--把元素变成定位元素--&gt;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的定位位置，距离上、左都为<span class="number">50%</span>--&gt;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">50%</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的左外边距、上外边距为宽高的负<span class="number">1</span>/<span class="number">2</span>--&gt;</span><br><span class="line"><span class="attribute">margin-left</span>:-<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">margin-top</span>:-<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>优点：兼容性好；缺点：必须固定元素的宽高</p>
</blockquote>
<ul>
<li><strong>第二种方法（使用css3的新属性transform:translate(x,y)）</strong></li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.box</span>&#123;</span><br><span class="line">weight:<span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">400px</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--把元素变成定位元素--&gt;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的定位位置，距离上、左都为<span class="number">50%</span>--&gt;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">50%</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的相对于自身的偏移度为负<span class="number">50%</span>(也就是元素自身尺寸的一半)--&gt;</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这是css3里的样式，在移动端用得较多；缺点：兼容性不好，只支持IE9+的浏览器。</p>
</blockquote>
<ul>
<li><strong>第三种方法（设置margin为auto）</strong></li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.box</span>&#123;</span><br><span class="line">weight:<span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">400px</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--把元素变成定位元素--&gt;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的定位位置，距离上、下、左、右都为<span class="number">0</span>--&gt;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&lt;!--设置元素的<span class="attribute">margin</span>样式值为 auto--&gt;</span><br><span class="line"><span class="attribute">margin</span>:auto;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>优点：兼容性较好；缺点：不支持IE7以下的浏览器。</p>
</blockquote>
<ul>
<li><strong>第四种方法（inline-block方法）</strong></li>
</ul>
<p>场景： 一个块状元素A内 有若干个块状元素B，要达到的效果是 ，所有块状元素B 在 元素A 内水平居中显示。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>首先，我们要设置元素A的大小为500px，设置背景色为green方便查看。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.A</span>｛</span><br><span class="line">　　<span class="attribute">width</span>:<span class="number">500px</span>;</span><br><span class="line">　　backgrond-<span class="attribute">color</span>:green;</span><br><span class="line">｝</span><br></pre></td></tr></table></figure>
<p>然后， 设置所有元素B 的宽度为100px，高度为100px，外边据都为5px，背景色为#000方便查看。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.B</span>｛</span><br><span class="line">　　<span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">　　<span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">　　magin:<span class="number">5px</span>;</span><br><span class="line">　　backgrond-<span class="attribute">color</span>:green;</span><br><span class="line">｝</span><br></pre></td></tr></table></figure>
<p>此时的效果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B31.png" alt="垂直水平1"></p>
<p>我们要做的是，先把所有的元素B都设置为行内块级元素，让他们都排成一行，即使用：display:inline-block；</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%20%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B32.png" alt="垂直水平2"></p>
<p>最后就是让所有的元素B居中了， 到这里，相信很多人就猜到下一步要做什么了，我锦上添花，解释一下。</p>
<p>先想一想，如果是行内元素， 我们一般让它怎么居中呢？答：当然是给它的父容器加一个text-align:center的样式。</p>
<p>这里我们已经把所有的元素B变成了行内块， 也就有了行内元素的特性，所以，我们下一步要做的就是给元素A加text-align:center，</p>
<p>这样我们的目的就达到了，请看效果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B33.png" alt="垂直水平3"></p>
<blockquote>
<p>优点：兼容性较好；缺点：父元素和子元素的宽度都要已知。</p>
</blockquote>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>study</tag>
        <tag>居中</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6学习【一】</title>
    <url>/2018/01/06/ES6%E5%AD%A6%E4%B9%A0%E3%80%90%E4%B8%80%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info:es6的学习笔记，包括变量定义关键字let&amp;const、块级作用域Scope、箭头函数Arrow Function、类Class以及异步解决方案Promise</p>
</blockquote>
<a id="more"></a>

<h1 id="变量定义关键字-let-amp-const"><a href="#变量定义关键字-let-amp-const" class="headerlink" title="变量定义关键字 (let &amp; const)"></a>变量定义关键字 (let &amp; const)</h1><h2 id="es5中定义常量"><a href="#es5中定义常量" class="headerlink" title="es5中定义常量"></a>es5中定义常量</h2><ul>
<li>JS中全局对象是window，对于常量来说就可以将它绑定到window上</li>
<li>所用到的就是Object的defineProperty方法，它的第三个参数是一个描述符</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中定义一个常量的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">window</span>,<span class="string">&quot;a&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;)</span><br><span class="line">a = <span class="number">200</span> <span class="comment">//不会报错，但是没有执行成功</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">//100</span></span><br></pre></td></tr></table></figure>
<h2 id="es6中定义常量"><a href="#es6中定义常量" class="headerlink" title="es6中定义常量"></a>es6中定义常量</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * es6中定义一个常量的写法</span><br><span class="line"> * 直接使用const修饰符</span><br><span class="line"> */</span><br><span class="line">let b = 100</span><br><span class="line">b = 200 //正确</span><br><span class="line">console.log(b) // 200</span><br><span class="line"></span><br><span class="line">const c = 100</span><br><span class="line">c = 200 //报错</span><br><span class="line">console.log(c) // 100</span><br></pre></td></tr></table></figure>
<h1 id="块级作用域-Scope"><a href="#块级作用域-Scope" class="headerlink" title="块级作用域 (Scope)"></a>块级作用域 (Scope)</h1><h2 id="解决es5中for循环使用var来声明i时候的变量提升问题"><a href="#解决es5中for循环使用var来声明i时候的变量提升问题" class="headerlink" title="解决es5中for循环使用var来声明i时候的变量提升问题"></a>解决es5中for循环使用var来声明i时候的变量提升问题</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中for循环使用var关键字来声明i</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> array = []</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123; <span class="comment">//这里有一个变量提升的问题</span></span><br><span class="line">    array[i] = <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">//这里的i分别为 1、2、3</span></span><br><span class="line">        <span class="keyword">return</span> i*<span class="number">2</span> <span class="comment">//而这里返回的是一个函数表达式，此时是对i这个对象的引用，而不是对i的值的引用，所以i不会取到值，直到执行的时候i才能取到值。这个地方也是一个闭包。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>([ <span class="comment">//此时函数表达式被执行，取到了i的值，但i已经变成了3</span></span><br><span class="line">    array[<span class="number">0</span>](),</span><br><span class="line">    array[<span class="number">1</span>](),</span><br><span class="line">    array[<span class="number">2</span>]()</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中for循环使用let关键字来声明i</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> array = []</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">    array[i] = <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">//使用let会有一个块级作用域，把当前i的值存下来使用</span></span><br><span class="line">        <span class="keyword">return</span> i*<span class="number">2</span> <span class="comment">//循环到下一步的时候会生成一个新的作用域，这样就不会出现变量提升的问题</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>([</span><br><span class="line">    array[<span class="number">0</span>](),</span><br><span class="line">    array[<span class="number">1</span>](),</span><br><span class="line">    array[<span class="number">2</span>]()</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/let%E8%A7%A3%E5%86%B3%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%E9%97%AE%E9%A2%98.jpg" alt="let解决变量提升问题"></p>
<h2 id="es6中有块级作用域"><a href="#es6中有块级作用域" class="headerlink" title="es6中有块级作用域"></a>es6中有块级作用域</h2><blockquote>
<p>由于es5中没有块级作用域，所以需要使用<code>立即执行函数</code>来指定（隔离）一个块作用域<br>而在es6中只需要使用一对大括号就能直接指定一个块作用域</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5无块级作用域</span></span><br><span class="line"><span class="comment"> * 在for循环外面还是可以取到item的值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> item <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// b (这里也有一个变量提升的问题)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 由于es5中没有块级作用域</span></span><br><span class="line"><span class="comment"> * 所以为了程序的可读性，es5中推荐这么写</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;</span><br><span class="line"><span class="keyword">var</span> item</span><br><span class="line"><span class="keyword">for</span>(item <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// b</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中有块级作用域</span></span><br><span class="line"><span class="comment"> * 在for循环外面取不到item的值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 报错: item is not defined</span></span><br></pre></td></tr></table></figure>
<h1 id="箭头函数-Arrow-Function"><a href="#箭头函数-Arrow-Function" class="headerlink" title="箭头函数 (Arrow Function)"></a>箭头函数 (Arrow Function)</h1><h2 id="箭头函数语法形式"><a href="#箭头函数语法形式" class="headerlink" title="箭头函数语法形式"></a>箭头函数语法形式</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">() =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小括号里面接收参数,若参数只有一个那么可以省略小括号<br>大括号里面是函数体，若函数体只有一行那么可以省略大括号</p>
</blockquote>
<h2 id="map-方法中的箭头函数"><a href="#map-方法中的箭头函数" class="headerlink" title="map()方法中的箭头函数"></a>map()方法中的箭头函数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中function函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> item+<span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的箭头函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item + <span class="number">1</span>) <span class="comment">//只传入一个参数，且函数体只有一行</span></span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item,index</span>) =&gt;</span> &#123; <span class="comment">//传入多个参数，且函数体有多行</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">    <span class="keyword">return</span> item + <span class="number">1</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="call-方法改变this的指向"><a href="#call-方法改变this的指向" class="headerlink" title="call()方法改变this的指向"></a>call()方法改变this的指向</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中使用call()方法来改变function函数中this的指向</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;真正的this:&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">// 真正的this: &#123;a: 100&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>]</span><br><span class="line">    arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;此时的this:&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">// 此时的this: Window</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fn.<span class="title function_">call</span>(&#123;<span class="attr">a</span>:<span class="number">100</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中使用call()方法来改变箭头函数中this的指向</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;真正的this:&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">// 真正的this: &#123;a: 100&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>]</span><br><span class="line">    arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;此时的this:&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">// 此时的this: &#123;a: 100&#125;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fn.<span class="title function_">call</span>(&#123;<span class="attr">a</span>:<span class="number">100</span>&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="function函数与箭头函数中this的指向对比"><a href="#function函数与箭头函数中this的指向对比" class="headerlink" title="function函数与箭头函数中this的指向对比"></a>function函数与箭头函数中this的指向对比</h2><blockquote>
<ul>
<li>在es5的function函数中，this的指向是函数被调用时的对象，也就是说该函数在被执行的时候，哪个对象调用了该函数，这个this指向的就是那个对象</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>在es6中的箭头函数中，箭头函数没有自己的this。箭头函数的this是继承而来，默认指向在定义该箭头函数时所处的对象(宿主对象)</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中的function函数中的this指向</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Foo</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">c</span> = &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="string">&#x27;a+&#x27;</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> <span class="title class_">Foo</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">c</span>.<span class="title function_">b</span>()) <span class="comment">// a+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的箭头函数中的this指向</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Foo</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">c</span> = &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="string">&#x27;a+&#x27;</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">new</span> <span class="title class_">Foo</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">c</span>.<span class="title function_">b</span>()) <span class="comment">// a</span></span><br></pre></td></tr></table></figure>
<h1 id="类-class"><a href="#类-class" class="headerlink" title="类 (class)"></a>类 (class)</h1><h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中构造函数的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MathHandle</span> (x,y)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MathHandle</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">add</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="title class_">MathHandle</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m.<span class="title function_">add</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * es6中构造函数的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MathHandle</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">MathHandle</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m.<span class="title function_">add</span>()); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">MathHandle</span>); <span class="comment">// function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造函数的显式原型的constructor属性值为构造函数本身</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">MathHandle</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>); <span class="comment">// class MathHandle&#123;&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中继承的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//动物</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Animal</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eat</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; eat&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 狗</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Dog</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">bark</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; bark&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//绑定原型，实现继承</span></span><br><span class="line"><span class="title class_">Dog</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 哈士奇</span></span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;hashiqi&quot;</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>()</span><br><span class="line">dog.<span class="title function_">eat</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   es6中继承的写法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 成员方法</span></span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; eat&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name) <span class="comment">// 只要出现继承extends，就必须写super,而且需要把super放在constructor里面的第一行</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; bark&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;hashiqi&#x27;</span>)</span><br><span class="line">dog.<span class="title function_">bark</span>()</span><br><span class="line">dog.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure>
<h2 id="类的getter和setter"><a href="#类的getter和setter" class="headerlink" title="类的getter和setter"></a>类的getter和setter</h2><ul>
<li>ES6在类的内部可以使用get和set关键字来对某个属性设置存值函数和取值函数，拦截该属性的存取行为。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的setter、getter</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name = <span class="string">&quot;es6&quot;</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">getName</span>()&#123; <span class="comment">//这里的get形似方法，但它实际上是一个属性</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">setName</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> par = <span class="keyword">new</span> <span class="title class_">Parent</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;getter: &#x27;</span>,par.<span class="property">getName</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setter: &#x27;</span>, par.<span class="property">setName</span> = <span class="string">&#x27;es6-cname&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(par.<span class="property">name</span>,par.<span class="property">getName</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//因为setter是一个属性，所以不能写成par.setName(es6-cname)</span></span><br><span class="line"><span class="comment">//而是要写成赋值表达式的形式</span></span><br></pre></td></tr></table></figure>
<h2 id="类的静态方法和静态变量"><a href="#类的静态方法和静态变量" class="headerlink" title="类的静态方法和静态变量"></a>类的静态方法和静态变量</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的静态方法和静态属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name = <span class="string">&quot;es6&quot;</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">tell</span>(<span class="params"></span>)&#123; <span class="comment">//定义类的静态方法使用关键字static</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;es6-static&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">type</span> = <span class="string">&#x27;es6-class&#x27;</span> <span class="comment">//静态属性没有关键字去声明</span></span><br><span class="line"><span class="comment">//定义类的静态属性是在类定义完成后直接在类的外面进行赋值表达式定义</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span>.<span class="title function_">tell</span>()  <span class="comment">// 静态方法是通过类去调用，而不是通过类的实例去调用</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Parent</span>.<span class="property">type</span>) <span class="comment">// 打印静态对象</span></span><br></pre></td></tr></table></figure>
<h1 id="异步-Promise"><a href="#异步-Promise" class="headerlink" title="异步 (Promise)"></a>异步 (Promise)</h1><h2 id="Promise的介绍"><a href="#Promise的介绍" class="headerlink" title="Promise的介绍"></a>Promise的介绍</h2><p><code>Promise</code>是异步编程的一种解决方案，比传统的解决方案–回调函数和事件更合理和更强大。它由社区最早提出和实现，ES6将其写进了语言标准，统一了语法，原生提供了Promise。</p>
<p>所谓Promise ，简单说就是一个容器，里面保存着某个未来才会结束的事件(通常是一个异步操作）的结果。*<em>从语法上说，Promise是一个对象，从它可以获取异步操作的消息。 *</em> 也之所以它是一个对象，所以它可以用来保存状态，从而解决了普通回调函数中的“回调地狱”以及“不能return”这两个问题。</p>
<ol>
<li><p>三种状态:<br>Promise对象的状态不受外界影响:</p>
<ul>
<li>pending: 进行中</li>
<li>fulfilled: 已经成功</li>
<li>rejected: 已经失败</li>
</ul>
</li>
<li><p>状态改变:<br>Promise对象的状态改变,只有两种可能:</p>
<ul>
<li>从pending变为fulfilled</li>
<li>从pending变为rejected</li>
</ul>
</li>
</ol>
<p>这两种情况只要发生，状态就凝固了，不会再变了，这时就称为resolved（已定型）</p>
<h2 id="使用Promise加载图片"><a href="#使用Promise加载图片" class="headerlink" title="使用Promise加载图片"></a>使用Promise加载图片</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中的回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadimg</span>(<span class="params">src,callback,failed</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">    img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">callback</span>(img)</span><br><span class="line">    &#125;</span><br><span class="line">    img.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">failed</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    img.<span class="property">src</span> = src</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src = <span class="string">&#x27;https://www.imooc.com/static/img/index/logo.png&#x27;</span></span><br><span class="line"><span class="title function_">loadimg</span>(src,<span class="keyword">function</span>(<span class="params">img</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(img.<span class="property">width</span>)</span><br><span class="line">&#125;,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;failed&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的promise</span></span><br><span class="line"><span class="comment"> * 1.new Promise实例，而且要在后面return这个实例</span></span><br><span class="line"><span class="comment"> * 2.new Promise时候要传入一个函数，该函数有resolve、reject两个参数</span></span><br><span class="line"><span class="comment"> * 3.成功时候执行resolve()，失败时候执行reject()</span></span><br><span class="line"><span class="comment"> * 4.then()方法监听结果，并可以多次执行，达到分批处理的效果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadimg</span>(<span class="params">src</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span>  <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve ,reject</span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">        img.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(img)</span><br><span class="line">        &#125;</span><br><span class="line">        img.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">reject</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        img.<span class="property">src</span> = src</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src = <span class="string">&#x27;https://www.imooc.com/static/img/index/logo.png&#x27;</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="title function_">loadimg</span>(src)</span><br><span class="line"></span><br><span class="line"><span class="comment">//传两个函数作为参数，分别是成功和失败的回调</span></span><br><span class="line">result.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">img</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(img.<span class="property">width</span>)</span><br><span class="line">&#125;,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;failed&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以集成可以扩展可以分批处理,变得更加灵活</span></span><br><span class="line">result.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">img</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(img.<span class="property">height</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="多步调用-事件A–-gt-事件B–-gt-事件C"><a href="#多步调用-事件A–-gt-事件B–-gt-事件C" class="headerlink" title="多步调用:事件A–&gt;事件B–&gt;事件C"></a>多步调用:事件A–&gt;事件B–&gt;事件C</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> ajax = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;case-A&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>);</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">ajax</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">//then()方法继续返回new Promise实例，就可以达到串联的效果</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;case-B&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;case-C&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1500</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="异步过程中使用catch捕获错误"><a href="#异步过程中使用catch捕获错误" class="headerlink" title="异步过程中使用catch捕获错误"></a>异步过程中使用catch捕获错误</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> ajax = <span class="keyword">function</span> (<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num&lt;<span class="number">4</span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;It Should under five!!!&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>;i &lt; <span class="number">5</span>;i++) &#123;</span><br><span class="line">    <span class="title function_">ajax</span>(i).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;i =&#x27;</span>,i)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;catch&#x27;</span>,err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="异步加载图片的两个示例"><a href="#异步加载图片的两个示例" class="headerlink" title="异步加载图片的两个示例"></a>异步加载图片的两个示例</h2><ul>
<li>所有图片都加载完之后再添加到页面</li>
</ul>
<blockquote>
<p>Promise.all()表示把多个Promise实例当作一个新的Promise实例，可以传入一个数组作为参数，当数组中所有Promise实例的状态都发生改变，这个新的实例对象才会改变。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//加载图片的方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadImg</span> (src) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">        img.<span class="property">src</span> = src</span><br><span class="line">        img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(img)</span><br><span class="line">        &#125;</span><br><span class="line">        img.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//加载完之后将图片添加到页面上的方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showImgs</span>(<span class="params">imgs</span>)&#123;</span><br><span class="line">    imgs.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">img</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(img)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//高级用法</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://www.imooc.com/static/img/index/logo.png&#x27;</span>),</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://www.baidu.com/img/superlogo_c4d7df0a003d3db9b65e9ef0fe6da1ec.png&#x27;</span>),</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg&#x27;</span>)</span><br><span class="line">]).<span class="title function_">then</span>(showImgs)</span><br></pre></td></tr></table></figure>
<ul>
<li>只要有一张图片加载完就添加到页面</li>
</ul>
<blockquote>
<p>Promise.race()表示把多个Promise实例当作一个新的Promise实例，可以传入一个数组作为参数，当数组中这多个Promise实例的状态只要有一个发生改变，这个新的实例对象就会改变。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//加载图片的方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadImg</span> (src) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">        img.<span class="property">src</span> = src</span><br><span class="line">        img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(img)</span><br><span class="line">        &#125;</span><br><span class="line">        img.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//加载完之后将图片添加到页面上的方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showImgs</span>(<span class="params">img</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(img)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg&#x27;</span>),</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://www.imooc.com/static/img/index/logo.png&#x27;</span>),</span><br><span class="line">    <span class="title function_">loadImg</span>(<span class="string">&#x27;https://www.baidu.com/img/superlogo_c4d7df0a003d3db9b65e9ef0fe6da1ec.png&#x27;</span>),</span><br><span class="line">]).<span class="title function_">then</span>(showImgs)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>es6</tag>
        <tag>let</tag>
        <tag>const</tag>
        <tag>scope</tag>
        <tag>arrow function</tag>
        <tag>箭头函数</tag>
        <tag>class</tag>
        <tag>类</tag>
        <tag>promise</tag>
        <tag>异步</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6学习【二】</title>
    <url>/2018/01/06/ES6%E5%AD%A6%E4%B9%A0%E3%80%90%E4%BA%8C%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info:es6的学习笔记，包括函数默认参数Parameter、对象代理Proxy、解构赋值以及多行字符串/模版变量</p>
</blockquote>
<a id="more"></a>

<h1 id="默认参数-parameter"><a href="#默认参数-parameter" class="headerlink" title="默认参数 (parameter)"></a>默认参数 (parameter)</h1><h2 id="通过es6很方便地给函数设置一个默认参数"><a href="#通过es6很方便地给函数设置一个默认参数" class="headerlink" title="通过es6很方便地给函数设置一个默认参数"></a>通过es6很方便地给函数设置一个默认参数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中函数默认参数</span></span><br><span class="line"><span class="comment"> * 如果需要这个函数的参数可填可不填，不填的话就给一个默认值</span></span><br><span class="line"><span class="comment"> * 那么在函数体内要写一个判断或者采用或表达式（||）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a,b,c</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="literal">null</span>)&#123;</span><br><span class="line">        b = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    c = c || <span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> a+b+c</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>) <span class="comment">// 6</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">// 7</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>) <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中函数默认参数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a,b = <span class="number">2</span>,c = <span class="number">3</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//该函数使用babel编译过来的结果得到：</span></span><br><span class="line"><span class="comment">// function fn(a) &#123;</span></span><br><span class="line"><span class="comment">//   var b = arguments.length &gt; 1 &amp;&amp; arguments[1] !== undefined ? arguments[1] : 0;</span></span><br><span class="line"><span class="comment">//   var c = arguments.length &gt; 2 &amp;&amp; arguments[2] !== undefined ? arguments[2] : 1;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   return a+b+c;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="利用es6中的默认参数来进行对函数必选参数的检查"><a href="#利用es6中的默认参数来进行对函数必选参数的检查" class="headerlink" title="利用es6中的默认参数来进行对函数必选参数的检查:"></a>利用es6中的默认参数来进行对函数必选参数的检查:</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">cheakParameter</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;can\&#x27;t be empty!&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a=cheakParameter(),b=<span class="number">2</span>,c=<span class="number">3</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="title function_">fn</span>()</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e)</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="es6中可变参数的写法"><a href="#es6中可变参数的写法" class="headerlink" title="es6中可变参数的写法"></a>es6中可变参数的写法</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中可变参数的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>) <span class="comment">//arguments是一个伪数组，所以用数组的方式来写需要对数组的原型对象call()一下</span></span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    a.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">        sum+=item*<span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中可变参数的写法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">...a</span>)&#123; <span class="comment">// ... 是扩展运算符  ...a 就是可变参数</span></span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    a.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        sum += item*<span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<h1 id="对象代理-Proxy"><a href="#对象代理-Proxy" class="headerlink" title="对象代理 (Proxy)"></a>对象代理 (Proxy)</h1><blockquote>
<p>如果有要求需要封装一份数据，这个数据只让内部的方法访问到，而外部的API无法访问<br>高级程序语言(比如JAVA、C#等)有一个私有属性，就可以直接达到这样的效果<br>在Javascript中，es3、es5只能通过模拟私有变量的方法达到这样的效果，但写法复杂<br>而在es6中,它提供了一个对象代理(Proxy)的方法来解决私有变量的问题</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es3中采用构造函数来对数据进行保护</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Person</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> data = &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;es3&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">23</span>,</span><br><span class="line">        <span class="attr">sex</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">get</span> = <span class="keyword">function</span>(<span class="params">key</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> data[key]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">set</span> = <span class="keyword">function</span>(<span class="params">key,value</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(key !== <span class="string">&#x27;sex&#x27;</span>)&#123; <span class="comment">//这里就设置了sex值不可改，即达到了保护的效果</span></span><br><span class="line">            data[key] = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明一个实例</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>()</span><br><span class="line"><span class="comment">//读取</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>(&#123;<span class="attr">name</span>:person.<span class="title function_">get</span>(<span class="string">&#x27;name&#x27;</span>),<span class="attr">age</span>:person.<span class="title function_">get</span>(<span class="string">&#x27;age&#x27;</span>),<span class="attr">sex</span>:person.<span class="title function_">get</span>(<span class="string">&#x27;sex&#x27;</span>)&#125;)</span><br><span class="line"><span class="comment">//修改</span></span><br><span class="line">person.<span class="title function_">set</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;es3-cname&#x27;</span>) <span class="comment">// 修改成功</span></span><br><span class="line">person.<span class="title function_">set</span>(<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;female&#x27;</span>) <span class="comment">// 不会报错，但不会被执行成功</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中采用defineProperty来对数据进行保护</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;es5&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person,<span class="string">&#x27;sex&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;male&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>(&#123;<span class="attr">name</span>:person.<span class="property">name</span>,<span class="attr">age</span>:person.<span class="property">age</span>,<span class="attr">sex</span>:person.<span class="property">sex</span>&#125;)</span><br><span class="line"><span class="comment">// 修改</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    person.<span class="property">sex</span> = <span class="string">&#x27;female&#x27;</span> <span class="comment">// 报错</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中采用对象代理来对数据进行保护</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;es6&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">26</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;male&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Proxy</span>(<span class="title class_">Person</span>,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,key</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[key]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target,key,value</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(key !== <span class="string">&#x27;sex&#x27;</span>)&#123; <span class="comment">//和es3中很相似，也是声明两个方法来获取和改变数据的值</span></span><br><span class="line">            target[key] = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>(&#123;<span class="attr">name</span>:person.<span class="property">name</span>,<span class="attr">age</span>:person.<span class="property">age</span>,<span class="attr">sex</span>:person.<span class="property">sex</span>&#125;)</span><br><span class="line"><span class="comment">// 修改</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    person.<span class="property">sex</span> = <span class="string">&#x27;female&#x27;</span> <span class="comment">// 报错</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中取得对象属性的值或者数组的值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>,<span class="attr">c</span>:<span class="number">300</span>&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;xxx&#x27;</span>,<span class="string">&#x27;yyy&#x27;</span>,<span class="string">&#x27;zzz&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = obj.<span class="property">a</span></span><br><span class="line"><span class="keyword">var</span> b = obj.<span class="property">b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">var</span> y = arr[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">var</span> z = arr[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的解构赋值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>,<span class="attr">c</span>:<span class="number">300</span>&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;xxx&#x27;</span>,<span class="string">&#x27;yyy&#x27;</span>,<span class="string">&#x27;zzz&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;a,c&#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [x,y,z] = arr</span><br></pre></td></tr></table></figure>
<h1 id="多行字符串-模板变量"><a href="#多行字符串-模板变量" class="headerlink" title="多行字符串/模板变量 (`$`)"></a>多行字符串/模板变量 (`$`)</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es5中的多行字符串/模板变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">20</span></span><br><span class="line"><span class="keyword">var</span> html = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">html += <span class="string">&#x27;&lt;div&gt;&#x27;</span></span><br><span class="line">html += <span class="string">&#x27;  &lt;p&gt;&#x27;</span> + name + <span class="string">&#x27;&lt;/p&gt;&#x27;</span></span><br><span class="line">html += <span class="string">&#x27;  &lt;p&gt;&#x27;</span> + age + <span class="string">&#x27;&lt;/p&gt;&#x27;</span></span><br><span class="line">html =+ <span class="string">&#x27;&lt;/div&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * es6中的多行字符串/模板变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> html = <span class="string">` </span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;<span class="subst">$&#123;name&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;<span class="subst">$&#123;age&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="comment">//使用反引号能写多行字符串，还可以用$符号进行引入变量</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>es6</tag>
        <tag>parameter</tag>
        <tag>proxy</tag>
        <tag>解构赋值</tag>
        <tag>模版字符串</tag>
      </tags>
  </entry>
  <entry>
    <title>Flex布局语法教程</title>
    <url>/2017/03/14/Flex%E5%B8%83%E5%B1%80%E8%AF%AD%E6%B3%95%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: Flex布局将成为未来布局的首选方案。本文介绍Flex布局的语法。</p>
</blockquote>
<a id="more"></a>

<p>网页布局（layout）是CSS的一个重点应用。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E7%BD%91%E9%A1%B5%E5%B8%83%E5%B1%80.gif" alt="网页布局"></p>
<p>布局的传统解决方案，基于<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box_model">盒状模型</a>，依赖 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display">display</a>属性 + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">position</a>属性 + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float">float</a>属性。它对于那些特殊布局非常不方便，比如，<a href="https://css-tricks.com/centering-css-complete-guide/">垂直居中</a>就不容易实现。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/cssflexbox%20banner.png" alt="cssflexboxbanner"></p>
<p>2009年，W3C提出了一种新的方案—-Flex布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持，这意味着，现在就能很安全地使用这项功能。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flexbrowsersupport.jpg" alt="flexbrowsersupport"></p>
<p>Flex布局将成为未来布局的首选方案。本文介绍Flex布局的语法。</p>
<p>以下内容主要参考了下面两篇文章：<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">A Complete Guide to Flexbox</a> 和 <a href="https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties">A Visual Guide to CSS3 Flexbox Properties</a>。</p>
<h1 id="Flex布局是什么？"><a href="#Flex布局是什么？" class="headerlink" title="Flex布局是什么？"></a>Flex布局是什么？</h1><p>Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<p>任何一个容器都可以指定为Flex布局:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>行内元素也可以使用Flex布局:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Webkit内核的浏览器，必须加上-webkit前缀:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意，设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。</p>
</blockquote>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p>采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-container.png" alt="flex-container"></p>
<p>容器默认存在两根轴：<code>水平的主轴（main axis）</code>和<code>垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做</code>main start<code>，结束位置叫做</code>main end<code>；交叉轴的开始位置叫做</code>cross start<code>，结束位置叫做</code>cross end`。</p>
<p>项目默认沿主轴排列。单个项目占据的主轴空间叫做<code>main size</code>，占据的交叉轴空间叫做<code>cross size</code>。</p>
<h1 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h1><p>以下6个属性设置在容器上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flex-direction</span><br><span class="line">flex-wrap</span><br><span class="line">flex-flow</span><br><span class="line">justify-content</span><br><span class="line">align-items</span><br><span class="line">align-content</span><br></pre></td></tr></table></figure>
<h2 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h2><p>flex-direction属性决定主轴的方向（即项目的排列方向）:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-direction.png" alt="flex-direction"></p>
<p>它可能有4个值。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">row（默认值）：主轴为水平方向，起点在左端。</span><br><span class="line">row-reverse：主轴为水平方向，起点在右端。</span><br><span class="line">column：主轴为垂直方向，起点在上沿。</span><br><span class="line">column-reverse：主轴为垂直方向，起点在下沿。</span><br></pre></td></tr></table></figure>
<h2 id="flex-wrap属性"><a href="#flex-wrap属性" class="headerlink" title="flex-wrap属性"></a>flex-wrap属性</h2><p>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行:</p>
<p><img src="http://qiniu.isuziwei.cn/flexwrap.png" alt="flexwrap"></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它可能取三个值。</p>
<ol>
<li>nowrap（默认）：不换行:</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-wrap-01.png" alt="flex-wrap-01"></p>
<ol start="2">
<li>wrap：换行，第一行在上方:</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-wrap-02.jpg" alt="flex-wrap-02"></p>
<ol start="3">
<li>wrap-reverse：换行，第一行在下方:</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-wrap-03.jpg" alt="flex-wrap-03"></p>
<h2 id="flex-flow属性"><a href="#flex-flow属性" class="headerlink" title="flex-flow属性"></a>flex-flow属性</h2><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">flex-flow</span>: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h2><p>justify-content属性定义了项目在主轴上的对齐方式:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-start | flex-end | center | space-between | space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flex-start（默认值）：左对齐</span><br><span class="line">flex-end：右对齐</span><br><span class="line">center： 居中</span><br><span class="line">space-between：两端对齐，项目之间的间隔都相等。</span><br><span class="line">space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-justify.png" alt="flex-justify"></p>
<h2 id="align-content属性"><a href="#align-content属性" class="headerlink" title="align-content属性"></a>align-content属性</h2><p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该属性可能取6个值:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flex-start：与交叉轴的起点对齐。</span><br><span class="line">flex-end：与交叉轴的终点对齐。</span><br><span class="line">center：与交叉轴的中点对齐。</span><br><span class="line">space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</span><br><span class="line">space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</span><br><span class="line">stretch（默认值）：轴线占满整个交叉轴。</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-align-content.png" alt="flex-align-content"></p>
<h1 id="项目的属性"><a href="#项目的属性" class="headerlink" title="项目的属性"></a>项目的属性</h1><p>以下6个属性设置在项目上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">order</span><br><span class="line">flex-grow</span><br><span class="line">flex-shrink</span><br><span class="line">flex-basis</span><br><span class="line">flex</span><br><span class="line">align-self</span><br></pre></td></tr></table></figure>
<h2 id="order属性"><a href="#order属性" class="headerlink" title="order属性"></a>order属性</h2><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: &lt;integer&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-order.png" alt="flex-order"></p>
<h2 id="flex-grow属性"><a href="#flex-grow属性" class="headerlink" title="flex-grow属性"></a>flex-grow属性</h2><p>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-grow.png" alt="flex-grow"></p>
<blockquote>
<p>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
</blockquote>
<h2 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a>flex-shrink属性</h2><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 1 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-shrink.jpg" alt="flex-shrink"></p>
<blockquote>
<p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<br>负值对该属性无效。</p>
</blockquote>
<h2 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a>flex-basis属性</h2><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-basis</span>: &lt;length&gt; | auto; <span class="comment">/* default auto */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p>
</blockquote>
<h2 id="flex属性"><a href="#flex属性" class="headerlink" title="flex属性"></a>flex属性</h2><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: none | [ &lt;<span class="string">&#x27;flex-grow&#x27;</span>&gt; &lt;<span class="string">&#x27;flex-shrink&#x27;</span>&gt;? || &lt;<span class="string">&#x27;flex-basis&#x27;</span>&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。</p>
</blockquote>
<blockquote>
<p>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
</blockquote>
<h2 id="align-self属性"><a href="#align-self属性" class="headerlink" title="align-self属性"></a>align-self属性</h2><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/flex-align-self.png" alt="flex-align-self"></p>
<blockquote>
<p>该属性可能取6个值，除了auto，其他都与align-items属性完全一致。</p>
</blockquote>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>study</tag>
        <tag>flex</tag>
      </tags>
  </entry>
  <entry>
    <title>FreeCodeCamp上面的JS算法题</title>
    <url>/2017/03/11/FreeCodeCamp%E4%B8%8A%E9%9D%A2%E7%9A%84JS%E7%AE%97%E6%B3%95%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info:Javascript中操作字符串和数组一些常见的方法。</p>
</blockquote>
<a id="more"></a>

<h1 id="Split-Strings-with-split"><a href="#Split-Strings-with-split" class="headerlink" title="Split Strings with split()"></a>Split Strings with split()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;Split me into an array&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> array = [];</span><br><span class="line"></span><br><span class="line">array = string.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array); <span class="comment">//[ &#x27;Split&#x27;, &#x27;me&#x27;, &#x27;into&#x27;, &#x27;an&#x27;, &#x27;array&#x27; ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// split() 方法用于把一个字符串分割成字符串数组。<br>// 提示： 如果把空字符串 (“ “) 用作 separator，那么 stringObject 中的每个字符之间都会被分割。<br>// 注意： split() 方法不改变原始字符串。</p>
</blockquote>
<h1 id="Get-the-sub-string-with-substring-substr-slice"><a href="#Get-the-sub-string-with-substring-substr-slice" class="headerlink" title="Get the sub string with substring/substr/slice()"></a>Get the sub string with substring/substr/slice()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">&#x27;hello, world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> r1 = s.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">5</span>); <span class="comment">// 从索引0开始到5(不包括5)</span></span><br><span class="line"><span class="keyword">var</span> r2 = s.<span class="title function_">substring</span>(<span class="number">7</span>); <span class="comment">// 从索引7开始到结束</span></span><br><span class="line"><span class="keyword">var</span> r3 = s.<span class="title function_">substr</span>(<span class="number">2</span>,<span class="number">4</span>); <span class="comment">//从索引开始找接下来的4个字符</span></span><br><span class="line"><span class="keyword">var</span> r4 = s.<span class="title function_">slice</span>(-<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r1); <span class="comment">//hello</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r2); <span class="comment">//world</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r3); <span class="comment">//llo,</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r4); <span class="comment">//world</span></span><br></pre></td></tr></table></figure>
<h1 id="Title-Case-a-Sentence-with-toUpper-LowerCase"><a href="#Title-Case-a-Sentence-with-toUpper-LowerCase" class="headerlink" title="Title Case a Sentence with toUpper/LowerCase()"></a>Title Case a Sentence with toUpper/LowerCase()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 句中单词首字母大写:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">titleCase</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="comment">// 请把你的代码写在这里</span></span><br><span class="line"></span><br><span class="line">	arr = str.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> newStr = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;arr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">		newStr += arr[i][<span class="number">0</span>].<span class="title function_">toUpperCase</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">1</span>;j&lt;arr[i].<span class="property">length</span>;j++)&#123;</span><br><span class="line">			newStr += arr[i][j].<span class="title function_">toLowerCase</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(i!=arr.<span class="property">length</span>-<span class="number">1</span>)&#123;</span><br><span class="line">		newStr += <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">return</span> newStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> r = <span class="title function_">titleCase</span>(<span class="string">&quot;I&#x27;m a little tea pot&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r); <span class="comment">//I&#x27;m A Little Tea Pot</span></span><br></pre></td></tr></table></figure>
<h1 id="Get-the-index-of-string-in-a-stringObj-with-indexOf-lastIndexOf"><a href="#Get-the-index-of-string-in-a-stringObj-with-indexOf-lastIndexOf" class="headerlink" title="Get the index of string in a stringObj with indexOf/lastIndexOf()"></a>Get the index of string in a stringObj with indexOf/lastIndexOf()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">&#x27;hello, world&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> r1 = s.<span class="title function_">indexOf</span>(<span class="string">&#x27;world&#x27;</span>); <span class="comment">// 找到指定的子串,返回该子串第一次出现的位置</span></span><br><span class="line"><span class="keyword">var</span> r2 = s.<span class="title function_">indexOf</span>(<span class="string">&#x27;sorld&#x27;</span>); <span class="comment">// 没有找到指定的子串，返回-1</span></span><br><span class="line"><span class="keyword">var</span> r3 = s.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;l&#x27;</span>); <span class="comment">// 找到指定的子串，返回该子串最后一次出现的位置</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r1); <span class="comment">//7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r2); <span class="comment">//-1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r3); <span class="comment">//10</span></span><br></pre></td></tr></table></figure>
<h1 id="Iterate-over-Arrays-with-map"><a href="#Iterate-over-Arrays-with-map" class="headerlink" title="Iterate over Arrays with map()"></a>Iterate over Arrays with map()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oldArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能在这一行下面写代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newArray = oldArray.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> val + <span class="number">3</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArray); <span class="comment">//[ 4, 5, 6, 7, 8 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// another</span></span><br><span class="line"><span class="comment">// var numbers = [4, 9, 16, 25];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// function myFunction() &#123;</span></span><br><span class="line"><span class="comment">//     x = document.getElementById(&quot;demo&quot;)</span></span><br><span class="line"><span class="comment">//     x.innerHTML = numbers.map(Math.sqrt);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// map() 方法会迭代数组中的每一个元素，并根据回调函数来处理每一个元素，最后返回一个新数组。<br>// map() 方法按照原始数组元素顺序依次处理元素。<br>// 注意： map() 不会对空数组进行检测。<br>// 注意： map() 不会改变原始数组。</p>
</blockquote>
<h1 id="Condense-arrays-with-reduce"><a href="#Condense-arrays-with-reduce" class="headerlink" title="Condense arrays with reduce()"></a>Condense arrays with reduce()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line"><span class="keyword">var</span> singleVal = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能在这一行下面写代码</span></span><br><span class="line"></span><br><span class="line">singleVal = array.<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">pre,cur</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> pre + cur ;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(singleVal); <span class="comment">//30</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始合并(迭代)，最终计算为一个值。<br>// 注意: reduce() 对于空数组是不会执行回调函数的。</p>
</blockquote>
<h1 id="Filter-Arrays-with-filter"><a href="#Filter-Arrays-with-filter" class="headerlink" title="Filter Arrays with filter()"></a>Filter Arrays with filter()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oldArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能在这一行下面写代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newArray = oldArray.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> val &lt; <span class="number">6</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArray); <span class="comment">//[ 1, 2, 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// filter 方法用来迭代一个数组，并且按给出的条件过滤出符合的元素。<br>// filter 方法传入一个回调函数，这个回调函数会携带一个参数，参数为当前迭代的项（我们叫它 val ）。<br>// 回调函数返回 true 的项会保留在数组中，返回 false 的项会被过滤出数组。</p>
</blockquote>
<h1 id="Sort-Arrays-with-sort"><a href="#Sort-Arrays-with-sort" class="headerlink" title="Sort Arrays with sort()"></a>Sort Arrays with sort()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">21</span>, <span class="number">12</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">array.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> b - a;</span><br><span class="line">&#125;); <span class="comment">// 将数组元素从大到小排序</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array); <span class="comment">//[ 21, 12, 2, 1 ]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 数组排序并找出元素索引:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">where</span>(<span class="params">arr, num</span>) &#123;</span><br><span class="line">  <span class="comment">// 请把你的代码写在这里</span></span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  newArr = arr.<span class="title function_">concat</span>(num);</span><br><span class="line">  newArr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a-b;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i&lt;newArr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(newArr[i] === num)&#123;</span><br><span class="line">      <span class="keyword">return</span> i;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> r = <span class="title function_">where</span>([<span class="number">40</span>, <span class="number">60</span>], <span class="number">50</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r);  <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// sort() 方法将改变原数组，返回被排序后的数组。<br>// sort() 可以把比较函数作为参数传入。比较函数有返回值，当 a 小于 b，返回一个负数；当 a 大于 b ，返回一个正数；相等时返回0。<br>// 如果没有传入比较函数，它将把值全部转成字符串，并按照字母顺序进行排序。</p>
</blockquote>
<h1 id="Reverse-Arrays-with-reverse"><a href="#Reverse-Arrays-with-reverse" class="headerlink" title="Reverse Arrays with reverse()"></a>Reverse Arrays with reverse()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="keyword">var</span> newArray = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能在这一行下面写代码</span></span><br><span class="line"></span><br><span class="line">newArray = array.<span class="title function_">reverse</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArray); <span class="comment">//[ 7, 6, 5, 4, 3, 2, 1 ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// reverse()方法用于颠倒数组中元素的顺序。<br>// reverse()方法会改变原来的数组，而不会创建新的数组。</p>
</blockquote>
<h1 id="Concatenate-Arrays-with-concat"><a href="#Concatenate-Arrays-with-concat" class="headerlink" title="Concatenate Arrays with concat()"></a>Concatenate Arrays with concat()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oldArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> newArray = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> concatMe = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">newArray = oldArray.<span class="title function_">concat</span>(concatMe);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArray); <span class="comment">//[ 1, 2, 3, 4, 5, 6 ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// concat()方法用于连接两个或多个数组。<br>// concat()方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</p>
</blockquote>
<h1 id="Join-Strings-with-join"><a href="#Join-Strings-with-join" class="headerlink" title="Join Strings with join()"></a>Join Strings with join()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> joinMe = [<span class="string">&quot;Split&quot;</span>,<span class="string">&quot;me&quot;</span>,<span class="string">&quot;into&quot;</span>,<span class="string">&quot;an&quot;</span>,<span class="string">&quot;array&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> joinedString = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能在这一行下面写代码</span></span><br><span class="line"></span><br><span class="line">joinedString = joinMe.<span class="title function_">join</span>(joinedString);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(joinedString); <span class="comment">//Split me into an array</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>// join() 方法用于把数组中的所有元素转换一个字符串。<br>// 元素是通过指定的分隔符进行分隔的。</p>
</blockquote>
<h1 id="Find-the-Longest-Word-in-a-String-with-Math-max-apply"><a href="#Find-the-Longest-Word-in-a-String-with-Math-max-apply" class="headerlink" title="Find the Longest Word in a String with Math.max.apply()"></a>Find the Longest Word in a String with Math.max.apply()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 找到字符串中最长的单词</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findLongestWord</span>(<span class="params">str</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> maxLength = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">var</span> s = str.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;s.<span class="property">length</span>;i++)&#123;</span><br><span class="line">  	arr[i] = s[i].<span class="property">length</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  maxLength = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,arr);</span><br><span class="line">  <span class="keyword">return</span> maxLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> r = <span class="title function_">findLongestWord</span>(<span class="string">&quot;The quick brown fox jumped over the lazy dog&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r); <span class="comment">//6</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>//Math.max.apply()方法可以得到数组中最大的数,Math.max.apply(null,arr)其中第一个参数null，这个是因为没有对象去调用这个方法，所以直接传递null过去。</p>
</blockquote>
<h1 id="Remove-the-smallest-number-in-an-array-with-splice"><a href="#Remove-the-smallest-number-in-an-array-with-splice" class="headerlink" title="Remove the smallest number in an array with splice()"></a>Remove the smallest number in an array with splice()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeSmallest</span>(<span class="params">numbers</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!numbers)&#123;<span class="keyword">return</span> []&#125;</span><br><span class="line">    <span class="keyword">var</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,numbers);</span><br><span class="line">    numbers.<span class="title function_">splice</span>(numbers.<span class="title function_">indexOf</span>(min),<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> numbers;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> s = <span class="title function_">removeSmallest</span>(numbers);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//[ 2, 3, 4, 1, 2, 5 ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>//splice()方法:arrayObject.splice(index,howmany,item1,…..,itemX)，实现删除从index处开始的零个或多个(howmany)元素，并且用参数列表中声明的一个或多个值(item1~X)来替换那些被删除的元素。</p>
</blockquote>
<h1 id="es6的find-和findIndex"><a href="#es6的find-和findIndex" class="headerlink" title="es6的find()和findIndex()"></a>es6的find()和findIndex()</h1><blockquote>
<p>数组实例的find方法，用于找出第一个符合条件的数组成员。它的参数是一个回调函数，所有数组成员依次执行该回调函数，直到找出第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">4</span>, -<span class="number">5</span>, <span class="number">10</span>].<span class="title function_">find</span>(<span class="function">(<span class="params">n</span>) =&gt;</span> n &lt; <span class="number">0</span>)  </span><br><span class="line"><span class="comment">// -5  </span></span><br><span class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].<span class="title function_">find</span>(<span class="keyword">function</span>(<span class="params">value, index, arr</span>) &#123;  </span><br><span class="line"><span class="keyword">return</span> value &gt; <span class="number">9</span>;  </span><br><span class="line">&#125;) <span class="comment">// 10  </span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>上面代码中，find方法的回调函数可以接受三个参数，依次为当前的值、当前的位置和原数组。<br>数组实例的findIndex方法的用法与find方法非常类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].<span class="title function_">findIndex</span>(<span class="keyword">function</span>(<span class="params">value, index, arr</span>) &#123;  </span><br><span class="line"><span class="keyword">return</span> value &gt; <span class="number">9</span>;  </span><br><span class="line">&#125;) <span class="comment">// 2  </span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>这两个方法都可以接受第二个参数，用来绑定回调函数的this对象。<br>另外，这两个方法都可以发现♂，弥补了数组的IndexOf方法的不足。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="title class_">NaN</span>].<span class="title function_">indexOf</span>(<span class="title class_">NaN</span>)  </span><br><span class="line"><span class="comment">// -1  </span></span><br><span class="line">[<span class="title class_">NaN</span>].<span class="title function_">findIndex</span>(<span class="function"><span class="params">y</span> =&gt;</span> <span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, y))  </span><br><span class="line"><span class="comment">// 0   </span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>上面代码中，indexOf方法无法识别数组的NaN成员，但是findIndex方法可以借助Object.is方法做到。</p>
</blockquote>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>algorithm</tag>
        <tag>freecodecamp</tag>
        <tag>array</tag>
        <tag>string</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo + Github Pages搭建个人博客</title>
    <url>/2017/03/04/Github-Pages-Hexo%E5%8D%9A%E5%AE%A2-Next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><hr>
<p>&emsp;&emsp;<em>这两天也算是摸爬滚打终于搭建成功了这个Hexo博客，然后也是想把过程记录一下，把整个步骤分享给大家（虽然可能也不会有人看到。。</em></p>
<a id="more"></a>

<hr>
<h2 id="Hexo本地环境搭建"><a href="#Hexo本地环境搭建" class="headerlink" title="Hexo本地环境搭建"></a>Hexo本地环境搭建</h2><h3 id="Git环境"><a href="#Git环境" class="headerlink" title="Git环境"></a>Git环境</h3><ol>
<li><p>首先我们需要一个git环境，MacOS的XCode是自带git的所以也无需重复安装。</p>
</li>
<li><p>如果是Windows用户的话，可以去<a href="https://git-scm.com/download/win">Git官网</a>根据自己的电脑操作系统位数下载相应的版本，下载完成后点击安装，一路next即可。</p>
<p> Windows用户还需要配置环境变量，具体操作可参考度娘上面的教程：<a href="http://jingyan.baidu.com/article/9f7e7ec0b17cac6f2815548d.html">Git的安装与配置</a></p>
<p> 测试是否安装配置成功：win+R打开运行，输入cmd打开命令提示窗口，输入如下命令：</p>
<blockquote>
<p>git –version</p>
</blockquote>
<p> 如果正确打印出安装的Git版本号，则说明安装成功。</p>
</li>
</ol>
<h3 id="Node-js环境"><a href="#Node-js环境" class="headerlink" title="Node.js环境"></a>Node.js环境</h3><ol>
<li><p>Mac用户可以通过<a href="https://brew.sh/">Homebrew</a>来安装(推荐)，具体步骤如下：</p>
<p> 先安装Homebrew：</p>
<blockquote>
<p>ruby -e “$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;">https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</a></p>
</blockquote>
<p> 然后更新brew确保其可用：</p>
<blockquote>
<p>brew update</p>
</blockquote>
<p> 再安装环境所需的Node.js：</p>
<blockquote>
<p>brew install node</p>
</blockquote>
<p> 验证是否安装成功：</p>
<blockquote>
<p>node -v<br>npm -v</p>
</blockquote>
<p> 如果正确打印出安装的Node版本号，则说明安装成功。</p>
</li>
<li><p>Windows用户，可以去<a href="https://nodejs.org/en/download/">Node官网</a>根据自己的操作系统位数下载安装（过程跟上述安装Git的步骤类似，在此不再赘述。。</p>
</li>
</ol>
<h3 id="Hexo环境"><a href="#Hexo环境" class="headerlink" title="Hexo环境"></a>Hexo环境</h3><p><em>Hexo是一款基于Node.js的静态博客框架，所以之前的那些步骤都是为了安装hexo所做的准备，具体安装hexo的步骤如下：</em></p>
<ol>
<li><p>选择一个你喜欢的目录，用来存放你的hexo博客的所有文件，在此目录下运行你的Git Bash（Windows直接右键你所选择的目录会有个Git Bash选项，点击即可。Mac用户则是打开你的Terminal工具，cd到你所选择的目录再进行一系列的操作）</p>
</li>
<li><p>正式安装Hexo，输入如下指令：</p>
<blockquote>
<p>npm install -g hexo-cli</p>
</blockquote>
<p>  <em><em>当然由于我国的社会主义核心建设，上述命令可能被墙，从而导致安装失败。此时将命令中的npm镜像源改成国内万能的某宝提供的镜像源即可：</em></em></p>
<blockquote>
<p>sudo npm install -g hexo-cli –registry=<a href="https://registry.npm.taobao.org">https://registry.npm.taobao.org</a></p>
</blockquote>
</li>
<li><p>初始化hexo：</p>
<blockquote>
<p>hexo init hexo</p>
</blockquote>
<p> 正确初始化后会得到这样的反馈：INFO Start blogging with Hexo!</p>
</li>
<li><p>安装依赖文件：</p>
<blockquote>
<p>npm install</p>
</blockquote>
</li>
<li><p>部署形成文件：</p>
<blockquote>
<p>hexo generate(或者 hexo g)</p>
</blockquote>
</li>
<li><p>本地测试：</p>
<blockquote>
<p>hexo server(或者 hexo s)</p>
</blockquote>
</li>
</ol>
<p><em><em>正确完成到了这一步后，在浏览器输入 <a href="http://localhost:4000">http://localhost:4000</a> 后就能看到搭建好的hexo站点了。</em></em></p>
<p><em><em>接下来的步骤则是将本地的hexo放到github上托管，再重定向到你的个人域名以方便访问。</em></em></p>
<h2 id="Github-Pages"><a href="#Github-Pages" class="headerlink" title="Github Pages"></a>Github Pages</h2><h3 id="注册Github"><a href="#注册Github" class="headerlink" title="注册Github"></a>注册Github</h3><p>如果不是程序员的话，可能会没有Github账号，这时就需要去<a href="https://github.com/">Github官网</a>去注册一个账号。注册成功后记得去你填的那个邮箱查收验证确认邮件。</p>
<h3 id="新建一个仓库（new-repository）"><a href="#新建一个仓库（new-repository）" class="headerlink" title="新建一个仓库（new repository）"></a>新建一个仓库（new repository）</h3><p>注册登录成功后，去你的github主页点击”New repository”，取名为 “your_user_name.github.io”。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/hello-hexo-github1.jpg" alt="hello-hexo-github1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/hello-hexo-github2.jpg" alt="hello-hexo-github2"></p>
<h3 id="启用Github-Pages"><a href="#启用Github-Pages" class="headerlink" title="启用Github Pages"></a>启用Github Pages</h3><ol>
<li><p>进入版本库后，点击右上方的setting，往下翻到Github Pages，点击Launch automatic page generator。</p>
</li>
<li><p>再然后来到New user site页面后点击右下角的Continue to layouts。</p>
</li>
<li><p>最后点击”Publish page”,发布github默认生成的一个静态站点。此时我们就可以通过在浏览器输入“your_user_name.github.io”来访问你的github站点主页。</p>
</li>
</ol>
<h2 id="将Hexo本地项目托管到GitHub-Pages"><a href="#将Hexo本地项目托管到GitHub-Pages" class="headerlink" title="将Hexo本地项目托管到GitHub Pages"></a>将Hexo本地项目托管到GitHub Pages</h2><h3 id="建立关联"><a href="#建立关联" class="headerlink" title="建立关联"></a>建立关联</h3><p>进入到你的本地hexo博客目录，有个_config.yml文件（全局配置文件），打开它，翻到最后面，将deploy改成如下所示：</p>
<blockquote>
<p>type: git<br>repository: <a href="https://github.com/your_user_name/your_user_name.github.io.git">https://github.com/your_user_name/your_user_name.github.io.git</a><br>branch: master</p>
</blockquote>
<h3 id="安装hexo-deployer-git插件"><a href="#安装hexo-deployer-git插件" class="headerlink" title="安装hexo-deployer-git插件"></a>安装hexo-deployer-git插件</h3><p>在你的博客目录下输入如下命令：</p>
<blockquote>
<p>npm install hexo-deployer-git –save</p>
</blockquote>
<h3 id="将本地博客部署到GitHub-Pages上"><a href="#将本地博客部署到GitHub-Pages上" class="headerlink" title="将本地博客部署到GitHub Pages上"></a>将本地博客部署到GitHub Pages上</h3><p>依次执行下面三条命令：</p>
<blockquote>
<p>hexo clean<br>hexo generator 或 hexo g<br>hexo deploy 或 hexo d</p>
</blockquote>
<p>如果得到如下输出：</p>
<blockquote>
<p>INFO  Deploy done: git</p>
</blockquote>
<p>则说明部署成功。此时你可以通过在浏览器输入“your_user_name.github.io”来访问到你的hexo博客了。</p>
]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
        <tag>blog</tag>
        <tag>share</tag>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2017/03/03/Hello%20World/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="写在开始"><a href="#写在开始" class="headerlink" title="写在开始"></a>写在开始</h1></br>

<blockquote>
<p>阮一峰老师说，喜欢写blog的人，会经历三个阶段。</p>
</blockquote>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28557036&auto=1&height=66"></iframe>

<a id="more"></a>

<p>（1）第一阶段，刚接触blog，觉得很新鲜，试着注册一个免费空间来写。</p>
<p>（2）第二阶段，发现免费空间限制太多，就自己购买域名和空间，搭建独立博客。</p>
<p>（3）第三阶段，觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。</p>
<p>我就是这个样子。本来用的博客园，但总感觉不属于自己，再加上个人对博客园的界面颇有微词，一个偶然间看到了别人的hexo个人网站，觉得简洁的风格很好看也挺geek，于是瞬间倒戈。。</p>
<h1 id="再然后"><a href="#再然后" class="headerlink" title="再然后"></a>再然后</h1><p>Hexo是一个基于Node.js的静态博客程序，生成的静态网页可以直接放到GitHub Pages上面（ps。顺便还能绿化一下GitHub的Contributions岂不是挺美滋滋？？</p>
<p>然后我又想到自己之前买过腾讯家的服务器还送了域名，就准备将博客绑定下自己的域名，这样感觉就像是拥有了自己的小窝（虽然一系列的过程也是挺折腾的。。orz</p>
<h1 id="到现在"><a href="#到现在" class="headerlink" title="到现在"></a>到现在</h1><p>对着别人的“5分钟 就能搭建好免费个人博客”教程，折腾了好几个小时，中间还出现很意外的错误，终于是搞定下来了。。</p>
<p>当通过访问自己的域名看到博客加载下来之后，还是有些喜悦和成就感的。毕竟这也不是QQ空间、不是新浪微博、不是豆瓣小站。它更像是身为码农的我辛辛苦苦分到一块地，加以耕耘后不再需要在地主的土地上创造流量价值，感觉还是非常不错的。。</p>
<h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>虽然感觉这个博客上也不会有什么人一起交流，但认为博客的价值还是在于记录，<strong>等你回头看你的博客时，能够让你你看到时光在你身上翻飞的样子。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/hello-world-banner.jpg" alt="hello-world-banner"></p>
  <br />
总之，Hello World ～ 😘

]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>blog</tag>
        <tag>note</tag>
        <tag>hello world</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript中的DOM对象学习</title>
    <url>/2017/03/12/Javascript%E4%B8%AD%E7%9A%84DOM%E5%AF%B9%E8%B1%A1%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><blockquote>
<p>文档对象模型（Document Object Model，简称DOM），是W3C组织推荐的处理可扩展标志语言的标准编程接口。在网页上，组织页面（或文档）的对象被组织在一个树形结构中，用来表示文档中对象的标准模型就称为DOM。</p>
</blockquote>
<a id="more"></a>

<h2 id="先来看看下面代码"><a href="#先来看看下面代码" class="headerlink" title="先来看看下面代码:"></a>先来看看下面代码:</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html&quot;</span>; <span class="attr">charset</span>=<span class="string">&quot;gb2312&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>DOM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.imooc.com&quot;</span>&gt;</span>javascript DOM<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>对HTML元素进行操作，可添加、改变或移除CSS样式等<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span>DOM<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span>CSS<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>将HTML代码分解为DOM节点层次图:</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/DOM%E8%8A%82%E7%82%B9%E5%B1%82%E6%AC%A1%E5%9B%BE.jpg" alt="DOM节点层次图"></p>
<h2 id="HTML文档可以说由节点构成的集合，DOM节点有"><a href="#HTML文档可以说由节点构成的集合，DOM节点有" class="headerlink" title="HTML文档可以说由节点构成的集合，DOM节点有:"></a>HTML文档可以说由节点构成的集合，DOM节点有:</h2><ol>
<li><p>元素节点：上图中&lt;html&gt;、&lt;body&gt;、&lt;p&gt;等都是元素节点，即标签。</p>
</li>
<li><p>文本节点:向用户展示的内容，如&lt;li&gt;…&lt;/li&gt;中的JavaScript、DOM、CSS等文本。</p>
</li>
<li><p>属性节点:元素属性，如&lt;a&gt;标签的链接属性href=”<a href="http://www.imooc.com&quot;。">http://www.imooc.com&quot;。</a></p>
</li>
</ol>
<h2 id="节点属性"><a href="#节点属性" class="headerlink" title="节点属性:"></a>节点属性:</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/DOM%E8%8A%82%E7%82%B9%E5%B1%9E%E6%80%A7.jpg" alt="DOM节点属性"></p>
<h2 id="遍历节点树"><a href="#遍历节点树" class="headerlink" title="遍历节点树:"></a>遍历节点树:</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/DOM%E8%8A%82%E7%82%B9%E9%81%8D%E5%8E%86.jpg" alt="DOM节点遍历"></p>
<blockquote>
<p>以上图ul为例，它的父级节点body,它的子节点3个li,它的兄弟结点h2、P。</p>
</blockquote>
<h2 id="DOM操作（DOM常见的API）"><a href="#DOM操作（DOM常见的API）" class="headerlink" title="DOM操作（DOM常见的API）:"></a>DOM操作（DOM常见的API）:</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/DOM%E5%B8%B8%E8%A7%81API.jpg" alt="DOM常见API"></p>
<blockquote>
<p>注意:前两个是document方法。</p>
</blockquote>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>dom</tag>
        <tag>树</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript学习【一】</title>
    <url>/2017/03/06/Javascript%E5%AD%A6%E4%B9%A0%E3%80%90%E4%B8%80%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info:之前JS学习的一些笔记，包括JS变量类型以及JS的三个重点：原型和原型链、作用域与闭包、异步和单线程</p>
</blockquote>
<a id="more"></a>

<h1 id="变量类型和计算"><a href="#变量类型和计算" class="headerlink" title="变量类型和计算"></a>变量类型和计算</h1><h2 id="引用类型（3种）"><a href="#引用类型（3种）" class="headerlink" title="引用类型（3种）"></a>引用类型（3种）</h2><p>对象、数组、函数。</p>
<blockquote>
<p>引用类型的内存只存一份，而值类型是存多份</p>
</blockquote>
<blockquote>
<p>引用类型可以无限扩展属性</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E7%A4%BA%E4%BE%8B.png" alt="引用类型示例"></p>
<h2 id="typeof（6种）"><a href="#typeof（6种）" class="headerlink" title="typeof（6种）"></a>typeof（6种）</h2><p>undefined、number、string、boolean、object、function。</p>
<h2 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h2><ol>
<li>字符串拼接；<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5.png" alt="字符串拼接"></li>
<li>==运算符；<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/==%E8%BF%90%E7%AE%97%E7%AC%A6.png" alt="==运算符"></li>
<li>if条件语句；<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/if%E8%AF%AD%E5%8F%A5.png" alt="if语句"></li>
<li>逻辑运算（与或非)。<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97.png" alt="逻辑运算"></li>
</ol>
<h2 id="何时使用"><a href="#何时使用" class="headerlink" title="何时使用=="></a>何时使用==</h2><p>if(obj.a == null){ … } //这里是简写，相当于obj.a === null || obj.a === undefined。其他时候全部用三等“===”。</p>
<h2 id="if-…-条件为假的几种情况"><a href="#if-…-条件为假的几种情况" class="headerlink" title="if(…){ }条件为假的几种情况"></a>if(…){ }条件为假的几种情况</h2><ol>
<li>0；</li>
<li>NaN；</li>
<li>“”;</li>
<li>null;</li>
<li>undefined;</li>
<li>false。</li>
</ol>
<h2 id="JS中的内置函数（数据封装内对象）"><a href="#JS中的内置函数（数据封装内对象）" class="headerlink" title="JS中的内置函数（数据封装内对象）"></a>JS中的内置函数（数据封装内对象）</h2><ol>
<li>Object； </li>
<li>Array； </li>
<li>Boolean； </li>
<li>Number； </li>
<li>String； </li>
<li>Function； </li>
<li>Date； </li>
<li>RegExp； </li>
<li>Error。</li>
</ol>
<h2 id="如何理解JSON"><a href="#如何理解JSON" class="headerlink" title="如何理解JSON"></a>如何理解JSON</h2><ol>
<li>JSON.stringify({a:10,b:20});     // 把对象变成字符串</li>
<li>JSON.parse(‘{“a”:10,”b”:20}’)。  // 把字符串变成对象</li>
</ol>
<blockquote>
<p>（JSON只不过是一个JS对象）上面就是JSON常见的两个API。</p>
</blockquote>
<h1 id="原型与原型链"><a href="#原型与原型链" class="headerlink" title="原型与原型链"></a>原型与原型链</h1><h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params">name,age</span>)&#123; <span class="comment">//构造函数首字母大写</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">class</span> = <span class="string">&#x27;class-1&#x27;</span>;</span><br><span class="line">  <span class="comment">//return this; //返回这个对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Foo</span>(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="comment">//var f1 = new Foo(&#x27;lisi&#x27;,22);</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f); <span class="comment">//Foo &#123; name: &#x27;zhangsan&#x27;, age: 20, class: &#x27;class-1&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f <span class="keyword">instanceof</span> <span class="title class_">Object</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="构造函数—拓展"><a href="#构造函数—拓展" class="headerlink" title="构造函数—拓展"></a>构造函数—拓展</h2><ol>
<li>var a = { } 其实是var a = new Object()的语法糖；</li>
<li>var a = [ ] 其实是var a = new Array()的语法糖；</li>
<li>function Foo(){…} 其实是var Foo = new Function()的语法糖；</li>
<li>使用instanceof判断一个函数是否是一个变量的构造函数。</li>
</ol>
<h2 id="原型规则和示例"><a href="#原型规则和示例" class="headerlink" title="原型规则和示例"></a>原型规则和示例</h2><ol>
<li>所有的引用类型（对象、数组、函数）都具有对象特性，即可自由拓展属性（除了”null”之外）；</li>
<li>所有的引用类型（对象、数组、函数）都有一个<code>__proto__</code>（隐式原型）属性，属性值是一个普通的对象；</li>
<li>所有的函数都有一个<code>prototype</code>（显式原型）属性，属性值是一个普通的对象；</li>
<li>所有的引用类型（对象、数组、函数），<code>__proto__</code>属性值指向它的构造函数的<code>prototype</code>属性值；</li>
<li>当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的<code>__proto__</code>(即它的构造函数的<code>prototype</code>)中寻找。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//第一条规则：</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;; obj.<span class="property">a</span> = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> arr = []; arr.<span class="property">a</span> = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;&#125;; fn.<span class="property">a</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二条规则：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">__proto__</span>); <span class="comment">//&#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">__proto__</span>); <span class="comment">//[]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="property">__proto__</span>); <span class="comment">//[Function]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三条规则：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">//fn &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第四条规则：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第五条规则：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span> (name,age) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">alertName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建示例</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Foo</span>(<span class="string">&#x27;zhangsan&#x27;</span>);</span><br><span class="line">f.<span class="property">printName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line">f.<span class="title function_">printName</span>(); <span class="comment">//zhangsan</span></span><br><span class="line">f.<span class="title function_">alertName</span>(); <span class="comment">//zhangsan</span></span><br><span class="line">f.<span class="title function_">toString</span>(); <span class="comment">//要去 f.__proto__.__proto__中去寻找</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f.<span class="property">__proto__</span>.<span class="property">__proto__</span>.<span class="property">__proto__</span>); <span class="comment">//null</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> item;</span><br><span class="line"><span class="keyword">for</span>(item <span class="keyword">in</span> f)&#123;</span><br><span class="line">  <span class="comment">// 虽然高级浏览器已经在 for in 中屏蔽了来自原型的属性</span></span><br><span class="line">  <span class="comment">// 但是还是建议加上这个判断，保证程序的健壮性</span></span><br><span class="line">  <span class="keyword">if</span>(f.<span class="title function_">hasOwnProperty</span>(item))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt="原型链示意图"></p>
<h2 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h2><p>用于判断<strong>引用类型</strong>属于那个<strong>构造函数</strong>的方法。 </p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/intanceof.jpg" alt="intanceof"></p>
<h2 id="关于原型和原型链的几个问题"><a href="#关于原型和原型链的几个问题" class="headerlink" title="关于原型和原型链的几个问题"></a>关于原型和原型链的几个问题</h2><p>1.如何准确判断一个变量是数组类型：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="title class_">Array</span>; <span class="comment">//true</span></span><br><span class="line"><span class="keyword">typeof</span> arr; <span class="comment">//Object(typeof是无法准确判断是否是数组的</span></span><br></pre></td></tr></table></figure>
<p>2.写一个原型链继承的例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//普通版：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 动物</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Animal</span> (name) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">eat</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; eat&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 狗</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Dog</span> (name) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">bark</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; bark&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//绑定原型，实现继承</span></span><br><span class="line"><span class="title class_">Dog</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 哈士奇</span></span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;hashiqi&quot;</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>()</span><br><span class="line">dog.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//高级版（写一个封装DOM查询的例子）：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Elem</span> (id) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">elem</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Elem</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">html</span> = <span class="keyword">function</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> elem = <span class="variable language_">this</span>.<span class="property">elem</span>;</span><br><span class="line">  <span class="keyword">if</span>(val)&#123;</span><br><span class="line">    elem.<span class="property">innerHTML</span> = val;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">//链式操作</span></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> elem.<span class="property">innerHTML</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Elem</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">type,fn</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> elem = <span class="variable language_">this</span>.<span class="property">elem</span>;</span><br><span class="line">  elem.<span class="title function_">addEventListener</span>(type, fn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div1 = <span class="keyword">new</span> <span class="title class_">Elem</span>(<span class="string">&#x27;div1&#x27;</span>);</span><br><span class="line"><span class="comment">// console.log(div.html())</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">div1.<span class="title function_">html</span>(<span class="string">&#x27;&lt;p&gt;hello world&lt;/p&gt;&#x27;</span>);</span><br><span class="line">div1.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;clicked!&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//因为有第十行的“return this”（返回的是this这个对象），所以可以进行链式操作：</span></span><br><span class="line"><span class="comment">// div1.html(&#x27;&lt;p&gt;hello world&lt;/p&gt;&#x27;).on(&#x27;click&#x27;,function()&#123;</span></span><br><span class="line"><span class="comment">//   alert(&#x27;clicked!&#x27;);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br></pre></td></tr></table></figure>
<p>3.描述new一个变量的过程：</p>
<blockquote>
<p>即考察对构造函数的理解。</p>
</blockquote>
<ul>
<li>创建一个新对象；</li>
<li>this指向这个对象；</li>
<li>执行代码，即对this赋值；</li>
<li>返回this。</li>
</ul>
<p>4.zepto（或其他框架）源码中如何使用原型链：</p>
<p><a href="http://www.imooc.com/learn/745">zepto设计和源码分析</a></p>
<h1 id="作用域与闭包"><a href="#作用域与闭包" class="headerlink" title="作用域与闭包"></a>作用域与闭包</h1><h2 id="执行上下文"><a href="#执行上下文" class="headerlink" title="执行上下文"></a>执行上下文</h2><ol>
<li>范围：一段&lt;script&gt;或者一个函数</li>
<li>全局：变量定义、函数声明 <strong>（一段&lt;script&gt;）</strong></li>
<li>函数：变量定义、函数声明、this、arguments <strong>（一个函数）</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>(<span class="string">&#x27;zhangsan&#x27;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> (name) &#123;</span><br><span class="line">  age = <span class="number">20</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name,age); <span class="comment">//zhangsan 20</span></span><br><span class="line">  <span class="keyword">var</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><blockquote>
<p><strong>this要在执行时才能确认值，定义时无法确认。</strong></p>
</blockquote>
<ol>
<li>作为构造函数执行；</li>
<li>作为对象属性执行；</li>
<li>作为普通函数执行；</li>
<li>call()、apply()、bind()；</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.作为构造函数执行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span> (name) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Foo</span>(<span class="string">&#x27;zhangsan&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.作为对象属性执行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">  <span class="attr">printName</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">printName</span>(); <span class="comment">//A    (this ===obj)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.作为普通函数执行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(); <span class="comment">///undefined (this === window)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.call和apply（都用来改变this的值，call在实际工作中用的更多,两者传参方式不一样，apply用数组格式）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line"> <span class="title function_">alert</span>(name)</span><br><span class="line"> <span class="title function_">alert</span>(age)</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn1.<span class="title function_">call</span>(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;,<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">22</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//bind（同样用来改变this的值，注意函数声明要用函数表达式的方式）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn2 = <span class="keyword">function</span> (<span class="params">name,age</span>)&#123;</span><br><span class="line"> <span class="title function_">alert</span>(name)</span><br><span class="line"> <span class="title function_">alert</span>(age)</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;.<span class="title function_">bind</span>(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;)</span><br><span class="line"><span class="title function_">fn2</span>(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">22</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><ol>
<li>JS没有块级作用域；</li>
<li>只有函数和全局作用域；</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 无块级作用域</span></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;zhangsan&#x27;</span>;</span><br><span class="line">&#125; <span class="comment">//大括号相当于一个块</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">//zhangsan</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数和全局作用域</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">200</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>,a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(); <span class="comment">//fn 200</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;global&#x27;</span>,a); <span class="comment">//global 100</span></span><br></pre></td></tr></table></figure>
<h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> b =<span class="number">200</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn2</span> () &#123;</span><br><span class="line">        <span class="keyword">var</span> c = <span class="number">300</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//当前作用域没有定义的变量，即“自由变量”，自由变量要去声明时候的作用域去找，而不是执行时候的作用域</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//a是自由变量，则要到当前fn2作用域的父级作用域去找，没有找到，则继续到fn1的父级作用域去找</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">//b是自由变量，则要到当前fn2作用域的父级作用域去找，即fn1的作用域，找到了</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">fn2</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn1</span>(); <span class="comment">//100 200 300</span></span><br></pre></td></tr></table></figure>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="闭包的使用场景"><a href="#闭包的使用场景" class="headerlink" title="闭包的使用场景"></a>闭包的使用场景</h3><ol>
<li>函数作为返回值；</li>
<li>函数作为参数传递；</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.函数作为返回值：  </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 返回一个函数（函数作为返回值）</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 自由变量，父作用域查找</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// fn1得到一个函数</span></span><br><span class="line"><span class="keyword">var</span> f1 = <span class="title function_">fn1</span>();</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">200</span>;</span><br><span class="line"><span class="title function_">f1</span>(); <span class="comment">//100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2.函数作为参数传递</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="title function_">fn1</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn2</span> (fn) &#123; <span class="comment">//函数作为参数传递</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">200</span>; </span><br><span class="line">    <span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn2</span>(f1); <span class="comment">//100</span></span><br></pre></td></tr></table></figure>
<h3 id="闭包的示例"><a href="#闭包的示例" class="headerlink" title="闭包的示例"></a>闭包的示例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.查询是否是第一次载入：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 闭包实际应用中主要用于封装变量，收敛权限</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isFirstLoad</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> _list = [];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">id</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(_list.<span class="title function_">indexOf</span>(id) &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            _list.<span class="title function_">push</span>(id);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">var</span> firstLoad = <span class="title function_">isFirstLoad</span>();</span><br><span class="line"><span class="title function_">firstLoad</span>(<span class="number">10</span>); <span class="comment">//true</span></span><br><span class="line"><span class="title function_">firstLoad</span>(<span class="number">10</span>); <span class="comment">//false</span></span><br><span class="line"><span class="title function_">firstLoad</span>(<span class="number">20</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在isFirstLoad函数外面，根本不可能改掉_list的值</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2.创建10个a标签，点击弹出相应的序号：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)&#123;</span><br><span class="line">    (<span class="keyword">function</span> (<span class="params">i</span>)&#123; <span class="comment">// 自执行函数，就是不用调用，只要定义完成，立刻执行的函数</span></span><br><span class="line">        <span class="comment">// 函数作用域</span></span><br><span class="line">        <span class="keyword">var</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        a.<span class="property">innerHTML</span> = i + <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">        a.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            e.<span class="title function_">preventDefault</span>();</span><br><span class="line">            <span class="title function_">alert</span>(i); <span class="comment">//自由变量，要去父级作用域获取值</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(a);</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="异步和单线程"><a href="#异步和单线程" class="headerlink" title="异步和单线程"></a>异步和单线程</h1><h2 id="什么是异步（对比同步）"><a href="#什么是异步（对比同步）" class="headerlink" title="什么是异步（对比同步）"></a>什么是异步（对比同步）</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 异步：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">200</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">300</span>); <span class="comment">//先打印100，然后打印300，过一秒钟再打印200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对比同步：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>);</span><br><span class="line"><span class="title function_">alert</span>(<span class="number">200</span>); <span class="comment">//程序阻塞在这里，如果不点击确认就会卡在这里</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">300</span>);</span><br></pre></td></tr></table></figure>
<h2 id="何时需要异步"><a href="#何时需要异步" class="headerlink" title="何时需要异步"></a>何时需要异步</h2><ol>
<li>在可能发生等待的情况；</li>
<li>等待过程中不能像alert一样阻塞程序的执行；</li>
<li>因此，所有“等待的情况”都需要异步； //并非“阻塞的情况”</li>
</ol>
<h2 id="前端使用异步的场景"><a href="#前端使用异步的场景" class="headerlink" title="前端使用异步的场景"></a>前端使用异步的场景</h2><ol>
<li>定时任务：setTimeout、setInterval；</li>
<li>网络请求：ajax请求、es6中的promise、动态<code>&lt;img&gt;</code>加载；</li>
<li>事件绑定；</li>
</ol>
<blockquote>
<blockquote>
<p>setTimeout(表达式,延时时间)和setInterval(表达式,延时时间)经常被用来处理延时和定时任务。setTimeout() 方法用于在指定的毫秒数后调用函数或计算表达式,而setInterval()则可以在每隔指定的毫秒数循环调用函数或表达式，直到clearInterval把它清除。</p>
</blockquote>
</blockquote>
<blockquote>
<p>很多人会将setTimeout包含于被执行函数中,然后在函数外再次使用setTimeout来达到定时执行的目的。这样,函数外的setTimeout在执行函数时再次触发setTimeout从而形成周而复始的定时效果；</p>
</blockquote>
<blockquote>
<p>使用的时候各有各的优势，使用setInterval，需要手动的停止tick触发。而使用方法中嵌套setTimeout，可以根据方法内部本身的逻辑不再调用setTimeout就等于停止了触发。<br>其实两个东西完全可以相互模拟，具体使用那个，看当时的需要而定了。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ajax请求代码示例：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;./datta1.json&#x27;</span>,<span class="keyword">function</span>(<span class="params">data1</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data1);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;img&gt;加载示例：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;loaded&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">img.<span class="property">src</span> = <span class="string">&#x27;/xxx.img&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 事件绑定示例：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;clicked&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="异步和单线程-1"><a href="#异步和单线程-1" class="headerlink" title="异步和单线程"></a>异步和单线程</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 单线程：一次只能干一件事，一个一个排队来</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">200</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">300</span>);</span><br><span class="line"><span class="comment">// 1. 执行第一行，打印100；</span></span><br><span class="line"><span class="comment">// 2. 执行setTimeout后，传入setTimeout的函数会被暂存起来，不会立即执行（单线程的特点，不能同时干两件事）；</span></span><br><span class="line"><span class="comment">// 3. 执行最后一行，打印300；</span></span><br><span class="line"><span class="comment">// 4. 待所有的程序执行完，处于空闲状态时，会立马看有没有暂存起来的需要执行；</span></span><br><span class="line"><span class="comment">// 5. 发现暂存起来的setTimeout中的函数无需等待时间，就立即拿过来执行；</span></span><br></pre></td></tr></table></figure>
<h2 id="关于异步和单线程的几个问题"><a href="#关于异步和单线程的几个问题" class="headerlink" title="关于异步和单线程的几个问题"></a>关于异步和单线程的几个问题</h2><ol>
<li>同步和异步的区别是什么。分别举一个同步和异步的例子：</li>
</ol>
<ul>
<li>同步会<strong>阻塞</strong>代码执行，而异步不会；</li>
<li>alert是同步，setTimeout是异步。</li>
</ul>
<ol start="2">
<li>一个关于setTimeout的笔试题：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// result: 1 3 5 2 4</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>异步</tag>
        <tag>JS变量类型</tag>
        <tag>原型</tag>
        <tag>原型链</tag>
        <tag>作用域</tag>
        <tag>闭包</tag>
        <tag>单线程</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript学习【二】</title>
    <url>/2017/03/08/Javascript%E5%AD%A6%E4%B9%A0%E3%80%90%E4%BA%8C%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info:JS学习的补充笔记，包括JS-Web-Api、事件绑定、事件冒泡、事件代理、AJAX、跨域和存储</p>
</blockquote>
<a id="more"></a>

<h1 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Date</span>.<span class="title function_">now</span>(); <span class="comment">//获取当前时间毫秒数</span></span><br><span class="line"><span class="keyword">var</span> dt = <span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">//Date()是一个构造函数，.now是他的一个属性函数</span></span><br><span class="line">dt.<span class="title function_">getTime</span>(); <span class="comment">//获取毫秒数</span></span><br><span class="line">dt.<span class="title function_">getFullYear</span>(); <span class="comment">//年</span></span><br><span class="line">dt.<span class="title function_">getMonth</span>(); <span class="comment">//月（0 - 11）</span></span><br><span class="line">dt.<span class="title function_">getDate</span>(); <span class="comment">//日（0 - 31）</span></span><br><span class="line">dt.<span class="title function_">getHours</span>(); <span class="comment">//小时（0 - 23）</span></span><br><span class="line">dt.<span class="title function_">getMinutes</span>(); <span class="comment">//分钟（0 - 59）</span></span><br><span class="line">dt.<span class="title function_">getSeconds</span>(); <span class="comment">//秒（0 - 59）</span></span><br></pre></td></tr></table></figure>
<h1 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h1><p>Math.random()获取随机数</p>
<h1 id="数组API"><a href="#数组API" class="headerlink" title="数组API"></a>数组API</h1><ol>
<li>forEach 遍历所有元素</li>
<li>every 判断所有元素是否都符合条件</li>
<li>some 判断是否至少有一个元素符合条件</li>
<li>sort 排序</li>
<li>map 对元素重新组装，生成一个新数组</li>
<li>filter 过滤符合条件的元素</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.forEach</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.<span class="title function_">forEach</span>( <span class="keyword">function</span>(<span class="params">item, index</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index,item);<span class="comment">// 0 1  1 2  2 3</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.every</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.<span class="title function_">every</span>(<span class="keyword">function</span>(<span class="params">item,index</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item &lt; <span class="number">4</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.some</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.<span class="title function_">some</span>(<span class="keyword">function</span>(<span class="params">item,index</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.sort</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b; <span class="comment">//从小到大排序</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.map</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item,index</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;b&gt;&#x27;</span> + item + <span class="string">&#x27;&lt;/b&gt;&#x27;</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[ &#x27;&lt;b&gt;1&lt;/b&gt;&#x27;, &#x27;&lt;b&gt;2&lt;/b&gt;&#x27;, &#x27;&lt;b&gt;3&lt;/b&gt;&#x27;, &#x27;&lt;b&gt;4&lt;/b&gt;&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.filter</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item,index</span>)&#123;</span><br><span class="line">    <span class="comment">//通过某个条件过滤数组</span></span><br><span class="line">    <span class="keyword">if</span>(item &gt;= <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[2,3]</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/5xgPPa.png" alt="5xgPPa"></p>
<blockquote>
<p>不管是forEach还是map在IE6-8下都不兼容（不兼容的情况下在Array.prototype上没有这两个方法）</p>
</blockquote>
<h1 id="对象API"><a href="#对象API" class="headerlink" title="对象API"></a>对象API</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">z</span>: <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> key;</span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.<span class="title function_">hasOwnProperty</span>(key))&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(key,obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">// x 100  y 200  z 300</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/nFXsmv.png" alt="nFXsmv"></p>
<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="通用事件绑定"><a href="#通用事件绑定" class="headerlink" title="通用事件绑定"></a>通用事件绑定</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://baidu.com&quot;</span> <span class="attr">id</span>=<span class="string">&quot;link1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;clicked&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">bindEvent</span> (elem,type,fn) &#123;</span></span><br><span class="line"><span class="language-javascript">            elem.<span class="title function_">addEventListener</span>(type, fn);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;link1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">bindEvent</span>(a,<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>(); <span class="comment">//阻止默认行为</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&#x27;clicked&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>激活<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p3&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p4&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p5&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p6&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">bindEvent</span> (elem,type,fn) &#123;</span></span><br><span class="line"><span class="language-javascript">            elem.<span class="title function_">addEventListener</span>(type, fn);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> p1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;p1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">bindEvent</span>(p1,<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">stopPropagation</span>(); <span class="comment">//阻止事件冒泡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&#x27;激活&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">bindEvent</span>(body,<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&#x27;取消&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="代理-（冒泡的应用）"><a href="#代理-（冒泡的应用）" class="headerlink" title="代理 （冒泡的应用）"></a>代理 （冒泡的应用）</h2><p>它还有一个名字叫事件委托，JavaScript高级程序设计上讲：事件委托就是利用事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。那这是什么意思呢？网上的各位大牛们讲事件委托基本上都用了同一个例子，就是取快递来解释这个现象。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#888</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;Inul&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>222<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>333<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>555<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//不使用事件委托</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">/*window.onload = function()&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        var oUL = document.getElementById(&quot;Inul&quot;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        var aLi = oUL.getElementsByTagName(&quot;li&quot;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        for(var i=0;i&lt;aLi.length;i++)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          aLi[i].onclick = function()&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            alert(123);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">      &#125;*/</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//使用事件委托</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> oUL = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Inul&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        oUL.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">alert</span>(<span class="number">123</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>代理的两个优点：<br>1.使得代码比较简洁<br>2.给浏览器的压力比较小</p>
</blockquote>
<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><h2 id="AJAX的全称"><a href="#AJAX的全称" class="headerlink" title="AJAX的全称"></a>AJAX的全称</h2><ul>
<li><p>Asynchronous Javascript And XML</p>
</li>
<li><p>异步JavaScript和XML</p>
</li>
</ul>
<h2 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;/api&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 第三个参数为true,这里的函数为异步执行</span></span><br><span class="line">    <span class="keyword">if</span>(xhr.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.<span class="property">status</span> === <span class="number">200</span>)&#123;</span><br><span class="line">            <span class="title function_">alert</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ajax-readyState.png" alt="ajax-readyState"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ajax-status.png" alt="ajax-status"></p>
<h2 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h2><h3 id="什么是跨域"><a href="#什么是跨域" class="headerlink" title="什么是跨域"></a>什么是跨域</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F.png" alt="什么是跨域"></p>
<h3 id="可以跨域的三个标签"><a href="#可以跨域的三个标签" class="headerlink" title="可以跨域的三个标签"></a>可以跨域的三个标签</h3><p>但是有三个标签可以跨域加载资源</p>
<ol>
<li>&lt;img src = “XXX”&gt; （图片）</li>
<li>&lt;link herf = “XXX”&gt; （CSS）</li>
<li>&lt;script src = “XXX”&gt; （JS）</li>
</ol>
<h3 id="这三个标签的场景"><a href="#这三个标签的场景" class="headerlink" title="这三个标签的场景"></a>这三个标签的场景</h3><ul>
<li><p>&lt;img&gt;用于打点统计，统计网站可能是其他域</p>
</li>
<li><p>&lt;link&gt;&lt;script&gt;可以使用CDN，CDN的也是其他域</p>
</li>
<li><p>&lt;script&gt;可以用于JSONP</p>
</li>
</ul>
<h3 id="跨域注意事项"><a href="#跨域注意事项" class="headerlink" title="跨域注意事项"></a>跨域注意事项</h3><ul>
<li><p>所有的跨域请求都必须经过信息提供方允许</p>
</li>
<li><p>如果未经允许就能够获取到，那就是浏览器的同源策略出现了漏洞</p>
</li>
</ul>
<h3 id="解决跨域的方法"><a href="#解决跨域的方法" class="headerlink" title="解决跨域的方法"></a>解决跨域的方法</h3><ul>
<li><strong>JSONP</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/JSONP1.png" alt="JSONP1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/JSONP2.png" alt="JSONP2"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/JSONP3.png" alt="JSONP3"></p>
<blockquote>
<p>JSONP的工作原理：</p>
</blockquote>
<blockquote>
<p>很简单，就是利用&lt;script&gt;标签没有跨域限制的“漏洞”（历史遗迹啊）来达到与第三方通讯的目的。当需要通讯时，本站脚本创建一个&lt;script&gt;元素，地址指向第三方的API网址，形如：&lt;script src=”<a href="http://www.example.net/api?param1=1&amp;param2=2&quot;&gt;">http://www.example.net/api?param1=1&amp;param2=2&quot;&gt;</a> &lt;/script&gt;<br>并提供一个回调函数来接收数据（函数名可约定，或通过地址参数传递）。     </p>
</blockquote>
<blockquote>
<p>第三方产生的响应为json数据的包装（故称之为jsonp，即json padding）形如:callback({“name”:”hax”,”gender”:”Male”})。</p>
</blockquote>
<blockquote>
<p>这样浏览器会调用callback函数，并传递解析后json对象作为参数。本站脚本可在callback函数里处理所传入的数据。</p>
</blockquote>
<blockquote>
<p>补充：“历史遗迹”的意思就是，如果在今天重新设计的话，也许就不会允许这样简单的跨域了嘿，比如可能像XHR一样按照CORS规范要求服务器发送特定的http头。</p>
</blockquote>
<ul>
<li><strong>服务器端设置 http header（即CORS（跨域资源共享））</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/CORS.png" alt="CORS"></p>
<h1 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h1><ul>
<li><strong>cookie</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/cookie1.png" alt="cookie1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/cookie2.png" alt="cookie2"></p>
<ul>
<li><strong>localStorage 和 sessionStorage</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Storage.png" alt="Storage"></p>
<ul>
<li><strong>cookie与webStorage的区别</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/cookie%E4%B8%8EwebStorage.png" alt="cookie与webStorage"></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>js-web-api</tag>
        <tag>ajax</tag>
        <tag>事件</tag>
        <tag>跨域</tag>
        <tag>cookie</tag>
        <tag>storage</tag>
      </tags>
  </entry>
  <entry>
    <title>PUBG For 104</title>
    <url>/2018/06/30/PUBG%20For%20104/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 您输入的密码错误🙅‍♂️, 请再试试✊。" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容。">
  <script id="hbeData" type="hbeData" data-hmacdigest="fdef413232f0e9418e8828b579697a0580220dfdc63ad744fb3832cd559e34d8">a010271150f6ebbf4015a8436f061b2764dd914c7bc1700e82c1828aeebf2be45980bf96053597875a6b6a1493b2b756ba89f4ec331cae57b3d49115edd5c5feeec8b9a3e351a6fe30027dd20c80e10f380b63fafd0ebe0d0927cf3299f2d685961b7a836c7431a508625c7cd3fd97d4f580bc61e0ea8ce0477901b79037b255d37f3efb0d8abc8c02966891c7101ce2b652cc1581ebb55e82cbc1467a0641347c5d252e685c6ff140825567c780d5ba6b6a4500f43f89f9ec7e9de81d3918fffe49ad721dfe723136cc2fc230b037d8f673b943c4fdf76b8bf7d48687def33d107fcf09a93a0727b815580c6df8bc3fbcd16aace5a3afa9fc94af37221c60711e349b10b4976bfd9cfe0a7a8627781824cbea6e7ea2f4fef2066e3afc6588a38a3cd352d92b1fc3ef00cca59eb76417b47005b4015981b3266cfb7d947b4fdd5edcafbb631b8c30103dd22ecd892ba2e199c5360d050c4ba3a9b11fded29a446ee16213d8cf75c6b8464cf74f3cec8a8539f1aa59a7658ad45ace453461344a</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这是一篇加密文章，内容可能是个人情感宣泄或者收费技术。如果你确实想看，请与本人联系。This is an encrypted article, the content may be personal emotional catharsis or charging technology. If you really want to see it, please contact me. 📩📩📩</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>graduation</tag>
        <tag>pubg</tag>
        <tag>104</tag>
      </tags>
  </entry>
  <entry>
    <title>Shortcut Key For VS Code</title>
    <url>/2019/01/11/Shortcut%20Key%20For%20VS%20Code/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p> <strong>Shortcut Key For VS Code</strong></p>
</blockquote>
<a id="more"></a>

<h1 id="全局"><a href="#全局" class="headerlink" title="全局"></a>全局</h1><p>CMD + Shift + P / F1 显示命令面板<br>CMD + P 快速打开<br>CMD + Shift + N 打开新窗口<br>CMD + W 关闭窗口</p>
<hr>
<h1 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h1><p>CMD + X 剪切（未选中文本的情况下，剪切光标所在行）<br>CMD + C 复制（未选中文本的情况下，复制光标所在行）<br>Option + Up 向上移动行<br>Option + Down 向下移动行<br>Option + Shift + Up 向上复制行<br>Option + Shift + Down 向下复制行<br>CMD + Shift + K 删除行<br>CMD + Enter 下一行插入<br>CMD + Shift + Enter 上一行插入<br>CMD + Shift + \ 跳转到匹配的括号<br>CMD + [ 减少缩进<br>CMD + ] 增加缩进<br>Home 跳转至行首<br>End 跳转到行尾<br>CMD + Up 跳转至文件开头<br>CMD + Down 跳转至文件结尾<br>Ctrl + PgUp 按行向上滚动<br>Ctrl + PgDown 按行向下滚动<br>CMD + PgUp 按屏向上滚动<br>CMD + PgDown 按屏向下滚动<br>CMD + Shift + [ 折叠代码块<br>CMD + Shift + ] 展开代码块<br>CMD + K  CMD + [ 折叠全部子代码块<br>CMD + K  CMD + ] 展开全部子代码块<br>CMD + K  CMD + 0 折叠全部代码块<br>CMD + K  CMD + J 展开全部代码块<br>CMD + K  CMD + C 添加行注释<br>CMD + K  CMD + U 移除行注释<br>CMD + / 添加、移除行注释<br>Option + Shift + A 添加、移除块注释<br>Option + Z 自动换行、取消自动换行</p>
<hr>
<h1 id="多光标与选择"><a href="#多光标与选择" class="headerlink" title="多光标与选择"></a>多光标与选择</h1><p>Option + 点击 插入多个光标<br>CMD + Option + Up  向上插入光标<br>CMD + Option + Down  向下插入光标<br>CMD + U 撤销上一个光标操作<br>Option + Shift + I 在所选行的行尾插入光标<br>CMD + I 选中当前行<br>CMD + Shift + L 选中所有与当前选中内容相同部分<br>CMD + F2 选中所有与当前选中单词相同的单词<br>CMD + Ctrl + Shift + Left 折叠选中<br>CMD + Ctrl + Shift + Right 展开选中<br>Alt + Shift + 拖动鼠标 选中代码块<br>CMD + Shift + Option + Up 列选择 向上<br>CMD + Shift + Option + Down 列选择 向下<br>CMD + Shift + Option + Left 列选择 向左<br>CMD + Shift + Option + Right 列选择 向右<br>CMD + Shift + Option + PgUp 列选择 向上翻页<br>CMD + Shift + Option + PgDown 列选择 向下翻页</p>
<hr>
<h1 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h1><p>CMD + F 查找<br>CMD + Option + F 替换<br>CMD + G 查找下一个<br>CMD + Shift + G 查找上一个<br>Option + Enter 选中所有匹配项<br>CMD + D 向下选中相同内容<br>CMD + K  CMD + D 移除前一个向下选中相同内容</p>
<hr>
<h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><p>Ctrl + Space 打开建议<br>CMD + Shift + Space 参数提示<br>Tab Emmet插件缩写补全<br>Option + Shift + F 格式化<br>CMD + K CMD + F 格式化选中内容<br>F12 跳转到声明位置<br>Option + F12 查看具体声明内容<br>CMD + K  F12  分屏查看具体声明内容<br>CMD + . 快速修复<br>Shift + F12 显示引用<br>F2 重命名符号<br>CMD + Shift + . 替换为上一个值<br>CMD + Shift + , 替换为下一个值<br>CMD + K CMD + X 删除行尾多余空格<br>CMD + K M 更改文件语言</p>
<hr>
<h1 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h1><p>CMD + T 显示所有符号<br>Ctrl + G 跳转至某行<br>CMD + P 跳转到某个文件<br>CMD + Shift + O 跳转到某个符号<br>CMD + Shift + M 打开问题面板<br>F8 下一个错误或警告位置<br>Shift + F8 上一个错误或警告位置<br>Ctrl + Shift + Tab 编辑器历史记录<br>Ctrl + - 后退<br>Ctrl + Shift + - 前进<br>Ctrl + Shift + M Tab 切换焦点</p>
<hr>
<h1 id="编辑器管理"><a href="#编辑器管理" class="headerlink" title="编辑器管理"></a>编辑器管理</h1><p>CMD + W 关闭编辑器<br>CMD + K  F 关闭文件夹<br>CMD + \  编辑器分屏<br>CMD + 1 切换到第一分组<br>CMD + 2 切换到第二分组<br>CMD + 3  切换到第三分组<br>CMD + K  CMD + Left 切换到上一分组<br>CMD + K  CMD + Right 切换到下一分组<br>CMD + K  CMD + Shift + Left 左移编辑器<br>CMD +  K CMD + Shift + Right 右移编辑器<br>CMD +  K Left 激活左侧编辑组<br>CMD +  K Right 激活右侧编辑组</p>
<hr>
<h1 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h1><p>CMD + N 新建文件<br>CMD + O 打开文件<br>CMD + S 保存文件<br>CMD + Shift + S 另存为<br>CMD + Option + S 全部保存<br>CMD + W 关闭<br>CMD + K CMD + W 全部关闭<br>CMD + Shift + T 重新打开被关闭的编辑器<br>CMD + K  Enter 保持打开<br>Ctrl + Tab 打开下一个<br>Ctrl + Shift + Tab 打开上一个<br>CMD + K  P 复制当前文件路径<br>CMD + K  R 在资源管理器中查看当前文件<br>CMD + K  O 新窗口打开当前文件</p>
<hr>
<h1 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h1><p>CMD + Ctrl + F 全屏、退出全屏<br>CMD + Option + 1 切换编辑器分屏方式（横、竖）<br>CMD + + 放大<br>CMD + - 缩小<br>CMD + B 显示、隐藏侧边栏<br>CMD + Shift + E 显示资源管理器 或 切换焦点<br>CMD + Shift + F 显示搜索框<br>Ctrl + Shift + G 显示Git面板<br>CMD + Shift + D 显示调试面板<br>CMD + Shift + X 显示插件面板<br>CMD + Shift + H 全局搜索替换<br>CMD + Shift + J 显示、隐藏高级搜索<br>CMD + Shift + C 打开新终端<br>CMD + Shift + U 显示输出面板<br>CMD + Shift + V Markdown预览窗口<br>CMD + K V 分屏显示 Markdown预览窗口</p>
<hr>
<h1 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h1><p>F9 设置 或 取消断点<br>F5 开始 或 继续<br>F11 进入<br>Shift + F11 跳出<br>F10 跳过<br>CMD + K CMD + I 显示悬停信息</p>
<hr>
<h1 id="集成终端"><a href="#集成终端" class="headerlink" title="集成终端"></a>集成终端</h1><p>Ctrl + <code>显示终端
Ctrl + Shift +</code> 新建终端<br>CMD + Up 向上滚动<br>CMD + Down 向下滚动<br>PgUp 向上翻页<br>PgDown 向下翻页<br>CMD + Home 滚动到顶部<br>CMD + End 滚动到底部</p>
<hr>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>Prettier配置选项说明</title>
    <url>/2021/05/22/Prettier%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: .prettierrc配置</p>
</blockquote>
<a id="more"></a>

<h1 id="配置说明"><a href="#配置说明" class="headerlink" title="配置说明"></a>配置说明</h1><table>
<thead>
<tr>
<th align="center">配置选项</th>
<th align="center">技能</th>
<th align="center">默认值</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="center">printWidth</td>
<td align="center">单行代码的最大长度</td>
<td align="center">80</td>
<td align="center">最大长度一般会设置成100-120，不建议太长，影响可读性</td>
</tr>
<tr>
<td align="center">proseWrap</td>
<td align="center">指定文件折行方式</td>
<td align="center">preserve</td>
<td align="center">always:当超出printWidth时折行<br/>never:永不折行<br/>preserve:按照文件原样折行</td>
</tr>
<tr>
<td align="center">tabWidth</td>
<td align="center">指定缩进的长度</td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">useTabs</td>
<td align="center">指定使用tab还是space来进行缩进</td>
<td align="center">false</td>
<td align="center">为true时使用tab来进行缩进</td>
</tr>
<tr>
<td align="center">semi</td>
<td align="center">在末尾是否加分号</td>
<td align="center">true</td>
<td align="center">false只会在可能导致ASI错误的行首添加分号</td>
</tr>
<tr>
<td align="center">trailingComma</td>
<td align="center">是否在可能的多行中输入尾逗号</td>
<td align="center">es5</td>
<td align="center">none:无尾逗号<br/>es5:添加es5中被支持的尾逗号<br/>all:在有可能的地方都添加</td>
</tr>
<tr>
<td align="center">singleQuote</td>
<td align="center">是否使用单引号</td>
<td align="center">false</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">quoteProps</td>
<td align="center">对象属性中加引号的规则</td>
<td align="center">as-needed</td>
<td align="center">as-needed:只在需要的时候给对象属性加引号<br/>consistent:如果对象中有一个属性有引号则都加上引号<br/>preserve:遵循对象属性中引号的用法</td>
</tr>
<tr>
<td align="center">jsxSingleQuote</td>
<td align="center">JSX中是否使用单引号代替双引号</td>
<td align="center">false</td>
<td align="center">默认情况下不使用单引号代替双引号</td>
</tr>
<tr>
<td align="center">jsxBracketSameLine</td>
<td align="center">在多行JSX中最后一行的&gt;是否要另起一行</td>
<td align="center">false</td>
<td align="center">&lt;button<br/>id=”btn”<br/>onClick={this.handleClick}<br/>&gt;<br/>Click here<br/></button></td>
</tr>
<tr>
<td align="center">bracketSpacing</td>
<td align="center">在对象字面量的括号(即{和})前后输出空格</td>
<td align="center">true</td>
<td align="center">eg:{name:’tom’} =&gt; { name: ‘tom’ }</td>
</tr>
<tr>
<td align="center">arrowParens</td>
<td align="center">给箭头函数的参数加入括号</td>
<td align="center">always</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">rangeStart</td>
<td align="center">指定文件需要代码格式化的开始范围</td>
<td align="center">0</td>
<td align="center">默认从文件开头开始格式化</td>
</tr>
<tr>
<td align="center">rangeEnd</td>
<td align="center">指定文件需要代码格式化的结束范围</td>
<td align="center">无</td>
<td align="center">默认从文件结尾结束格式化</td>
</tr>
<tr>
<td align="center">parser</td>
<td align="center">指定使用哪一种解析器</td>
<td align="center">无</td>
<td align="center">eg: parser: require(“./myParser”)</td>
</tr>
<tr>
<td align="center">requirePragma</td>
<td align="center">文件顶部是否需要注释说明文件</td>
<td align="center">false</td>
<td align="center">/* <br/>* @prettier <br/>*/</td>
</tr>
<tr>
<td align="center">insertPragma</td>
<td align="center">是否在文件顶部插入一个format注释</td>
<td align="center">false</td>
<td align="center">默认不另外插入注释</td>
</tr>
<tr>
<td align="center">htmlWhitespaceSensitivity</td>
<td align="center">指定html文件空格的敏感性</td>
<td align="center">css</td>
<td align="center">css:遵循css display属性的默认值<br/>strict:空格敏感<br/>ignore:空格不敏感</td>
</tr>
<tr>
<td align="center">vueIndentScriptAndStyle</td>
<td align="center">vue中script和style标签内的代码是否缩进</td>
<td align="center">false</td>
<td align="center">false：不缩进<br/>true：缩进</td>
</tr>
<tr>
<td align="center">endOfLine</td>
<td align="center">行尾换行样式</td>
<td align="center">lf</td>
<td align="center">lf：仅换行符换行(\n)<br/>crlf：回车符+换行符(\r\n)<br/>cr:仅回车符(\r)<br/>auto：维持文件现有的行尾(通过查看第一行行尾的内容对一个文件中的混合值进行归一化)</td>
</tr>
</tbody></table>
<h1 id="suvan’s-default-prettierrc"><a href="#suvan’s-default-prettierrc" class="headerlink" title="suvan’s default .prettierrc"></a>suvan’s default .prettierrc</h1><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;proseWrap&quot;</span><span class="punctuation">:</span> <span class="string">&quot;never&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;useTabs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;quoteProps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;as-needed&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;jsxSingleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;jsxBracketSameLine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bracketSpacing&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;arrowParens&quot;</span><span class="punctuation">:</span> <span class="string">&quot;avoid&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rangeStart&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;requirePragma&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;insertPragma&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;htmlWhitespaceSensitivity&quot;</span><span class="punctuation">:</span> <span class="string">&quot;strict&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;vueIndentScriptAndStyle&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;endOfLine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lf&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>work</category>
      </categories>
      <tags>
        <tag>Prettier</tag>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>TCP的三次握手和四次挥手</title>
    <url>/2017/04/02/TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="1-TCP报文格式"><a href="#1-TCP报文格式" class="headerlink" title="1.TCP报文格式"></a>1.TCP报文格式</h1><a id="more"></a>

<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp1.jpg" alt="tcp1"><br>几个重点字段：<br>  （1）序号：Seq序号，占32位，用来标识从TCP源端向目的端发送的字节流，发起方发送数据时对此进行标记。<br>  （2）确认序号：Ack序号，占32位，只有ACK标志位为1时，确认序号字段才有效，Ack=Seq+1。<br>  （3）标志位：共6个，即URG、ACK、PSH、RST、SYN、FIN等，具体含义如下：<br>  （A）URG：紧急指针（urgent pointer）有效。<br>  （B）ACK：确认序号有效。<br>  （C）PSH：接收方应该尽快将这个报文交给应用层。<br>  （D）RST：重置连接。<br>  （E）SYN：发起一个新连接。<br>  （F）FIN：释放一个连接。</p>
<p> 需要注意的是：<br>  （A）不要将确认序号Ack与标志位中的ACK搞混了。<br>  （B）确认方Ack=发起方Req+1，两端配对。</p>
<h1 id="2-三次握手"><a href="#2-三次握手" class="headerlink" title="2.三次握手"></a>2.三次握手</h1><blockquote>
<p>TCP(Transmission Control Protocol)即传输控制协议，TCP是主机对主机层的传输控制协议，提供可靠的连接服务，采用三次握手确认建立一个连接。</p>
</blockquote>
<p>位码即tcp标志位,有6种标示:</p>
<ol>
<li>SYN(synchronous建立联机)</li>
<li>ACK(acknowledgement 确认)</li>
<li>PSH(push传送)</li>
<li>FIN(finish结束)</li>
<li>RST(reset重置)</li>
<li>URG(urgent紧急)</li>
</ol>
<p>Sequence number(顺序号码)<br>Acknowledge number(确认号码)<br>establish  建立，创建</p>
<p>  所谓三次握手（Three-Way Handshake）即建立TCP连接，是<strong>指建立一个TCP连接时，需要客户端和服务端总共发送3个包以确认连接的建立。</strong>在socket编程中，这一过程由客户端执行connect来触发，整个流程如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp2.jpg" alt="tcp2"><br>（1）第一次握手：Client将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给Server，<strong>Client进入SYN_SENT状态</strong>，等待Server确认。</p>
<p>（2）第二次握手：Server收到数据包后由标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置为1，ack (number )=J+1，随机产生一个值seq=K，并将该数据包发送给Client以确认连接请求，<strong>Server进入SYN_RCVD状态</strong>。</p>
<p>（3）第三次握手：Client收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给Server，Server检查ack是否为K+1，ACK是否为1，<strong>如果正确则连接建立成功，Client和Server进入ESTABLISHED状态</strong>，完成三次握手，随后Client与Server之间可以开始传输数据了。<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp3.jpg" alt="tcp3"><br>SYN攻击：<br>  在三次握手过程中，<strong>Server发送SYN-ACK之后，收到Client的ACK之前的TCP连接称为半连接（half-open connect），此时Server处于SYN_RCVD状态</strong>，当收到ACK后，Server转入ESTABLISHED状态。<strong>SYN攻击就是Client在短时间内伪造大量不存在的IP地址，并向Server不断地发送SYN包，Server回复确认包，并等待Client的确认，由于源地址是不存在的，因此，Server需要不断重发直至超时，这些伪造的SYN包将长时间占用未连接队列，导致正常的SYN请求因为队列满而被丢弃</strong>，从而引起网络堵塞甚至系统瘫痪。SYN攻击时一种典型的DDOS攻击，检测SYN攻击的方式非常简单，即当Server上有大量半连接状态且源IP地址是随机的，则可以断定遭到SYN攻击了，使用如下命令可以让之现行：</p>
<blockquote>
<p>netstat -nap | grep SYN_RECV</p>
</blockquote>
<h1 id="3-四次挥手"><a href="#3-四次挥手" class="headerlink" title="3.四次挥手"></a>3.四次挥手</h1><p>所谓四次挥手（Four-Way Wavehand）即终止TCP连接，就是指断开一个TCP连接时，需要客户端和服务端总共发送4个包以确认连接的断开。在socket编程中，这一过程由客户端或服务端任一方执行close来触发，整个流程如下图所示：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp4.jpg" alt="tcp4"><br>由于TCP连接时全双工的，因此，每个方向都必须要单独进行关闭，这一原则是当一方完成数据发送任务后，发送一个FIN来终止这一方向的连接，收到一个FIN只是意味着这一方向上没有数据流动了，即不会再收到数据了，但是在这个TCP连接上仍然能够发送数据，直到这一方向也发送了FIN。首先进行关闭的一方将执行主动关闭，而另一方则执行被动关闭，上图描述的即是如此。<br>（1）第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，<strong>Client进入FIN_WAIT_1状态</strong>。<br>（2）第二次挥手：Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），<strong>Server进入CLOSE_WAIT状态</strong>。<br>（3）第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。<br>（4）第四次挥手：Client收到FIN后，<strong>Client进入TIME_WAIT状态</strong>，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手。<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp5.jpg" alt="tcp5"><br>上面是一方主动关闭，另一方被动关闭的情况，实际中还会出现同时发起主动关闭的情况，具体流程如下图：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/tcp6.jpg" alt="tcp6"><br>流程和状态在上图中，可以参考前面的四次挥手解析步骤。</p>
<h1 id="4-问答"><a href="#4-问答" class="headerlink" title="4.问答"></a>4.问答</h1><h2 id="1-为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"><a href="#1-为什么建立连接是三次握手，而关闭连接却是四次挥手呢？" class="headerlink" title="1.为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"></a>1.为什么建立连接是三次握手，而关闭连接却是四次挥手呢？</h2><p>答：这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方也未必全部数据都发送给对方了，所以己方可以立即close，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送。</p>
<h2 id="2-为什么TIME-WAIT状态需要经过2MSL-最大报文段生存时间-才能返回到CLOSE状态？"><a href="#2-为什么TIME-WAIT状态需要经过2MSL-最大报文段生存时间-才能返回到CLOSE状态？" class="headerlink" title="2.为什么TIME_WAIT状态需要经过2MSL(最大报文段生存时间)才能返回到CLOSE状态？"></a>2.为什么TIME_WAIT状态需要经过2MSL(最大报文段生存时间)才能返回到CLOSE状态？</h2><p>答：虽然按道理，四个报文都发送完毕，我们可以直接进入CLOSE状态了，但是我们必须假象网络是不可靠的，有可以最后一个ACK丢失。所以TIME_WAIT状态就是用来重发可能丢失的ACK报文。</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>study</tag>
        <tag>tcp</tag>
        <tag>ip</tag>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue开发中的几个小tips</title>
    <url>/2018/09/05/Vue%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E5%87%A0%E4%B8%AA%E5%B0%8Ftips/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>几个小tips帮助更高效地开发Vue</p>
</blockquote>
<a id="more"></a>

<h1 id="化繁为简的Watchers"><a href="#化繁为简的Watchers" class="headerlink" title="化繁为简的Watchers"></a>化繁为简的Watchers</h1><p>场景还原：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">fetchPostList</span>()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="title function_">searchInputValue</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">fetchPostList</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>组件创建的时候我们获取一次列表，同时监听input框，每当发生变化的时候重新获取一次筛选后的列表这个场景很常见，有没有办法优化一下呢？</p>
<p>招式解析：<br>首先，在watchers中，可以直接使用函数的字面量名称；其次，声明immediate:true表示创建组件时立马执行一次。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">searchInputValue</span>:&#123;</span><br><span class="line">        <span class="attr">handler</span>: <span class="string">&#x27;fetchPostList&#x27;</span>,</span><br><span class="line">        <span class="attr">immediate</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="一劳永逸的组件注册"><a href="#一劳永逸的组件注册" class="headerlink" title="一劳永逸的组件注册"></a>一劳永逸的组件注册</h1><p>场景还原：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">BaseButton</span> <span class="keyword">from</span> <span class="string">&#x27;./baseButton&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">BaseIcon</span> <span class="keyword">from</span> <span class="string">&#x27;./baseIcon&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">BaseInput</span> <span class="keyword">from</span> <span class="string">&#x27;./baseInput&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">BaseButton</span>,</span><br><span class="line">    <span class="title class_">BaseIcon</span>,</span><br><span class="line">    <span class="title class_">BaseInput</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">BaseInput</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;searchText&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">keydown.enter</span>=<span class="string">&quot;search&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BaseButton</span> @<span class="attr">click</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">BaseIcon</span> <span class="attr">name</span>=<span class="string">&quot;search&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">BaseButton</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们写了一堆基础UI组件，然后每次我们需要使用这些组件的时候，都得先import，然后声明components，很繁琐！秉持能偷懒就偷懒的原则，我们要想办法优化！</p>
<p>招式解析：<br>我们需要借助一下神器webpack，使用 require.context() 方法来创建自己的（模块）上下文，从而实现自动动态require组件。这个方法需要3个参数：要搜索的文件夹目录，是否还应该搜索它的子目录，以及一个匹配文件的正则表达式。</p>
<p>我们在components文件夹添加一个叫global.js的文件，在这个文件里借助webpack动态将需要的基础组件统统打包进来。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">capitalizeFirstLetter</span>(<span class="params">string</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> string.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + string.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> requireComponent = <span class="built_in">require</span>.<span class="title function_">context</span>(</span><br><span class="line">  <span class="string">&#x27;.&#x27;</span>, <span class="literal">false</span>, <span class="regexp">/\.vue$/</span></span><br><span class="line">   <span class="comment">//找到components文件夹下以.vue命名的文件</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">requireComponent.<span class="title function_">keys</span>().<span class="title function_">forEach</span>(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> componentConfig = requireComponent(fileName)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> componentName = <span class="title function_">capitalizeFirstLetter</span>(</span><br><span class="line">    fileName.<span class="title function_">replace</span>(<span class="regexp">/^\.\//</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/\.\w+$/</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="comment">//因为得到的filename格式是: &#x27;./baseButton.vue&#x27;, 所以这里我们去掉头和尾，只保留真正的文件名</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">component</span>(componentName, componentConfig.<span class="property">default</span> || componentConfig)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>最后我们在main.js中<code>import &#39;components/global.js&#39;</code>，然后我们就可以随时随地使用这些基础组件，无需手动引入了。</p>
<h1 id="无所不能的render函数"><a href="#无所不能的render函数" class="headerlink" title="无所不能的render函数"></a>无所不能的render函数</h1><p>场景还原:</p>
<p>vue要求每一个组件都只能有一个根元素，当你有多个根元素时，vue就会给你报错</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">&quot;route in routes&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">&quot;route.name&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;route&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; route.title &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> ERROR - Component template should contain exactly one root element. </span><br><span class="line">    If you are using v-if on multiple elements, use v-else-if </span><br><span class="line">    to chain them instead.</span><br></pre></td></tr></table></figure>
<p>招式解析:<br>那有没有办法化解呢，答案是有的，只不过这时候我们需要使用render()函数来创建HTML，而不是template。其实用js来生成html的好处就是极度的灵活功能强大，而且你不需要去学习使用vue的那些功能有限的指令API，比如v-for, v-if。（reactjs就完全丢弃了template）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">functional</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="title function_">render</span>(<span class="params">h, &#123; props &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> props.<span class="property">routes</span>.<span class="title function_">map</span>(<span class="function"><span class="params">route</span> =&gt;</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;route.name&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#123;route&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;route.title&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="无招胜有招的高阶组件"><a href="#无招胜有招的高阶组件" class="headerlink" title="无招胜有招的高阶组件"></a>无招胜有招的高阶组件</h1><p><strong>划重点：这一招威力无穷，请务必掌握</strong><br>当我们写组件的时候，通常我们都需要从父组件传递一系列的props到子组件，同时父组件监听子组件emit过来的一系列事件。举例子：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//父组件</span><br><span class="line"><span class="tag">&lt;<span class="name">BaseInput</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">:value</span>=<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">label</span>=<span class="string">&quot;密码&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">placeholder</span>=<span class="string">&quot;请填写密码&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">input</span>=<span class="string">&quot;handleInput&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">focus</span>=<span class="string">&quot;handleFocus&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;/BaseInput&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag"></span></span></span><br><span class="line"><span class="string"><span class="tag">//子组件</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;template&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">  &lt;label&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">    &#123;&#123; label &#125;&#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">    &lt;input</span></span></span><br><span class="line"><span class="string"><span class="tag">      :value=&quot;</span><span class="attr">value</span>&quot;</span></span><br><span class="line"><span class="tag">      <span class="attr">:placeholder</span>=<span class="string">&quot;placeholder&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">focus</span>=<span class="string">$emit(</span>&#x27;<span class="attr">focus</span>&#x27;, $<span class="attr">event</span>)&quot;</span></span><br><span class="line"><span class="tag">      @<span class="attr">input</span>=<span class="string">&quot;$emit(&#x27;input&#x27;, $event.target.value)&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>有下面几个优化点：</p>
<p>1.每一个从父组件传到子组件的props,我们都得在子组件的Props中显式的声明才能使用。这样一来，我们的子组件每次都需要申明一大堆props, 而类似placeholer这种dom原生的property我们其实完全可以直接从父传到子，无需声明。方法如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:value</span>=<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">input</span>=<span class="string">&quot;$emit(&#x27;input&#x27;, $event.target.value)&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>$attrs</code>包含了父作用域中不作为<code>prop</code>被识别 (且获取) 的特性绑定 (class 和 style 除外)。当一个组件没有声明任何<code>prop</code>时，这里会包含所有父作用域的绑定，并且可以通过<code>v-bind=&quot;$attrs&quot;</code>传入内部组件——在创建更高层次的组件时非常有用。</p>
<p>2.注意到子组件的<code>@focus=$emit(&#39;focus&#39;, $event)&quot;</code>其实什么都没做，只是把event传回给父组件而已，那其实和上面类似，我完全没必要显式地申明：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">    :value=<span class="string">&quot;value&quot;</span></span><br><span class="line">    v-bind=<span class="string">&quot;$attrs&quot;</span></span><br><span class="line">    v-on=<span class="string">&quot;listeners&quot;</span></span><br><span class="line">&gt;</span><br><span class="line"></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="title function_">listeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ...<span class="variable language_">this</span>.<span class="property">$listeners</span>,</span><br><span class="line">      <span class="attr">input</span>: <span class="function"><span class="params">event</span> =&gt;</span> </span><br><span class="line">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, event.<span class="property">target</span>.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>$listeners</code>包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过<code>v-on=&quot;$listeners&quot;</code>传入内部组件——在创建更高层次的组件时非常有用。</p>
<p>3.需要注意的是，由于我们input并不是BaseInput这个组件的根节点，而默认情况下父作用域的不被认作 props 的特性绑定将会“回退”且作为普通的 HTML 特性应用在子组件的根元素上。所以我们需要设置<code>inheritAttrs:false</code>，这些默认行为将会被去掉, 以上两点的优化才能成功。</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>watchers</tag>
        <tag>render</tag>
        <tag>高阶组件</tag>
        <tag>组件注册</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue的基础知识</title>
    <url>/2017/09/21/Vue%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Vue的三个特点："><a href="#Vue的三个特点：" class="headerlink" title="Vue的三个特点："></a>Vue的三个特点：</h3><a id="more"></a>

<ul>
<li><strong>易用</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;app&#x27;</span>&gt;</span></span><br><span class="line">    &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">message</span>:<span class="string">&#x27;hello vue!&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>灵活（渐进式）</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%B8%90%E8%BF%9B%E5%BC%8F%E6%A6%82%E5%BF%B5%E5%9B%BE.png" alt="vue渐进式概念图"></p>
<ol>
<li>无论是单页面程序还是多页面程序，我们首先都需要通过声明式渲染来渲染页面上的每一个字段；因为我们的界面需要去展现一些功能，展现一些信息，就需要渲染来实现；</li>
<li>把一些公共的头部和公共的尾部抽出来去做成一个组件；</li>
<li>做单页面程序用到路由,需要把vue-resource、vue-router等等插件拉进来去做一个路由的功能；</li>
<li>如果实现的业务足够复杂，需要用到大量的组件，而且难以管理这些组件的状态，此时就需要引进vuex，用来集中管理组件的状态；</li>
<li>整个项目做完之后，需要通过构建工具来build系统，提升效率，最后形成一个完整的项目。</li>
</ol>
<ul>
<li><strong>高效</strong></li>
</ul>
<ol>
<li>vue的min+gzip的运行大小：16kb；</li>
<li>超快虚拟DOM；</li>
<li>最省心的优化。</li>
</ol>
<h3 id="Vue组件的重要选项："><a href="#Vue组件的重要选项：" class="headerlink" title="Vue组件的重要选项："></a>Vue组件的重要选项：</h3><ul>
<li><strong>data（数据源）</strong><br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E7%BB%84%E4%BB%B61.png" alt="vue组件1"></li>
<li><strong>methods（方法）</strong><br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E7%BB%84%E4%BB%B62.png" alt="vue组件2"></li>
<li><strong>watch（监听）</strong><br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E7%BB%84%E4%BB%B63.png" alt="vue组件3"></li>
</ul>
<h3 id="Vue模版指令（html和vue对象的粘合剂）："><a href="#Vue模版指令（html和vue对象的粘合剂）：" class="headerlink" title="Vue模版指令（html和vue对象的粘合剂）："></a>Vue模版指令（html和vue对象的粘合剂）：</h3><ul>
<li><p>数据渲染：v-text 、v-html 、&#123;&#123;  &#125;&#125;<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%8C%87%E4%BB%A41.png" alt="vue指令1"></p>
</li>
<li><p>控制模块隐藏：v-if 、v-show<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%8C%87%E4%BB%A42.png" alt="vue指令2"></p>
</li>
<li><p>渲染循环列表：v-for<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%8C%87%E4%BB%A43.png" alt="vue指令3"></p>
</li>
<li><p>事件绑定：v-bind<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%8C%87%E4%BB%A44.png" alt="vue指令4"><br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%8C%87%E4%BB%A45.png" alt="vue指令5"></p>
</li>
<li><p>表单渲染：v-model: 用于文本框、下拉框、单选复选、textarea等等，具有一个双向绑定的特性。</p>
</li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>vue</tag>
        <tag>前端框架</tag>
      </tags>
  </entry>
  <entry>
    <title>Webpack基本配置</title>
    <url>/2019/07/20/Webpack%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="拆分配置和merge"><a href="#拆分配置和merge" class="headerlink" title="拆分配置和merge"></a>拆分配置和merge</h1><p>​    <code>webpack</code>两个最基本的功能:  1. 开发的代码运行一下看看是否有效 ;  2. 开发完毕了将代码打包出来。这两个操作的需求、配置都是完全不一样的。例如，运行代码时不需要压缩以便 <code>debug</code> ，而打包代码时就需要压缩以减少文件体积。所以可以把<code>webpack</code>配置拆分成下面三个文件来方便管理并且也能避免重复的配置内容：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> webpack.common.js	<span class="comment">// 公共配置（开发环境和生产环境都需要用到的配置）</span></span><br><span class="line"><span class="number">2.</span> webpack.dev.js	<span class="comment">// 开发环境配置</span></span><br><span class="line"><span class="number">3.</span> webpack.prod.js	<span class="comment">// 生产环境配置</span></span><br></pre></td></tr></table></figure>
<p>然后在开发和生产环境中通过<code>smart</code>方法来引入公共配置：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; smart &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// smart 方法也就是之前的 merge 方法</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="启动本地服务（开发环境配置）"><a href="#启动本地服务（开发环境配置）" class="headerlink" title="启动本地服务（开发环境配置）"></a>启动本地服务（开发环境配置）</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackCommonConf = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; smart &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// 直接引入图片 url</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif)$/</span>,</span><br><span class="line">                <span class="attr">use</span>: <span class="string">&#x27;file-loader&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// window.ENV = &#x27;development&#x27;</span></span><br><span class="line">            <span class="attr">ENV</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;development&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="comment">// 🌟🌟🌟 相关配置项</span></span><br><span class="line">        <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        <span class="attr">progress</span>: <span class="literal">true</span>,  <span class="comment">// 显示打包的进度条</span></span><br><span class="line">        <span class="attr">contentBase</span>: distPath,  <span class="comment">// 根目录（启动服务是基于哪个目录来访问文件</span></span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>,  <span class="comment">// 自动打开浏览器</span></span><br><span class="line">        <span class="attr">compress</span>: <span class="literal">true</span>,  <span class="comment">// 启动 gzip 压缩</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 🌟🌟🌟 设置代理（在webpack下怎么去跨域请求其他的一些接口</span></span><br><span class="line">        <span class="attr">proxy</span>: &#123;</span><br><span class="line">            <span class="comment">// 将本地 /api/xxx 代理到 localhost:3000/api/xxx</span></span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将本地 /api2/xxx 代理到 localhost:3000/xxx</span></span><br><span class="line">            <span class="string">&#x27;/api2&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">                <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="处理ES6（公共配置）"><a href="#处理ES6（公共配置）" class="headerlink" title="处理ES6（公共配置）"></a>处理ES6（公共配置）</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.common.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index&#x27;</span>),</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">              	<span class="comment">// es6</span></span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;babel-loader&#x27;</span>],</span><br><span class="line">                <span class="attr">include</span>: srcPath,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;vue-loader&#x27;</span>],</span><br><span class="line">                <span class="attr">include</span>: srcPath</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="comment">// loader 的执行顺序是：从后往前（知识点）</span></span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;postcss-loader&#x27;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                <span class="comment">// 增加 &#x27;less-loader&#x27; ，注意顺序</span></span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;less-loader&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index.html&#x27;</span>),</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="配置babelrc"><a href="#配置babelrc" class="headerlink" title="配置babelrc"></a>配置babelrc</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .babelrc</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@babel/preset-env&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// 这里面就包含了es6、es7、es8常用的一些语法</span></span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="配置postcss"><a href="#配置postcss" class="headerlink" title="配置postcss"></a>配置postcss</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// postcss.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [<span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)] <span class="comment">// 用于加一些浏览器兼容的前缀，比如 -webkit-</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="处理图片（开发环境和生产环境都需要配置）"><a href="#处理图片（开发环境和生产环境都需要配置）" class="headerlink" title="处理图片（开发环境和生产环境都需要配置）"></a>处理图片（开发环境和生产环境都需要配置）</h1><p>开发环境下处理图片只需要用一个<code>file-loader</code>即可，而在生产环境下需要分情况：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackCommonConf = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; smart &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.[contentHash:8].js&#x27;</span>,  <span class="comment">// 🌟🌟🌟 打包代码时，加上 hash 戳，8代表8位</span></span><br><span class="line">        <span class="attr">path</span>: distPath,</span><br><span class="line">        <span class="comment">// publicPath: &#x27;http://cdn.abc.com&#x27;  // 修改所有静态文件 url 的前缀（如 cdn 域名），这里暂时用不到</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// 图片 - 考虑 base64 编码的情况</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif)$/</span>,</span><br><span class="line">                <span class="attr">use</span>: &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                    <span class="attr">options</span>: &#123;</span><br><span class="line">                        <span class="comment">// 🌟🌟🌟 小于 5kb 的图片用 base64 格式产出，这样可以少一次http请求</span></span><br><span class="line">                        <span class="comment">// 否则，依然延用 file-loader 的形式，产出 url 格式</span></span><br><span class="line">                        <span class="attr">limit</span>: <span class="number">5</span> * <span class="number">1024</span>,</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 打包到 img 目录下</span></span><br><span class="line">                        <span class="attr">outputPath</span>: <span class="string">&#x27;/img1/&#x27;</span>,</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 设置图片的 cdn 地址（也可以统一在外面的 output 中设置，那将作用于所有静态资源）</span></span><br><span class="line">                        <span class="comment">// publicPath: &#x27;http://cdn.abc.com&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(), <span class="comment">// 🌟🌟🌟 会默认清空 output.path 文件夹</span></span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// window.ENV = &#x27;production&#x27;</span></span><br><span class="line">            <span class="attr">ENV</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;production&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="多入口"><a href="#多入口" class="headerlink" title="多入口"></a>多入口</h1><h2 id="entry-入口配置（公共配置）"><a href="#entry-入口配置（公共配置）" class="headerlink" title="entry 入口配置（公共配置）"></a>entry 入口配置（公共配置）</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 基础配置</span></span><br><span class="line"><span class="attr">entry</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index&#x27;</span>),</span><br><span class="line"><span class="comment">// 多入口配置</span></span><br><span class="line"><span class="attr">entry</span>: &#123;</span><br><span class="line">        <span class="attr">index</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index.js&#x27;</span>),</span><br><span class="line">        <span class="attr">other</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;other.js&#x27;</span>)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="output-输出配置（生产环境配置）"><a href="#output-输出配置（生产环境配置）" class="headerlink" title="output 输出配置（生产环境配置）"></a>output 输出配置（生产环境配置）</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 基础配置</span></span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.[contentHash:8].js&#x27;</span>,  <span class="comment">// 打包代码时，加上 hash 戳</span></span><br><span class="line">        <span class="attr">path</span>: distPath,</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">// 多入口配置</span></span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;[name].[contentHash:8].js&#x27;</span>, <span class="comment">// name 即多入口时 entry 的 key （index、other）</span></span><br><span class="line">        <span class="attr">path</span>: distPath,</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="html-文件配置（公共配置）"><a href="#html-文件配置（公共配置）" class="headerlink" title="html 文件配置（公共配置）"></a>html 文件配置（公共配置）</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 基础配置</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index.html&#x27;</span>),</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line"><span class="comment">// 多入口配置：针对每一个入口都要建一个HtmlWebpackPlugin配置项</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 多入口 - 生成 index.html</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index.html&#x27;</span>),</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">            <span class="comment">// chunks 表示该页面要引用哪些chunk(js文件内容，即上面的index和other)，默认全部引用</span></span><br><span class="line">            <span class="attr">chunks</span>: [<span class="string">&#x27;index&#x27;</span>]  <span class="comment">// 只引用 index.js</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">// 多入口 - 生成 other.html</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;other.html&#x27;</span>),</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;other.html&#x27;</span>,</span><br><span class="line">            <span class="comment">// chunks 表示该页面要引用哪些chunk(js文件内容，即上面的index和other)，默认全部引用</span></span><br><span class="line">            <span class="attr">chunks</span>: [<span class="string">&#x27;other&#x27;</span>]  <span class="comment">// 只引用 other.js</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
<h1 id="处理样式、抽离-CSS-文件（开发环境和生产环境都需要配置）"><a href="#处理样式、抽离-CSS-文件（开发环境和生产环境都需要配置）" class="headerlink" title="处理样式、抽离 CSS 文件（开发环境和生产环境都需要配置）"></a>处理样式、抽离 CSS 文件（开发环境和生产环境都需要配置）</h1><p>​    之前那样将样式处理统一放在公共配置中，所有的样式都是打包写进了<code>js</code>文件里然后塞到<code>html</code>中的<code>style</code>标签中的，这样的话效率比较低。</p>
<p>​    开发环境下处理样式依然沿用之前公共配置里的处理样式的做法：采用<code>style-loader</code>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; smart &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TerserJSPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OptimizeCSSAssetsPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackCommonConf = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="comment">// filename: &#x27;bundle.[contentHash:8].js&#x27;,  // 打包代码时，加上 hash 戳</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;[name].[contentHash:8].js&#x27;</span>, <span class="comment">// name 即多入口时 entry 的 key</span></span><br><span class="line">        <span class="attr">path</span>: distPath,</span><br><span class="line">        <span class="comment">// publicPath: &#x27;http://cdn.abc.com&#x27;  // 修改所有静态文件 url 的前缀（如 cdn 域名），这里暂时用不到</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif)$/</span>,</span><br><span class="line">                <span class="attr">use</span>: &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                    <span class="attr">options</span>: &#123;</span><br><span class="line">                        <span class="attr">limit</span>: <span class="number">5</span> * <span class="number">1024</span>,</span><br><span class="line">                        <span class="attr">outputPath</span>: <span class="string">&#x27;/img1/&#x27;</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 抽离 css</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: [</span><br><span class="line">                  	<span class="comment">// 🌟🌟🌟 注意，这里不再用style-loader 改用 MiniCssExtractPlugin.loader</span></span><br><span class="line">                    <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;postcss-loader&#x27;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">          	<span class="comment">// 抽离 less --&gt; css</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: [</span><br><span class="line">                    <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;less-loader&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;postcss-loader&#x27;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(), <span class="comment">// 会默认清空 output.path 文件夹</span></span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">            <span class="attr">ENV</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;production&#x27;</span>)</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 🌟🌟🌟 抽离 css 文件</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;css/main.[contentHash:8].css&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="comment">// 🌟🌟🌟 压缩 css</span></span><br><span class="line">        <span class="attr">minimizer</span>: [<span class="keyword">new</span> <span class="title class_">TerserJSPlugin</span>(&#123;&#125;), <span class="keyword">new</span> <span class="title class_">OptimizeCSSAssetsPlugin</span>(&#123;&#125;)],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>study</tag>
        <tag>webpack</tag>
        <tag>打包</tag>
        <tag>工具</tag>
        <tag>babel</tag>
        <tag>smart</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue源码分析</title>
    <url>/2021/05/05/Vue%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 您输入的密码错误🙅‍♂️, 请再试试✊。" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容。">
  <script id="hbeData" type="hbeData" data-hmacdigest="5128eaa12e333e904949e2fe8768323a1cf08bc2945c5aefd3bfd9a36f312274">a010271150f6ebbf4015a8436f061b2764dd914c7bc1700e82c1828aeebf2be45980bf96053597875a6b6a1493b2b756ba89f4ec331cae57b3d49115edd5c5feeec8b9a3e351a6fe30027dd20c80e10f380b63fafd0ebe0d0927cf3299f2d685961b7a836c7431a508625c7cd3fd97d4f580bc61e0ea8ce0477901b79037b255d37f3efb0d8abc8c02966891c7101ce2b652cc1581ebb55e82cbc1467a0641347c5d252e685c6ff140825567c780d5ba6b6a4500f43f89f9ec7e9de81d3918fffe49ad721dfe723136cc2fc230b037d8f673b943c4fdf76b8bf7d48687def33d107fcf09a93a0727b815580c6df8bc3fbcd16aace5a3afa9fc94af37221c60711e349b10b4976bfd9cfe0a7a8627781824cbea6e7ea2f4fef2066e3afc6588a38a3cd352d92b1fc3ef00cca59eb76417b47005b4015981b3266cfb7d947b4fddbc19ac5c07d9a577d69d095a1c6785f2ac16f5fa4388b86fe3d64dee97086b910e5c9e7815f5940c333ed19a3486fc53ac88dd76d17847264a102e29c3d699ea</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这是一篇加密文章，内容可能是个人情感宣泄或者收费技术。如果你确实想看，请与本人联系。This is an encrypted article, the content may be personal emotional catharsis or charging technology. If you really want to see it, please contact me. 📩📩📩</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>vue源码</tag>
      </tags>
  </entry>
  <entry>
    <title>Web前端面试【二】</title>
    <url>/2017/07/20/Web%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E3%80%90%E4%BA%8C%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p><strong>INFO : 前端面试。</strong></p>
</blockquote>
<a id="more"></a>

<h1 id="基础部分"><a href="#基础部分" class="headerlink" title="基础部分"></a>基础部分</h1><blockquote>
<p>1.prototype和<strong>proto</strong>的关系是什么<br>2.meta viewport原理<br>3.域名收敛是什么<br>4.float和display：inline-block；的区别<br>5.前端优化策略列举<br>6.首屏、白屏时间如何计算<br>7.闭包<br>8.作用域链<br>9.ajax如何实现、readyState五种状态的含义<br>10.jsonp如何实现<br>11.怎么处理跨域<br>12.restful的method解释<br>13.get和post的区别<br>14.事件模型解释<br>15.编写一个元素拖拽的插件<br>16.编写一个contextmenu的插件<br>17.编写web端cookie的设置和获取方法<br>18.兼容ie６的水平垂直居中<br>19.兼容ie的事件封装<br>20.h5和原生android的优缺点<br>21.编写h5需要注意什么<br>22.xss和crsf的原理以及怎么预防<br>23.css优先级<br>24.如何实现点击radio的文字描述控制radio的状态（通过label实现）<br>25.delegate如何实现</p>
</blockquote>
<h1 id="框架原理"><a href="#框架原理" class="headerlink" title="框架原理"></a>框架原理</h1><h2 id="angularjs"><a href="#angularjs" class="headerlink" title="angularjs"></a>angularjs</h2><blockquote>
<p>1.angular的directive怎么写<br>2.angular的脏检查（双向绑定）是如何实现的<br>3.依赖注入如何实现<br>4.scope如何实现<br>5.$parse模块如何实现（主要自己写了一个类似的库）</p>
</blockquote>
<h2 id="react"><a href="#react" class="headerlink" title="react"></a>react</h2><blockquote>
<p>1.react在setState后发生了什么（直接说了setState源码）<br>2.flux解释<br>3.对react有什么了解（直接说了react中虚拟dom内部表示，mount过程源码和同步过程源码）</p>
</blockquote>
<h2 id="jsBridge"><a href="#jsBridge" class="headerlink" title="jsBridge"></a>jsBridge</h2><blockquote>
<p>如何说服对方使用jsBridge</p>
</blockquote>
<h2 id="requirejs"><a href="#requirejs" class="headerlink" title="requirejs"></a>requirejs</h2><blockquote>
<p>1.amd和cmd区别，怎么了解到这些区别的，是否是去看了规范<br>2.requirejs那些经常用的方法，然后对其进行解释</p>
</blockquote>
<h2 id="weex"><a href="#weex" class="headerlink" title="weex"></a>weex</h2><blockquote>
<p>weex实现大致原理（只写过demo，面试管很好没有难为我，只问了这一个问题）</p>
</blockquote>
<h2 id="http协议"><a href="#http协议" class="headerlink" title="http协议"></a>http协议</h2><blockquote>
<p>1.accept是什么，怎么用<br>2.http协议状态码，302和303的区别<br>3.前端缓存如何实现、etag如何实现、etag和cache-control的max-age的优先级哪个比较高以及为什么、cache-control和expire优先级哪个比较高以及为什么</p>
</blockquote>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><blockquote>
<p>1.Buffer模块是干什么的<br>2.Stream是什么，使用的两种模式<br>3.http模块如何将异步处理方式实现成同步处理方式，具体解析请参考http模块如何将异步处理转成同步处理<a href="http://blog.csdn.net/wanglei20116527/article/details/62892070">http://blog.csdn.net/wanglei20116527/article/details/62892070</a></p>
</blockquote>
<h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><blockquote>
<p>1.utf8和gbk的区别<br>2.知道页面上某个点的坐标，如何获取该坐标上的所有元素<br>3.angular、react和jQuery适合哪些应用场景（建议查看各个框架产生背景）<br>4.7点15分小于180度的夹角是多少<br>5.大数相加<br>6.给５升和６升的水杯如何倒出３升的水<br>7.一班喜欢足球的人60%，喜欢排球的70%，喜欢篮球的80%，求喜欢足球和排球的占多少<br>8.前端异常监测如何实现<br>9.直播点赞按钮的冒泡功能如何实现<br>10.js的uglify如何实现<br>11.项目架构、如何带人（自己带过一个小团队）<br>12.前端工程化方面做了哪些东西</p>
</blockquote>
<h1 id="面试中的收获"><a href="#面试中的收获" class="headerlink" title="面试中的收获"></a>面试中的收获</h1><blockquote>
<p>最开始面试时只阅读过angular源码，一面完后面试官对我说react用的不熟悉没关系，弄懂原理也可以，之后三天疯狂阅读react源码，对于react中虚拟dom内在表示、mount过程、setState的同步过程有了清晰的认识。<br>面试官建议去阅读node的http模块和Stream模块源码，其中node-v0.1.100的http模块源码已经阅读完，并且写了一个基于net模块的http模块。node-v6.9.1的Stream模块源码现在还在阅读中。<br>初步了解了前端异常监测，并且了解了百姓网、腾讯和阿里在前端异常监测的一些方案和框架。<br>阅读了大量前端工程化方面的博文，对前端工程化有了进一步的理解。<br>了解了angular和react产生背景。</p>
</blockquote>
]]></content>
      <categories>
        <category>work</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>interview</tag>
        <tag>javascript</tag>
        <tag>http</tag>
        <tag>html/css</tag>
        <tag>frame</tag>
      </tags>
  </entry>
  <entry>
    <title>【毕设】Hadoop完全分布式平台搭建</title>
    <url>/2018/01/07/%E3%80%90%E6%AF%95%E8%AE%BE%E3%80%91Hadoop%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: 毕业设计课题基础Hadoop环境搭建</p>
</blockquote>
<a id="more"></a>

<p>步入大四，毕设也是今年的重中之重，学校给我分配的课题是《基于大数据平台的关联规则算法的研究与实现》。之前没有接触过大数据的我也是要从头开始相关的学习，比如Hadoop环境的配置、关联规则算法的python实现、还有如何将Apriori算法在MapReduce上面并行化等等等等。本文就是Hadoop完全分布式平台的搭建记录。</p>
<p>另外也要感谢我校嵌入式研究中心的主任李超老师，给我提供了性能可靠的物理服务器来进行该课题的研究。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/QQ20180404-0_meitu_1.jpg" alt="QQ20180404-0_meitu_1"></p>
<h1 id="搭建Hadoop全分布式集群前提"><a href="#搭建Hadoop全分布式集群前提" class="headerlink" title="搭建Hadoop全分布式集群前提"></a>搭建Hadoop全分布式集群前提</h1><h2 id="虚拟机软件的安装"><a href="#虚拟机软件的安装" class="headerlink" title="虚拟机软件的安装"></a>虚拟机软件的安装</h2><p>网上随便找的Vmware workstation，然后在centOS官网找个镜像装一下就OK了。但由于自己是学校给的服务器，所以略过这一步。</p>
<h2 id="虚拟机的网络"><a href="#虚拟机的网络" class="headerlink" title="虚拟机的网络"></a>虚拟机的网络</h2><p>如果是在一台虚拟机中安装多个Linux操作系统的话，可以使用NAT或桥接模式都是可以的。</p>
<p>步骤：</p>
<ol>
<li>在要使用的虚拟机的标签上右键单击，选择设置，选择网络适配器，选择桥接模式，确定。</li>
<li>设置完成之后，重启一下虚拟机。</li>
<li>再设置桥接之前将固定的IP取消：<ul>
<li>桌面版：通过图形化界面设置的。</li>
<li>服务器版：在/etc/network/interfaces<pre><code>iface ens33 inet dhcp
#address ...</code></pre></li>
</ul>
</li>
<li>ifconfig获取IP。</li>
<li>最后试一试能不能ping通。</li>
</ol>
<h2 id="文件读写权限"><a href="#文件读写权限" class="headerlink" title="文件读写权限"></a>文件读写权限</h2><p>在linux下，软件安装到/opt下，当前正在使用的用户，对于opt目录需要有读写权限：　</p>
<p>　　1）将opt的权限给为777（漏洞文件），不推荐在生产环境中使用。但是可以在学习和调试环境中使用。　　　　　</p>
<p>　　2）sudo</p>
<p>　　　　在启动Hadoop的各个守护进程的时候，需要使用sudo。<br>　　　　在管理Hadoop的时候，实际上由不同的用户启动不同集群的守护进程。<br>　　　　统一使用当前的用户管理所有集群。</p>
<p>　　3）该目录的所有者设置为当前用户</p>
<h2 id="安装JDK，配置Java环境"><a href="#安装JDK，配置Java环境" class="headerlink" title="安装JDK，配置Java环境"></a>安装JDK，配置Java环境</h2><p>1）将jdk安装包放在家目录下</p>
<p>2）解压到opt目录下</p>
<pre><code>sudo tar zxvf jdk-8u131-linux-x64.tar.gz -C /opt

此时在/opt目录下：会有一个jdk1.8.0_131</code></pre><p>3）创建软链接</p>
<pre><code>sudo ln -snf /opt/jdk1.8.0_131 /opt/jdk</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/171011153471081.png" alt=""></p>
<p>注意：创建软连接的目的是为了，我们在做项目的时候，可能会用到不同的jdk版本，这是要换软件的话，只需要修改软链接就可以了。而不用修改配置文件。</p>
<p>4）配置环境变量　　　</p>
<pre><code>局部环境变量：~/.bashrc
全局环境变量：/etc/profile
export JAVA_HOME=/opt/jdk
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=.:$JAVA_HOME/lib
export PATH=$PATH:$JAVA_HOME/bin
source 相关文件（更新配置文件）</code></pre><p>5）查看是否安装成功</p>
<pre><code>java、javac、java -version</code></pre><h1 id="搭建伪分布式集群"><a href="#搭建伪分布式集群" class="headerlink" title="搭建伪分布式集群"></a>搭建伪分布式集群</h1><h2 id="安装Hadoop"><a href="#安装Hadoop" class="headerlink" title="安装Hadoop"></a>安装Hadoop</h2><p>1）解压hadoop安装包到opt目录下</p>
<pre><code>sudo  tar zxvf hadoop-2.8.1.tar.gz -C /opt</code></pre><p>2）创建软链接</p>
<pre><code>ln -snf /opt/hadoop-2.8.1   /opt/hadoop</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/171011153471082.png" alt=""></p>
<p>3）配置环境变量　　</p>
<pre><code>在/etc/profile文件中加入以下内容：
export HADOOP_HOME=/opt/hadoop
export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
source /etc/profile</code></pre><p>4）使用hadoop version命令测试是否配置成功</p>
<p><img src="https://www.linuxidc.com/upload/2017_10/171011153471083.png" alt=""></p>
<h2 id="配置Hadoop"><a href="#配置Hadoop" class="headerlink" title="配置Hadoop"></a>配置Hadoop</h2><p>配置文件存放在/opt/hadoop/etc/hadoop中有很多个文件，暂时只需要修改的只有几个</p>
<p>1）hadoop-env.sh　　</p>
<pre><code>export JAVA_HOME=$&#123;JAVA_HOME&#125;改成export JAVA_HOME=/opt/jdk</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/171011153471084.png" alt=""></p>
<p>注意：在配置文件中有提示我们怎么设置，我们一般不删除，二回选择注释它的提示。</p>
<p>2）core-site.xml　</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://1.0.0.5:9000&lt;/value&gt;   </span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://www.linuxidc.com/upload/2017_10/171011153471085.png" alt=""></p>
<p>分析：1.0.0.5是你主节点所在主机的ip，而9000为端口</p>
<p>3）hdfs-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.nameservices&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop-cluster&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:///data/hadoop/hdfs/nn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.ch</span><br><span class="line">        eckpoint.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:///data/hadoop/hdfs/snn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.checkpoint.edits.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:///data/hadoop/hdfs/snn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:///data/hadoop/hdfs/dn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://www.linuxidc.com/upload/2017_10/171011153471086.png" alt=""></p>
<p>4）mapred-site.xml</p>
<p>在hadoop的相关目录中没有此文件，但是有一个mapred-site.xml.template文件，将该文件复制一份为mapred-site.xml</p>
<pre><code>cp mapred-site.xml.template mapred-site.xml</code></pre><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://www.linuxidc.com/upload/2017_10/171011153471087.png" alt=""></p>
<p>5）yarn-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- 指定ResourceManager的地址--&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1.0.0.5&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;!-- 指定reducer获取数据的方式--&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.local-dirs&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:///data/hadoop/yarn/nm&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://www.linuxidc.com/upload/2017_10/171011153471088.png" alt=""></p>
<h2 id="Hadoop目录权限问题"><a href="#Hadoop目录权限问题" class="headerlink" title="Hadoop目录权限问题"></a>Hadoop目录权限问题</h2><p>注意：　　<br>如果使用sudo启动hadoop的相关进程，这几个目录的权限可以不用管。<br>如果是使用当前的用户启动相关进程，对于opt目录，当前用户得有读写权限，对于/data目录也需要读写权限。</p>
<pre><code>sudo mkdir -p /data/hadoop/hdfs/nn
sudo mkdir -p /data/hadoop/hdfs/dn
sudo mkdir -p /data/hadoop/hdfs/snn
sudo mkdir -p /data/hadoop/yarn/nm</code></pre><h1 id="启动Hadoop"><a href="#启动Hadoop" class="headerlink" title="启动Hadoop"></a>启动Hadoop</h1><h2 id="启动HDFS集群"><a href="#启动HDFS集群" class="headerlink" title="启动HDFS集群　　　　　　"></a>启动HDFS集群　　　　　　</h2><pre><code>hadoop-daemon.sh start namenode 启动主节点
hadoop-daemon.sh start datanode 启动从节点</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710810.png" alt=""></p>
<h2 id="启动YARN集群"><a href="#启动YARN集群" class="headerlink" title="启动YARN集群"></a>启动YARN集群</h2><pre><code>yarn-daemon.sh start resourcemanager
yarn-daemon.sh start nodemanager</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710811.png" alt=""></p>
<h2 id="启动作业历史服务器"><a href="#启动作业历史服务器" class="headerlink" title="启动作业历史服务器"></a>启动作业历史服务器</h2><pre><code>mr-jobhistory-daemon.sh start historyserver</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710812.png" alt=""></p>
<h2 id="jps命令查看是否启动成功"><a href="#jps命令查看是否启动成功" class="headerlink" title="jps命令查看是否启动成功"></a>jps命令查看是否启动成功</h2><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710813.png" alt=""></p>
<h2 id="HDFS和YARN集群都有相对应的WEB监控页面"><a href="#HDFS和YARN集群都有相对应的WEB监控页面" class="headerlink" title="HDFS和YARN集群都有相对应的WEB监控页面"></a>HDFS和YARN集群都有相对应的WEB监控页面</h2><pre><code>HDFS：http://ip:50070</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710814.png" alt=""></p>
<pre><code>YARN：http://ip:8088</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710815.png" alt=""></p>
<h2 id="YARN集群的操作—-测试Hadoop是否配置成功"><a href="#YARN集群的操作—-测试Hadoop是否配置成功" class="headerlink" title="YARN集群的操作—-测试Hadoop是否配置成功"></a>YARN集群的操作—-测试Hadoop是否配置成功</h2><pre><code>计算PI值的作业：
yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.1.jar pi 4 100</code></pre><p><img src="https://www.linuxidc.com/upload/2017_10/1710111534710818.png" alt=""></p>
<h1 id="配置免密码登录"><a href="#配置免密码登录" class="headerlink" title="配置免密码登录"></a>配置免密码登录</h1><p>1）在所有的主从节点中执行</p>
<p>　　　　如果以前配置过免密登录的话，建议删除重新建立过，因为我们需要配置的是多台服务器：<br>　　　　　　rm -r  ~/.ssh<br>　　　　 执行ssh-keygen为了在主节点中生成公钥和私钥，在从从节点生成.ssh目录</p>
<p>2）在主节点中执行　<br>　　　　scp  <del>/.ssh/id_rsa.pub   从节点的用户名@从节点ip:</del><br>　　　　注意：第一次远程连接的话，首先输入yes，然后是从节点密码<br>　　　　<br>3）在所有的从节点中执行</p>
<p>　　　　我们把主节点的公钥已经拿到了所有的从节点中，接下来就是：<br>　　　　　　cat id_rsa.pub&gt;&gt;.ssh/authorized_keys当中
　</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>graduation</tag>
        <tag>毕业设计</tag>
        <tag>hadoop</tag>
        <tag>环境配置</tag>
      </tags>
  </entry>
  <entry>
    <title>一个测试颜色辨识度的小游戏</title>
    <url>/2017/05/18/%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E9%A2%9C%E8%89%B2%E8%BE%A8%E8%AF%86%E5%BA%A6%E7%9A%84%E5%B0%8F%E6%B8%B8%E6%88%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="testColorResolution"><a href="#testColorResolution" class="headerlink" title="testColorResolution"></a>testColorResolution</h1></br>
> A small game that can test your eyes for color recognition

<a id="more"></a>

<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>之前有段时间网上有一个挺流行的小游戏叫做“<a href="http://wbpkh5001.17c.cn/html5/">看你有多色</a>”。然后我看了网上的教程用createJS仿写了一个，具体实现后效果如下：</p>
<h1 id="游戏开始"><a href="#游戏开始" class="headerlink" title="游戏开始"></a>游戏开始</h1><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/testColorResolution1.jpg" alt="testColorResolution1"></p>
<h1 id="点击与其它方块颜色不一样的方块"><a href="#点击与其它方块颜色不一样的方块" class="headerlink" title="点击与其它方块颜色不一样的方块"></a>点击与其它方块颜色不一样的方块</h1><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/testColorResolution2.jpg" alt="testColorResolution2"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/testColorResolution3.jpg" alt="testColorResolution3"></p>
<h1 id="一定步数之后，方块数量达到9-9后不再增加"><a href="#一定步数之后，方块数量达到9-9后不再增加" class="headerlink" title="一定步数之后，方块数量达到9*9后不再增加"></a>一定步数之后，方块数量达到9*9后不再增加</h1><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/testColorResolution4.jpg" alt="testColorResolution4"></p>
<h1 id="以下是部分关键代码"><a href="#以下是部分关键代码" class="headerlink" title="以下是部分关键代码"></a>以下是部分关键代码</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> stage = <span class="keyword">new</span> createjs.<span class="title class_">Stage</span>(<span class="string">&quot;gameView&quot;</span>);</span><br><span class="line">createjs.<span class="property">Ticker</span>.<span class="title function_">setFPS</span>(<span class="number">30</span>);</span><br><span class="line">createjs.<span class="property">Ticker</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;tick&quot;</span>,stage);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> gameView = <span class="keyword">new</span> createjs.<span class="title class_">Container</span>();</span><br><span class="line">stage.<span class="title function_">addChild</span>(gameView);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> n = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addRect</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> cl = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">1000000</span>);</span><br><span class="line">    <span class="keyword">var</span> color = <span class="string">&quot;#&quot;</span> + cl;</span><br><span class="line">    <span class="keyword">var</span> cl1 = cl+<span class="number">90000</span>;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">RectColor</span> = <span class="string">&quot;#&quot;</span> + cl1;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*n);</span><br><span class="line">    <span class="keyword">var</span> y = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> indexX = <span class="number">0</span>;indexX &lt; n ;indexX++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> indexY = <span class="number">0</span>;indexY &lt; n;indexY++)&#123;</span><br><span class="line">            <span class="keyword">var</span> r = <span class="keyword">new</span> <span class="title class_">Rect</span>(n,color,<span class="title class_">RectColor</span>);</span><br><span class="line">            gameView.<span class="title function_">addChild</span>(r);</span><br><span class="line">            r.<span class="property">x</span> = indexX;</span><br><span class="line">            r.<span class="property">y</span> = indexY;</span><br><span class="line">            <span class="keyword">if</span>(r.<span class="property">x</span> == x &amp;&amp; r.<span class="property">y</span> == y)&#123;</span><br><span class="line">                r.<span class="title function_">setRectType</span>(<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            r.<span class="property">x</span> = indexX*(<span class="number">400</span>/n);</span><br><span class="line">            r.<span class="property">y</span> = indexY*(<span class="number">400</span>/n);</span><br><span class="line">            <span class="keyword">if</span>(r.<span class="title function_">getRectType</span>() == <span class="number">2</span>)&#123;</span><br><span class="line">                r.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> audio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;clickSound&quot;</span>);</span><br><span class="line">                    audio.<span class="title function_">play</span>();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(n&lt;<span class="number">9</span>)&#123;</span><br><span class="line">                        ++n;</span><br><span class="line">                    &#125;</span><br><span class="line">                    gameView.<span class="title function_">removeAllChildren</span>();</span><br><span class="line">                    <span class="title function_">addRect</span>();</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">addRect</span>();</span><br></pre></td></tr></table></figure>
</br>

<blockquote>
<p>表示颜色的时候用的十六进制而不是RGB，然后随机颜色用的是random函数。而唯一一个不同于其他方块的方块颜色是要比其他颜色浅一些的。点击其他方块没有任何特效，点击唯一正确的方块会进入下一关并且伴随有音效提示，同时整个游戏会有BGM。</p>
</blockquote>
<p>源码地址：<a href="https://github.com/1996szw/testColorRecognition">https://github.com/1996szw/testColorRecognition</a></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>game</tag>
        <tag>relax</tag>
      </tags>
  </entry>
  <entry>
    <title>关于Alfred的有道翻译发音失效的解决方法</title>
    <url>/2020/03/16/%E5%85%B3%E4%BA%8EAlfred%E7%9A%84%E6%9C%89%E9%81%93%E7%BF%BB%E8%AF%91%E5%8F%91%E9%9F%B3%E5%A4%B1%E6%95%88%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="发音失效"><a href="#发音失效" class="headerlink" title="发音失效"></a>发音失效</h1><p>​    <code>Alfred</code>作为我在<code>mac</code>上使用频率最高的<code>app</code>，提供了极多很实用的功能，但最近在使用<a href="https://github.com/TerryX-Lee/AlfredWorkflow_YoudaoTranslate">有道词典的Workflow</a>时，翻译是正常的，但就是不能像之前那样使用<code>Shift+Enter</code>来发音。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20200706-154239.png" alt="WX20200706-154239"></p>
<h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>​    这对于持着科学严谨态度（强迫症）的我来说难以接受。于是经过一番折腾（中英文论坛瞎逛+瞎猜+瞎组合关键词）终于让我找到了原因：</p>
<blockquote>
<p>mac 升级到 Catalina 正式版之后の 某个系统更新中，<code>say</code> 命令可能会发生冲突</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">say --voice=<span class="string">&#x27;Fiona&#x27;</span>  hello</span></span><br><span class="line"></span><br><span class="line">Open speech channel failed: -76</span><br></pre></td></tr></table></figure>
<p>​    查看相关进程：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">ps ax | grep speechsynthesisd</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/LGpj65.png" alt="LGpj65"></p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>​    重置进程，重启Alfred。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">sudo pkill speechsynthesisd say</span></span><br></pre></td></tr></table></figure>
<p>​    Done！</p>
]]></content>
      <categories>
        <category>other</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>alfred</tag>
      </tags>
  </entry>
  <entry>
    <title>前端项目中的数据可视化</title>
    <url>/2017/11/21/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>近几年随着大数据逐渐火热，数据可视化也就显得格外重要。。</p>
</blockquote>
<a id="more"></a>

<blockquote>
<p>最近几年随着大数据的兴起，以及浏览器性能的提升，数据可视化成为了一个热点，前端也冒出来了很多数据可视化的岗位。本人也做过一些数据可视化相关的产品，下面聊聊对数据可视化的一些思考。本文的数据可视化一般专指互联网公司web前端接触的数据可视化。</p>
</blockquote>
<blockquote>
<p>数据可视化，是关于数据视觉表现形式的科学技术研究。其中，这种数据的视觉表现形式被定义为，一种以某种概要形式抽提出来的信息，包括相应信息单位的各种属性和变量。它是一个处于不断演变之中的概念，其边界在不断地扩大。主要指的是技术上较为高级的技术方法，而这些技术方法允许利用图形、图像处理、计算机视觉以及用户界面，通过表达、建模以及对立体、表面、属性以及动画的显示，对数据加以可视化解释。与立体建模之类的特殊技术方法相比，数据可视化所涵盖的技术方法要广泛得多. ———————-百度百科</p>
</blockquote>
<p>而前端常说的视觉可视化大部分是指借助曲线图表等展示形式把一些相关数据更直接、形象、生动、具体的展示在web页面上。要做一个好的数据产品是需要 产品经理-&gt;设计师-&gt;前端-&gt;后端-&gt;用户整个链路紧密配合密切合作并且协调的。</p>
<ol>
<li><p>产品需要懂数据可视化的理论基础，哪些数据可以可视化，哪些数据是用户最想要的。</p>
</li>
<li><p>设计师包括视觉和交互，需要理清楚数据怎么展示最合理，曲线，柱状图，饼状图，都有哪些优缺点，不能仅仅为了美观设计了一个好看的图形，而不顾实际数据情况，展示出来就很奇怪。</p>
</li>
<li><p>前端其实在里面是最紧密的一环，数据怎么获取，什么格式对前后端最友好，采用什么技术方案，是svg的库，还是canvas的库，是自己撸还是用现成的库。实现成本有多高，性能、扩展性怎么样都是需要考虑的问题</p>
</li>
<li><p>后端需要考虑的就是数据的拉取，需要考虑数据格式以及能获取哪些数据。</p>
</li>
</ol>
<p>以上分工只是一个粗略的说明。这里看了一篇文章<a href="https://zhuanlan.zhihu.com/p/26745812">小心，这饼有毒！论饼图的正确打开方式</a>里面讲的一些经历可能大家都遇到过，我也深有同感。</p>
<blockquote>
<ul>
<li>我的这些数据，好像柱状图、折线图、饼图都能表示啊，到底应该选哪个？</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>饼图和环形图也差不多，取决于我要不要在中间显示其他内容吗？</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>我可不可以将数据映射到饼图的半径维度上</li>
</ul>
</blockquote>
<p><strong>数据可视化最重要的不是好看，而是让人一目了然的明白这个图表传达出来的意思。</strong></p>
<p>其实这方面是有相关的信息图表学的相关知识储备的话就不会犯这些错误了。支付宝有个G2 里面有两个相关的图表学基础知识介绍，我个人认为这是G2 比echart更近一步，更规范化的点之一。</p>
<p>详见这里</p>
<p>可视化基础-图表使用建议 <a href="https://antv.alipay.com/vis/doc/chart/classify/compare.html">https://antv.alipay.com/vis/doc/chart/classify/compare.html</a></p>
<p>可视化基础-图表设计指引规范 <a href="https://antv.alipay.com/vis/doc/design/index.html">https://antv.alipay.com/vis/doc/design/index.html</a></p>
<p>以及经典文献：</p>
<p>在数据可视化的研究和实现中，《数据可视化》、《The Grammarof Graphics》、《深入浅出统计学》、《计算机图形学几何工具算法详解》、《Visualization Analysis and Design》 、《ggplot2：数据分析与图形艺术》 。</p>
<p>叨叨了这么多基础，下面说说前端在可视化里的一些相关的发展和技术选型</p>
<p>首先需要明白一个观点：<strong>技术选型没有一劳永逸的，永远是根据你的项目实际情况以及你的个人偏好和技术基础来做的选择。</strong></p>
<p>下面说说常见的一些图表库和相关技术：</p>
<h4 id="1-echarts"><a href="#1-echarts" class="headerlink" title="1. echarts"></a>1. echarts</h4><p>echarts算是国产的图表库里最好的了。EFE团队也是国内技术实力最雄厚的可视化团队.采用canvas作为渲染容器。底层一些实现比如鼠标事件啥的用的自己开发的<a href="https://github.com/ecomfe/zrender">zrender</a>框架。</p>
<p>echart2.0对应不同的组件比如坐标轴图例是用不同的canvas来渲染的，echart3之后都合并到一个canvas里面了，猜测应该是底层的框架升级了</p>
<p>博客： <a href="http://efe.baidu.com/，">http://efe.baidu.com/，</a> 这个博客更的很慢了。 <a href="http://echarts.baidu.com/blog/posts/">http://echarts.baidu.com/blog/posts/</a> 这个更得多点。</p>
<h4 id="2-highcharts"><a href="#2-highcharts" class="headerlink" title="2.highcharts"></a>2.highcharts</h4><p>这个框架用的人也不少，主打就是IE6也支持。。。。。。。。。然并卵微软都不支持IE6了。淘宝连ie8都不支持了。。。。收费的库，底层用的SVG。私以为他的API使用起来没有Echart友好。</p>
<h4 id="3-G2-支付宝"><a href="#3-G2-支付宝" class="headerlink" title="3.G2-支付宝"></a>3.G2-支付宝</h4><p>蚂蚁金服的产品，图标容器为canvas，玉伯的团队开发的。怎么说呢。。这个东西看着还不错，不过实际使用的时候大部分人还是会不由自主的去选择前面两个，大阿里的开源东西就是这么个鬼情况。东西是不错，就怕搞着搞着团队没了。。</p>
<h4 id="4-d3-js"><a href="#4-d3-js" class="headerlink" title="4.d3.js"></a>4.d3.js</h4><p>d3也算是资历比较老的一个产品了，采用svg作为图标容器。刚开始出来的时候各种动画比较惊艳，图标类型也比较丰富，感觉echarts一开始也参照它的图表类型新增了好几个图表示例。</p>
<p>d3的优点是各种示例demo比较完善适合拿来就用，缺点就是demo不适合二次开发，熟悉api的话也可以直接自己画，他的api是对svg的dom的一种整理和兼容，类比于jquery对应html的dom。</p>
<p>其他：</p>
<p>一两年前阿里妈妈貌似出过一个图表库，我当初还给他们留言说：为啥不先出一个移动端的图表库说不定更有市场。貌似最后沦为KPI的牺牲品</p>
<p>以上就是最常见的一些图表库，那么我们需要根据实际项目需要来做一些技术选型。</p>
<p>移动端图表库，echarts和G2应该都可以。pc端就看个人喜好了。报表类型的项目看设计师画的效果稿吧，echarts可定制性最高，G2没用过，highcharts文档不健全。</p>
<p>监控类型的项目需要频繁更新数据的优选选择canvas的性能应该更好。</p>
<p><strong>下面说说数据可视化的一般应用场景：</strong></p>
<ul>
<li>报表类</li>
</ul>
<p>报表类使用场景最多，使用的图表也最简单一般echarts里面的示例图表就能满足了。</p>
<ul>
<li>监控类</li>
</ul>
<p>监控类稍微复杂点，一般涉及到实时性和稳健性，开发的时候需要考虑后端的接口性能，以及页面图表渲染的性能问题，数据量大了之后对前后端都很有挑战性。做起来也比较有意思，和业务场景结合起来能做一整套的数据可视化的产品系统。</p>
<ul>
<li>动效PR稿类</li>
</ul>
<p>这种类型的项目一般都有一个特点：<strong>急，炫，累。项目周期很急，动画效果要很炫，干起活来很累</strong>。偶尔做做还行，一直搞，就感觉路走的有点偏，而且一般很少能找到现成的库和框架，前期需要大量的技术调研和技术储备。相关的库一般需要canvas的效果库，webGL的库，比如:<a href="http://www.pixijs.com/">http://www.pixijs.com/</a>  ，<a href="https://threejs.org/">threejs</a>，要求更高的可能需要一些游戏库来帮忙了比如：<a href="https://www.egret.com/">https://www.egret.com/</a> ，<a href="http://www.createjs.com/等等。">http://www.createjs.com/等等。</a></p>
<ul>
<li>地图类</li>
</ul>
<p>这类的数据可视化单独拿出来是因为现在越来越多的数据可视化场景里需要用到地图。这也是数据可视化最麻烦的一直，一般我们借助echart的地图，或者百度地图，高德地图等来开发，其实百度地图也出了个地图可视化的库 <a href="http://mapv.baidu.com/">http://mapv.baidu.com/</a> ，展示效果没有echart好。。。。需要定制开发的同学其实可以直接拿百度地图之类的然后在地图上蒙一层覆盖类，然后在这个覆盖类里填充一个canvas做一些自己的扩展参见<a href="http://lbsyun.baidu.com/jsdemo.htm#c1_6">百度地图的demo</a>；背后的地图。。可以用css隐藏掉。。。。。</p>
<ul>
<li>数据可视化系统</li>
</ul>
<p>这个范畴比较大，还是需要看业务场景，某些业务场景就特别适合做一堆相关联的数据可视化系统。做好了成就感还是满满的。</p>
<p>================================================</p>
<p>参考于：<a href="https://www.56way.com/p/102.html">https://www.56way.com/p/102.html</a></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>study</tag>
        <tag>前端</tag>
        <tag>数据可视化</tag>
        <tag>数据</tag>
        <tag>echarts</tag>
        <tag>highcharts</tag>
        <tag>G2</tag>
        <tag>d3</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Vue+Webpack打造todoApp应用</title>
    <url>/2017/12/10/%E5%9F%BA%E4%BA%8EVue+Webpack%E6%89%93%E9%80%A0todoApp%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote>
<p>此源码基于vue和webpack编写。前置知识有JavaScript、Css、Html、ES6、Stylus、Vue、Webpack、Webpack-cli、Bable等。</p>
</blockquote>
<a id="more"></a>

<h3 id="源码地址"><a href="#源码地址" class="headerlink" title="源码地址"></a>源码地址</h3><p>此Demo源码托管在本人Github，点击<a href="https://github.com/1996szw/Vue-Webpack-todoApp/blob/master/README.md">此链接</a>直达。</p>
<h3 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h3><h6 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h6><ul>
<li>需要安装npm包管理工具</li>
<li>需要安装的npm依赖包详见pakage.json</li>
</ul>
<h6 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h6><ul>
<li>启动项目：<code>npm run dev</code></li>
<li>浏览器调试：<strong>localhost:8000</strong></li>
</ul>
<h6 id="生产环境"><a href="#生产环境" class="headerlink" title="生产环境"></a>生产环境</h6><ul>
<li>项目打包：<code>npm run build</code></li>
</ul>
<h3 id="过程记录笔记"><a href="#过程记录笔记" class="headerlink" title="过程记录笔记"></a>过程记录笔记</h3><h6 id="前端的价值"><a href="#前端的价值" class="headerlink" title="前端的价值"></a>前端的价值</h6><ol>
<li>搭建前端工程</li>
<li>网络优化（HTTP的理解）</li>
<li>API定制</li>
<li>Node.js层</li>
</ol>
<h6 id="初始化一个项目"><a href="#初始化一个项目" class="headerlink" title="初始化一个项目"></a>初始化一个项目</h6><blockquote>
<p>npm init</p>
</blockquote>
<h6 id="需要安装的依赖"><a href="#需要安装的依赖" class="headerlink" title="需要安装的依赖"></a>需要安装的依赖</h6><blockquote>
<p>npm install webpack -g(全局安装webpack)<br>npm install webpack –save-dev(局部安装webpack，并且默认是安装最新版本)<br>npm install css-loader<br>npm install vue-template-compiler<br>npm install vue<br>npm install vue-loader</p>
</blockquote>
<h6 id="vue中的render函数"><a href="#vue中的render函数" class="headerlink" title="vue中的render函数"></a>vue中的render函数</h6><blockquote>
<p>render方法的实质就是生成template模板，通过调用一个方法来生成，而这个方法是通过render方法的参数传递给他的。</p>
</blockquote>
<h6 id="Vue中-mount"><a href="#Vue中-mount" class="headerlink" title="Vue中$mount()"></a>Vue中$mount()</h6><blockquote>
<p>Vue 的$mount()为手动挂载，在项目中可用于延时挂载（例如在挂载之前要进行一些其他操作、判断等），之后要手动挂载上,new Vue时，el和$mount并没有本质上的区别。</p>
</blockquote>
<h6 id="“webpack-–config-webpack-config-js”配置的含义"><a href="#“webpack-–config-webpack-config-js”配置的含义" class="headerlink" title="“webpack –config webpack.config.js”配置的含义"></a>“webpack –config webpack.config.js”配置的含义</h6><blockquote>
<p>“build”: “webpack –config webpack.config.js”<br>以上配置的意义是强制终端在执行npm run build的时候调用的是本地安装的webpak，而不是全局的webpack，<br>并且在执行npm run build命令的时候，会执行webpack.config.js文件</p>
</blockquote>
<h6 id="css-loader、style-loader说明"><a href="#css-loader、style-loader说明" class="headerlink" title="css-loader、style-loader说明"></a>css-loader、style-loader说明</h6><blockquote>
<p>loader: ‘css-loader’，这个只是帮我们处理CSS文件。以下写法能帮我们把CSS样式插到HTML结构中:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">use</span>: [</span><br><span class="line">  <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>(在此之前需要安装依赖：npm install style-loader)</p>
<h6 id="webpack处理图片文件代码解析"><a href="#webpack处理图片文件代码解析" class="headerlink" title="webpack处理图片文件代码解析"></a>webpack处理图片文件代码解析</h6><blockquote>
<p>代码：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\\.(gif|jpg|jpeg|svg)$/</span>,</span><br><span class="line">  <span class="attr">use</span>: [&#123;</span><br><span class="line">    <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">limit</span>: <span class="number">1024</span> ,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;[name]-aa.[ext]&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该代码的作用就是使用url-loader来处理后缀名为.gif、.jpg、.jpeg、.svg的文件，将其转化为base64代码，直接写在js文件里面，而不用生成一个新的文件。</p>
</blockquote>
<blockquote>
<p>使用对象的写法是为了配置url-loader的一些选项。limit:1024的含义就是当图片小于1024kb的时候，<br>转化为base64代码，减少了HTTP请求。name配置的含义是定义输出文件的名字】<br>(配置里面的name是原来图片的名字，ext是转化后的后缀名)<br>可以使用下面两段代码来进行测试</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../images/bg.jpg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//vue组件不能直接挂载到<span class="selector-tag">HTML</span>文件中的解决方案</span><br><span class="line">import Vue <span class="selector-tag">from</span> &#x27;vue&#x27;</span><br><span class="line">import App <span class="selector-tag">from</span> &#x27;./app<span class="selector-class">.vue</span>&#x27;</span><br><span class="line">import &#x27;./assets/styles/test<span class="selector-class">.css</span>&#x27;</span><br><span class="line">import &#x27;./assets/images/bg<span class="selector-class">.jpg</span>&#x27;</span><br><span class="line">const root = document<span class="selector-class">.createElement</span>(&#x27;<span class="selector-tag">div</span>&#x27;)</span><br><span class="line">document<span class="selector-class">.body</span><span class="selector-class">.appendChild</span>(root)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  // 将app<span class="selector-class">.vue</span>组件挂载到<span class="selector-tag">HTML</span>文件中</span><br><span class="line">  render: (h) =&gt; <span class="built_in">h</span>(App)</span><br><span class="line">&#125;).$mount(root)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用命令：npm run build，将可以在dist目录下看到一张转化后的图片(bg-aa.jpg)</p>
</blockquote>
<blockquote>
<p>webpack强大的地方之一就是能够处理任何的依赖文件，比如在CSS文件中定义的图片，webpack也会使用配置好的url-loader将其进行处理。</p>
</blockquote>
<h6 id="CSS预处理器-使用stylus"><a href="#CSS预处理器-使用stylus" class="headerlink" title="CSS预处理器(使用stylus)"></a>CSS预处理器(使用stylus)</h6><p>安装：</p>
<blockquote>
<p>npm install stylus stylus-loader</p>
</blockquote>
<p>配置：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\.styl/</span>,</span><br><span class="line">  <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;stylus-loader&#x27;</span>]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h6 id="使用npm安装依赖包的细节"><a href="#使用npm安装依赖包的细节" class="headerlink" title="使用npm安装依赖包的细节"></a>使用npm安装依赖包的细节</h6><blockquote>
<p>1、npm install webapck –save-dev：表示安装的webpack只在开发环境(dev)中使用，<br>项目发布之后就不会用到，简写方式为npm i webapck -D。<br>2、npm install vue –save：表示安装的vue在开发环境和正式环境中都会被用到，简写方式为<br>npm i vue -S</p>
</blockquote>
<h6 id="webpack-dev-server的配置和使用"><a href="#webpack-dev-server的配置和使用" class="headerlink" title="webpack-dev-server的配置和使用"></a>webpack-dev-server的配置和使用</h6><blockquote>
<p>安装：npm i webpack-dev-server<br>配置：”dev”: “webpack-dev-server –config webpack.config.js”</p>
</blockquote>
<blockquote>
<p>通过以上的配置，那么使用命令npm run dev也能够实现打包项目，并且它是开发模式打包项目</p>
</blockquote>
<h6 id="如何分辨是在开发环境还是正式环境"><a href="#如何分辨是在开发环境还是正式环境" class="headerlink" title="如何分辨是在开发环境还是正式环境"></a>如何分辨是在开发环境还是正式环境</h6><blockquote>
<p>步骤一： npm i cross-env<br>步骤二：为了能够在不同的平台都运行webpack.config.js文件，我们需要在package.json中这样来配置：<br>“build”: “cross-env NODE_ENV=production webpack –config webpack.config.js”,<br>“dev”: “cross-env NODE_ENV=development webpack-dev-server –config webpack.config.js”<br>步骤三：配置webpack.config.js文件</p>
</blockquote>
<h6 id="如何让打包好的js文件自动包含到HTML文件中"><a href="#如何让打包好的js文件自动包含到HTML文件中" class="headerlink" title="如何让打包好的js文件自动包含到HTML文件中"></a>如何让打包好的js文件自动包含到HTML文件中</h6><blockquote>
<p>步骤一：npm install html-webpack-plugin</p>
</blockquote>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>es6</tag>
        <tag>vue</tag>
        <tag>webpack</tag>
        <tag>npm</tag>
        <tag>stylus</tag>
        <tag>todo</tag>
        <tag>bable</tag>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>往事做序，来日为章</title>
    <url>/2020/01/25/%E5%BE%80%E4%BA%8B%E5%81%9A%E5%BA%8F%EF%BC%8C%E6%9D%A5%E6%97%A5%E4%B8%BA%E7%AB%A0/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 您输入的密码错误🙅‍♂️, 请再试试✊。" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容。">
  <script id="hbeData" type="hbeData" data-hmacdigest="d14fa7ca80a37d32ad609e0fbda1182e8b3e16f95776576e9b506c8247f5db91">d0cc6b6399ce2fd1b6664f84900868a6392757e5793ec50eafe410c4f75b10f2844ff4582d11254b3553e894bfad528d05adb6d20ae5f553deffd021126c7885c2edfa980d09338578f3028613822a1d577051be29e5d11f30adbb171e78d18ff03c04a0a236d89b1a09e7011011792a2a1d473ee946408a3b959e5012566ad4aadbd2fb9ff5deed2dc2454c33f584d6fcefb97147497760caeac183f03acf9c1b0dba9894df93316c6c5c33bae9a0d462f680f165be59f6eb60a3879948a5d0255e8ea11dee50b59977bd5a99423fd82c6bd179854628aea2ca3dd5a0473ef1ad10ecffec6c89e01e5326be11aac4d2ccf0469b32c3b3dc5ba9a71a6f2e624a35291cf1f578ddf3a26f51cb6eb42cde727ba55114923efbdc1a14f1beab89c6f18e4d7330fe5c4286954b7d57f9b6d1cce614a63dc3b0edfd038d6013fa93b4e1d46e668a76fbaff5be2cc25a05e366436f7423fbf9a7922dc170dfc30227bbfd647a712a41602053ee65d5dbd9205caf65ffbbc13ac4c262db9a6bb5608b0f1ec2a6190ed04b32efa922c321ed06e152b8a277ab3b89bd654b477aa7dbd9a27ec0a4a6f4c2bf8e34b7b1d1e967052cbef3a880659a77b2d87f0550e724ec4f26a37d9f5dd6c61a084c9a6c6fbaa2ee537af389c0c25ec0b90474aa95df763099db9fc9cab6e73c386c8710adf532f06029695c2e06d3b8f21dffe95f6911997a125df6fcf384901966b413763421b2bddfb93ad1c42f523fdffd2923d05cfe249dd0634dbae86ba0e4910c2276a78bb4919019286481a4f59a37f3c08f6bb4dd182a31e2a54cca65145bf582361f973675ae1fbd2f919fcf5ebf43baa6f3a161ca90aa91c40b5dc00e7c235c0226d5c60ee214985c2d13bbe9d5c8ed03430df8f76166a8143c662fbb1c4699e5613ae51b4bae457c67e063bc920ffa142a162ed63d3ccb0099b75ed55aa1330a979620b3aeb99b5e3a9224fa1c9c3913e58717028217a48b43f7b163f2f173fe99bbb92ee5ee9b03b8cd0d7e0c06a099dbb0815312bf9823bbdcc19ceac3fc606730d94c20b879eb933973ca3f46f9d683a753285a12592e0abd5126e2e8b7501ca65466f9dc51fd6357e89ec21b80643004fa685d25897ae339fc6ebf47b7978683f21f5d300f37a7c34c2f492dec624f346969fe6d5908b575da6e176910a11e60f9e4585b74c5d6fb593ab7deda0cd09b4af521a294c93751a291c626d86fe7542bf95474485e30de22a391bfbde0955f7885008cf4365db17c0e41d16b84af34cf962205af392a16b3b70e35e65792247a31f565cc2ad37859ce176ee7acf7fb55984f6ac56a0411fd019c342221fb31b5a7eac4fef13b963440738a568b60d010e341eab6cecd5597fb8651864ebc4b64101ec24b09615fad01e1e4641838c872ff24c31c162ca02a133b87165ca4ce2c1b1feada0b107fd396daab31ec482aba99b048ed9424bdbbe52baedb605f4a5debff92313af478412434524a69f7634b2b8d9126518658345982f42a8c6bc0b008fea202fe2db4733520a6bd7243f7ffc349bb29580d5070d432f8e8328cde5b985055613b182743a291a1b152814114dc0eb3a2a170b42b0622317836c2d13160dbdc5fb606f67a34bd59fff292009dcddc259ce18bdcc38e5cbe4fe9f0654da2b59dd656449d30cb6f365978ad727406b310430cbb94f6c498a083c98a74efb1decea0e6c08d466efe4c57b1753c56223388e77a55804091bef39cdccf25e7d1648b01f2a6a539a56e9caa1465956db35c3b393c89b7130267c274d316ea0e30e1956031d28073eaf664d9b78ba4858ef449fe7935781f82736c708758556f5dc1ecece62a7c75b271c403cc389f945a7b36e670771ac3c4734c66195a7989965f4f392e192296cbeaacce5640a50a50e5e3723ec45ecaef9ecb2a4d633e3d69d8df9879f3ef6bd95b39e99ced96420df8faad2f86188846b5b22c45d4a20e8a6c03d5ad3834a69370f64b749706cb693f5dec8eeb4decba98782b0460afa16ee1ef56f47782b2eab9718bac16c43e0438106325a57931193aaf24538b22aa90de9dccfbbddba22a1a4f3236d17530811dbdc93368663461755679441c52435789f6ecd63459e4b5204c24d050b18746f82aa2179c9a8b4e619ee4b7d014e0d1bbbef94a6df5809f0085c4e2d0fe192f705dc2f7249f6a8279f74ea835013faccf0eaa2957997edfadc8ac5652325a21bbcf1c7ec5cd162e5c143e052241b99ff100c574943fe2ecbccf026a7ec2c7e4bcf73932169c6db06e3e553442086800c1dfff7abe069cea21f4b164f7f0d23003971b1da282bbb6c469760f8aebf82651036e845acc0f35b83850eda7a7f14d225f5b00ea0ae848f709156f2af051238b23a566f2c714cb7ba7a5231192a49e71f4d00fdeccc126a2ab4a0f24542c67f6e02acbe3a658994822e76111044e5f20897adf0283c23cc321a37744f7445e24a9f1e347e8bd001656e7af1085b12dc3c2086642f90d2a6ad8b67fb14601e325061e7d16c140dd1063fb50ac5bf188248693a4beebd0bef8ef6a4cc984cdd79a7c2d5de2a2dd5796eddb032ee56bbf7dba930c5c3c4d630754af5f49724407138236a3babb340f3b0052c0f04e9c65813d95f719257eee86e12957cf12b5115635c3eadde5fe2b9ba3d321613bafcc7c680f0536bbd4f792e40544e6e213b7f31a9d891d8520c64d6b990968c59846fa2c02bd00886fd50dd5ae03248df5aa3b91ecfdd8e4ba86f3e48e61b8453800c88ab297356ba9a23ecc85475634260e2388c359463104dc4515b16a21bd39db6edf8f8a2927cbcc4c6615ab99b9e4233d9b41ef76edd3c4e214ec5e4cf3ae07765c6011a09532b0334be894a04fed43a9642e551250473abdf72b634c41b106d67d51cb95b996e31802238fe1d01c457d780f3ee7ad5bde3b1d6c034bb74f7a517855389954565ed96789568b1247b7475a3301d6c28a706870124024a57a4c3680a9102eac99e028c7db503df04eb19e59aa140e5f16fbaa412140ef0c6de30279ed2c869e8810140174312b57939ab8966bfac52e2c1dafc6052248608c13be09d2bbc025b721622a894cf75fb2d080268d4bc5ee7f70700e93cac254f5a69d76a6ee1575e6761bf447cda84be4a9ef107b8af9bf80be4e4159ce6c57e923ea10b21acc39486a8c5ffe5b15e3a91909f55dd416839243c660eea9345890d884662660fc98665e479e86673d82fdde2ed5ba67f7ccf90ccf62aa9013ae49f01f488033f1106fc2f479e7d9229a3b2f04dbed517adfd7a4fda5ad0c710f93f03dcff32bd71d8107395ffe76f11d3718767da18a67436ea69284802234c4d839d4e10993f5c0959e5db3f6f1e5869203abcce30ced57c98570cfec3474c8baad8b9801a3239edf147efe8b9ad01dc6b62bafe4d263a963d4657e0e03ad17fdb73137a3b98d7179c38d64d38aa5eca25e0aec3ba2aebefe0e9b74915e451c05aa0e1c040614284d66a05c798f6039ff47cc34b608c4ae8640ff69e6b9649eccdcff5756d97e87ec9a43c59b544db3ee2a60b8ec3daaea40e908ea5cab393cc43dcf10f70386cd67a23e1125fb6d6c8c0de01ba67b336c2fa3a25c70a1c0dcc1e18b4e802c54e247a0f8de49590fbfd3015cd58ecd63add5483a562a0f4ad2148baa05fb45da3574e33e92c16a93a8bd5fb92dc57d5ba02b6029fc11fe7ccafc20a7e21e591b8fa97a86d832713523091ab95bff77c919107b49192a0cc107078dc33b2c24d0f079ba645d4e3550e2fe0835c39f2e45164c3b613e429e4ed520d46a2a5288b69ac62bb67582bc9f761d2109e6920eaa459c405e35c8506fd67640cd5b985a7e17a572d4dc06ea1b8453f72879b9662fb211ad03d57f6ba02702652a1fa8bc7e8ac09d36b50b2d4288cf27636b22d6e59594d8fccdc165af6d7adb23dfe2336408cc53ba782d791f507414701ba5e80530043d219fd78b964e29457871fe465a1fe4b5313b8dac5e5474cbe2ead10cd29853547470d81dd5b17ec857e676ab66b73822c0613fb1841082851c2d62555d42bb3df607d60a9cf964716c46bc89bcc86b5465eae730bb700296bcd406f4cb70ec81c34533db827d1ea14d90e68555779c3acc8a6d55f8d36c4b1e4b3ea1dab18a8b2b599c77a4a22a46a12d3edfee253c784abd557dd1c2c659f6b69faa1bab1dbbb601f0e7b49452632b0fb3700ed44da566b250dd4737d45f4769a2d6c42ea2fad04bec76126397bd807300f6e90f6d28459cbcddd53b81992831b972e9b20a5b23d27f34a556cb8db47f2d42e79e11ee26bf42dc05ca00e852b29421da03bc90a4440ff897a3b278702bb71bd73823c1b2e4d410d23a727cadb04d39d6884c0957e3369c14e8d8c9eadea22c61b98c604a825043c2e5ffb47fa068ca89f6e1f6caa339ce834dcb46eda396bfea1f60ad0d3a1f956ef7ea3057c8874478e0742739e039ddb6e1bda82b11c8fb8355acf904ae3c010138c96e8fb568a68ff3734804f4e6570714f5fd12ac89ffd1e19a5e9387b38cefda4c4c3de6194fe48db933224513c6d05d375733b87cd946b44e997ba06d39112e5421ab3dff1c294c2ea1154f460385c350cb2dd71f0549f15e40f5ea99d00d3b323dcd00275a0d7dec6a95c939e47b085319d59bacf6fb532caf025dd913f533fa533c7058530b06cd96778d11ba13f8c20c5aa1924a1d3db130a791474da0210cd428a92a96b187f90ecd75085c9e569b8acddec1628e97ad01668accd767668155ed49d6d6b38adc8913b70e7690b6abc55f419bd924d439d28fc419dc69ef98bed62712c886e367ff01d89310def837789c121ff09e3f47b579ecdf836c20c1bf6d2482474d8412eac526169c18f25108fb502039420029ca002b1f6d59a58d0e579d878d7cf5080efbb6a7fc1d076ce578d53ad893f06acf480c8ea85bce3665c8ac96b26572fef28b76b2adc1198a5c625b8df44839d653b1c6601900e550080646e46d49bfd00258f7a228fcb9ace257d4de4edb05133ab908694be9efe7b3fe5aab7616f6c13962ea6023df3484227058cd1375fd7ac5b5978d781cc44f49d4112d33cd976f4a0f173a92d4538a12dda7061043838cc4a8fb5b695d07343ed5c89dce75d763bbb54f08bdee2b2962720981eb726e6a582555fbcaad18ea9d33cc02a4391e1fad3ae8eeb30f74f2bf9e1a59a2725b832e0dbcf9657f459e447e941651c95e03e4dd86b9d7361f461040c863bf4e5ae83360c60a105dea3eb427d60c578d41b1b3c66c9006939f566b4f073c9805f38c9ec076656951b92a27067d6adc4d96fbfc2fbe3b1403d10f2c5675bb802762bb42d7693a4727c80ccf2cbbfb05beecf990b0be6a8576e1ae1ca381057bf1720d94b3462d38c2146a67456e9db0850264fbbd30561e6a234f8179640f0b0a23dab1c8ea059e870c6e49db231278070a1a5d6726914f9b2afda0d85062ac450924772a9d8ba8e6c049052d4fa80af56b4b5621c0fa008fecbc9430f804d8193a5f8552398c510414ca014b0688e6ee368679cb6bb7ef475a39786199915d61246594fe37b4fb7b561d582bb3d2591921bf7f9c51c9532b3db8003cf4b0f7968659c48e7549e2747ee2b96fe821610b20bffbebc188809c9869f2a4e588b78095640ea537b05ccfba4a37c4e9aeb063e3ecab1aa1ef3490135971e26d37323c1a5a3f596c0d7bcaa7d330ddc0aa4471b21b38ceb375867e0961a925732ae20ab5b9ef11f73a2da3db5296c7ee0bbffe21f95460cc2bd50b0fcfaeba37ba7b1cc71ebd5a3e2f6427e8befa5d48c59e5f246202654513e57f92257d64d10e2fccfd97c2983b322e9464af27784e3831342d28ad935ed30cb41bd1b5227dcd727c2e21d1387bc952c1a58a7e4ffd0a95074264cdc0e0b53fc550a45de0b1dbf360976a2a69d59d10bdc0124039e0c126388c4e8a34d676d760f103708838e0c983024e416fc6ec2aa6d40db29ecadb4d13536d182d11453e2820e254575c1efb2bad19f707493b80c0dfe7a61bd366e4237718cf9872c882cf69c8071b016b252909f5e6e18319f1d8a0b3e0a5bcf55e963897df6ea940778324bf6e6220620edfd2955c4a60f27dfd50cdadf4e8c226ac9fd12d26514b103e3d749463916791b04279e8f547a692e29ef930f7ec6f61e1f3e540792dee69d6701099d6656d9c7a02bfd8b0f40294b34181d3971d9a0f8b2b568e30c0c9018367f4564961d602b44fdee353c35f4186ff2f8fd4b5c80949c97a39dbc785d61f03bb3984779a4455eb1c9c7f558c8cff72d325f72b5f14949a13902ca9f0afff30d430469df171999f730c61994c0ed64804e86c2b3e0ecd47612d46747a9002294ccdec7c941bbf4c6bd057d259787aaf7c21ad059a0d648bf5a4cca5ddcf095b64a2ad40e77c99702cff4e2e2a9a4e8c71ab3f21b432cf00d16f1c9b63ff48b3baf67df8f44bab74eb60a6565509cca6bba3d8e19257a94b1bad7ed8587898ba7b12c63f9e84529757262f6e2bcf157f4d98bd48513b71f58df721a2136928af</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">For 2019 .</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title>各位，江湖再见了！</title>
    <url>/2018/06/22/%E5%90%84%E4%BD%8D%EF%BC%8C%E6%B1%9F%E6%B9%96%E5%86%8D%E8%A7%81/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 您输入的密码错误🙅‍♂️, 请再试试✊。" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容。">
  <script id="hbeData" type="hbeData" data-hmacdigest="ac614b0d88718f2e1b436473a1f8c86d93b129f67b69a8027c476a36f722419d">d0cc6b6399ce2fd1b6664f84900868a6392757e5793ec50eafe410c4f75b10f2844ff4582d11254b3553e894bfad528d05adb6d20ae5f553deffd021126c7885c2edfa980d09338578f3028613822a1d577051be29e5d11f30adbb171e78d18ff03c04a0a236d89b1a09e7011011792a2a1d473ee946408a3b959e5012566ad4aadbd2fb9ff5deed2dc2454c33f584d6fcefb97147497760caeac183f03acf9c1b0dba9894df93316c6c5c33bae9a0d462f680f165be59f6eb60a3879948a5d0255e8ea11dee50b59977bd5a99423fd82c6bd179854628aea2ca3dd5a0473ef1ad10ecffec6c89e01e5326be11aac4d2ccf0469b32c3b3dc5ba9a71a6f2e624a35291cf1f578ddf3a26f51cb6eb42cde727ba55114923efbdc1a14f1beab89c6f18e4d7330fe5c4286954b7d57f9b6d1cce614a63dc3b0edfd038d6013fa93b4d85da79c8ea335e827e197ededad0f64c4208cfaaffb37b5a43ad9101ae4b16276351fbd20bd509679f1ff282be2e8e2d9bf45f7ea66fb36afd47addeda1ef90f94d765f8d2b04ff8ad5677ee972b9ce7b2adeb6898e29feef6841fa2bf10bb7</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这是一篇加密文章，内容可能是个人情感宣泄或者收费技术。如果你确实想看，请与本人联系。This is an encrypted article, the content may be personal emotional catharsis or charging technology. If you really want to see it, please contact me. 📩📩📩</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>graduation</tag>
      </tags>
  </entry>
  <entry>
    <title>浏览器的回流与重绘</title>
    <url>/2017/04/14/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%9B%9E%E6%B5%81%E4%B8%8E%E9%87%8D%E7%BB%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: 一句话概括就是，回流必将引起重绘，重绘不一定会引起回流。</p>
</blockquote>
<a id="more"></a>

<h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>在讨论回流与重绘之前，我们需要知道：</p>
<ol>
<li>浏览器使用流式布局模型 (Flow Based Layout)。</li>
<li>浏览器会把HTML解析成DOM，把CSS解析成CSSOM，DOM和CSSOM合并就产生了Render Tree。</li>
<li>有了RenderTree，我们就知道了所有节点的样式，然后计算他们在页面上的大小和位置，最后把节点绘制到页面上。</li>
<li>由于浏览器使用流式布局，对Render Tree的计算通常只需要遍历一次就可以完成，但table及其内部元素除外，他们可能需要多次计算，通常要花3倍于同等元素的时间，这也是为什么要避免使用table布局的原因之一。</li>
</ol>
<h1 id="回流-Reflow"><a href="#回流-Reflow" class="headerlink" title="回流 (Reflow)"></a>回流 (Reflow)</h1><p>当Render Tree中部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程称为回流。</p>
<p>会导致回流的操作：</p>
<ul>
<li>页面首次渲染</li>
<li>浏览器窗口大小发生改变</li>
<li>元素尺寸或位置发生改变</li>
<li>元素内容变化（文字数量或图片大小等等）</li>
<li>元素字体大小变化</li>
<li>添加或者删除可见的DOM元素</li>
<li>激活CSS伪类（例如：:hover）</li>
<li>查询某些属性或调用某些方法</li>
</ul>
<p>一些常用且会导致回流的属性和方法：</p>
<ul>
<li>clientWidth、clientHeight、clientTop、clientLeft</li>
<li>offsetWidth、offsetHeight、offsetTop、offsetLeft</li>
<li>scrollWidth、scrollHeight、scrollTop、scrollLeft</li>
<li>scrollIntoView()、scrollIntoViewIfNeeded()</li>
<li>getComputedStyle()</li>
<li>getBoundingClientRect()</li>
<li>scrollTo()</li>
</ul>
<h1 id="重绘-Repaint"><a href="#重绘-Repaint" class="headerlink" title="重绘 (Repaint)"></a>重绘 (Repaint)</h1><p>当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。</p>
<h1 id="性能代价"><a href="#性能代价" class="headerlink" title="性能代价"></a>性能代价</h1><p><strong>回流比重绘的代价要更高。</strong></p>
<p>有时即使仅仅回流一个单一的元素，它的父元素以及任何跟随它的元素也会产生回流。</p>
<p>现代浏览器会对频繁的回流或重绘操作进行优化：</p>
<p>浏览器会维护一个队列，把所有引起回流和重绘的操作放入队列中，如果队列中的任务数量或者时间间隔达到一个阈值的，浏览器就会将队列清空，进行一次批处理，这样可以把多次回流和重绘变成一次。</p>
<p>当你访问以下属性或方法时，浏览器会立刻清空队列：</p>
<p>clientWidth、clientHeight、clientTop、clientLeft</p>
<p>offsetWidth、offsetHeight、offsetTop、offsetLeft</p>
<p>scrollWidth、scrollHeight、scrollTop、scrollLeft</p>
<p>width、height</p>
<p>getComputedStyle()</p>
<p>getBoundingClientRect()</p>
<p>因为队列中可能会有影响到这些属性或方法返回值的操作，即使你希望获取的信息与队列中操作引发的改变无关，浏览器也会强行清空队列，确保你拿到的值是最精确的。</p>
<h1 id="如何避免"><a href="#如何避免" class="headerlink" title="如何避免"></a>如何避免</h1><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><ol>
<li>避免使用table布局。</li>
<li>尽可能在DOM树的最末端改变class。</li>
<li>避免设置多层内联样式。</li>
<li>将动画效果应用到position属性为absolute或fixed的元素上。</li>
<li>避免使用CSS表达式（例如：calc()）。</li>
</ol>
<h2 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h2><ol>
<li>避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。</li>
<li>避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。</li>
<li>也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘。</li>
<li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。</li>
<li>对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流。</li>
</ol>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>study</tag>
        <tag>回流</tag>
        <tag>重绘</tag>
        <tag>render tree</tag>
        <tag>reflow</tag>
        <tag>repaint</tag>
      </tags>
  </entry>
  <entry>
    <title>等你下课 周杰伦&amp;&amp;李健</title>
    <url>/2018/07/13/%E7%AD%89%E4%BD%A0%E4%B8%8B%E8%AF%BE%20Cover%E6%9D%8E%E5%81%A5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>周杰伦古筝，李健翻唱等你下课</p>
</blockquote>
<a id="more"></a>

<p>为了方便放到此博客里，自己录制的1080p原版视频：</p>
<p><embed src="//player.video.iqiyi.com/017e5410347963eefb8e4aff46966f86/0/0/w_19s2i6u0x5.swf-albumId=23936477509-tvId=23936477509-isPurchase=0-cnId=undefined" allowFullScreen="true" quality="high" width="480" height="350" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E4%B8%A4%E7%89%88%E6%AD%8C%E8%AF%8D%E5%AF%B9%E6%AF%94.jpg" alt="两版歌词对比"></p>
<blockquote>
<p>李健看完词本人os:“高中三年 你为什么 为什么不好好读书 没考上跟我一样的大学？？？</p>
</blockquote>
<p>这两天一直在单曲循环这首歌，杰伦的厉害之处，他现在唱情歌不用再像是最长的电影和退后那样撕心裂肺，而只是坐在台阶上轻松地刷着和弦，随口而出的是直白的歌词，就像当年的简单爱和彩虹，就很能引起听歌者的共鸣。这首《等你下课》虽然前两遍听的时候觉得词也写得太简单了些，但也就像是杰伦说的那样，也算是地方民谣吧，所以讲得也比较生活化，其实也是很贴近现在我们这年轻一代的心路历程了，就有很多的遗憾，以及对过去多多少少的后悔。</p>
<p>而李健也不愧是清华毕业的，虽然是个工科生，但身上自带的那种文人的气息也是十分浓厚，原版高中不好好读书的歌词也确实不适合他，他改完之后的整首歌就有种洒脱的感觉，也算是对过去的潇洒放手。另外，李健的声音真的让人很舒服，非常清新。能够听到喜欢的两位歌手的合作，对于我来说也是十分开心了。</p>
<p>虽然不看这个节目，但听说有好听的歌也还是会去听一下的，而这张图就很好笑了😂</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%8F%A4%E6%83%91%E4%BB%94%E5%AD%A6%E6%B8%A3%E7%95%99%E7%BA%A7%E7%94%9F%E5%AD%A6%E9%9C%B8.jpeg" alt="古惑仔学渣留级生学霸"></p>
<blockquote>
<p>存一下谱子,有时间可以练一下</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/050142ohsrhu5h5visjquc.png" alt="050142ohsrhu5h5visjquc"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/050142p37nouf7nmbueeu3.png" alt="050142p37nouf7nmbueeu3"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/050143ekhaq5chnc15udue.png" alt="050143ekhaq5chnc15udue"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/050143gspetk9excscqukx.png" alt="050143gspetk9excscqukx"></p>
]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>music</tag>
        <tag>guitar</tag>
        <tag>周杰伦</tag>
        <tag>李健</tag>
        <tag>等你下课</tag>
      </tags>
  </entry>
  <entry>
    <title>职场菜鸟的一些感想</title>
    <url>/2019/01/05/%E8%81%8C%E5%9C%BA%E8%8F%9C%E9%B8%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: 之前写的一直没有部署，趁这次有空一起传上来</p>
</blockquote>
<a id="more"></a>

<h1 id="关于我的工作流程"><a href="#关于我的工作流程" class="headerlink" title="关于我的工作流程"></a>关于我的工作流程</h1><h2 id="需求分析讨论"><a href="#需求分析讨论" class="headerlink" title="需求分析讨论"></a>需求分析讨论</h2><ol>
<li>了解需求产生的背景<ul>
<li>为什么要做这个需求：修复痛点 or 市场反馈 or 业务拓展 nor  <del>天方夜谭</del> nor <del>平白无故</del></li>
</ul>
</li>
<li>需求是否合理<ul>
<li>该 battle 还是要 battle </li>
<li>无用功不可取</li>
</ul>
</li>
<li>需求是否闭环<ul>
<li>需求是否考虑全面，比如：评论和回复以及点赞、分享回流。</li>
<li>避免后期功能产生矛盾</li>
</ul>
</li>
<li>开发难度评估<ul>
<li>比如特别复杂的动画比较繁琐并且性能也不高，尽量原生app来做</li>
</ul>
</li>
<li>是否需要其他支持<ul>
<li>比如有的需要 CRD 的支持，如果没有识别到这个需要，做的时候再临时申请，客户端可能排期不够导致项目无法正常上线</li>
</ul>
</li>
<li>尽量不要立刻给排期<ul>
<li>先和其他开发一起讨论，结合自身任务再来给排期（“下班之前给出来 or 明天给</li>
</ul>
</li>
</ol>
<h2 id="技术方案设计"><a href="#技术方案设计" class="headerlink" title="技术方案设计"></a>技术方案设计</h2><ol>
<li>求简，不过度设计<ul>
<li>只要是和需求产出无关的技术，尽量不要用。</li>
<li>即便是新技术，也要从能够节省时间人力成本、提高效率、减少出错来考虑</li>
</ul>
</li>
<li>产出文档<ul>
<li>简明扼要地用一个 md 来描述该需求的技术方案设计，包括文字、图片以及代码或参考文档</li>
<li>方便自己理清思路也方便其它同事维护</li>
</ul>
</li>
<li>找准设计重点<ul>
<li>组件设计、数据结构设计、布局设计、接口对接、客户端能力等</li>
</ul>
</li>
<li>组内评审<ul>
<li>花几分钟向前辈请教，比如：可能项目里本身就有一个工具或者模块可以现拿来用，但你可能不知道</li>
<li>请求 review ：防止出现安全漏洞、性能问题（同时也是学习的好机会</li>
</ul>
</li>
<li>和 RD CRD 沟通<ul>
<li>和后端以及客户端沟通对接的事宜</li>
</ul>
</li>
<li>总结<ul>
<li>发布会议结论，证明沟通完成且留有一个证明（后期回顾</li>
</ul>
</li>
</ol>
<h2 id="正式开发过程"><a href="#正式开发过程" class="headerlink" title="正式开发过程"></a>正式开发过程</h2><ol>
<li>如何反馈排期<ul>
<li>预留一个 buffer 以防有其他事情耽误进程</li>
<li>考虑好并行工作</li>
<li>考虑同事依赖：与需要协同开发的同事沟通好各个环节的排期</li>
</ul>
</li>
<li>符合开发规范<ul>
<li>代码风格：尽量简洁通俗，注意空格、换行的使用，符合 <a href="https://airbnb.io/javascript/#types">airbnb规范</a></li>
<li>命名规范：不宜过长、使用缩写</li>
<li>注释规范：适量的、简明扼要的注释</li>
</ul>
</li>
<li>开发文档<ul>
<li>组件、模块最好写一份开发文档，方便后面维护</li>
<li>也让同事能看懂你的代码，同时也能让自己产生更多思考</li>
</ul>
</li>
<li>及时的单元测试<ul>
<li>开发完组件、借口、模块也要写单测</li>
</ul>
</li>
<li>Mock API<ul>
<li>webpack 里的 proxy 代理</li>
<li><a href="http://mockjs.com/">Mock.js</a>来模拟</li>
</ul>
</li>
<li>Review<ul>
<li>审查有无安全隐患以及性能问题</li>
</ul>
</li>
</ol>
<h2 id="联调"><a href="#联调" class="headerlink" title="联调"></a>联调</h2><blockquote>
<p>越早发现出问题越好</p>
</blockquote>
<ol>
<li>和 RD CRD 技术联调</li>
<li>让 UE、UI 确认视觉效果</li>
<li>让 PM 确定产品功能<ul>
<li>PM 如果临时加需求，需要走公司规定的需求变更流程</li>
<li>没有这方面的规定，那就项目组和 leader 评审，然后再去排期</li>
</ul>
</li>
</ol>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ol>
<li>提测发邮件，抄送项目组</li>
<li>测试问题要详细记录下来<ul>
<li>在线的测试管理平台，QA 提交问题 RD 解决问题</li>
<li>自己本身也可以用 to-do 来列出所有问题</li>
</ul>
</li>
<li>及时沟通，避免与 QA 信息不对称导致的矛盾<ul>
<li>“我的电脑/手机没问题啊” —— 让 QA 用特定的设备来复现，并找出问题</li>
</ul>
</li>
</ol>
<h2 id="上线"><a href="#上线" class="headerlink" title="上线"></a>上线</h2><ol>
<li>QA 回归测试</li>
<li>同步给 PM 和项目组</li>
<li>如果有问题，及时回滚。先止损，再去排查问题</li>
</ol>
<h1 id="一些感想"><a href="#一些感想" class="headerlink" title="一些感想"></a>一些感想</h1><p>​    正式工作时间虽然不长，但却在几个月里收获了很多东西。</p>
<ol>
<li>工作是多人协作，沟通是最重要的事情</li>
<li>及时识别风险，及时汇报</li>
</ol>
]]></content>
      <categories>
        <category>work</category>
      </categories>
      <tags>
        <tag>summary</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title>浅析JS中的堆内存与栈内存</title>
    <url>/2018/07/21/%E6%B5%85%E6%9E%90JS%E4%B8%AD%E7%9A%84%E5%A0%86%E5%86%85%E5%AD%98%E4%B8%8E%E6%A0%88%E5%86%85%E5%AD%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>最近看到这样一个问题</p>
<blockquote>
<p>Q：说说var、let、const的区别<br>A：balabalabalabla…<br>Q：const定义的值能改么？<br>A：你逗我？不能吧</p>
</blockquote>
<p>不知道各位看官怎么想？答案是部分能改，部分不能改。<code>const</code>定义的基本类型不能改变，但是定义的对象是可以通过修改对象属性等方法来改变的。如，</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">const</span> a = <span class="number">1</span></span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">&lt;&lt;&lt; <span class="number">1</span></span><br><span class="line">&gt;&gt;&gt; a = <span class="number">2</span></span><br><span class="line">&lt;&lt;&lt; <span class="title class_">VM1750</span>:<span class="number">1</span> <span class="title class_">Uncaught</span> <span class="title class_">TypeError</span>: <span class="title class_">Assignment</span> to constant variable.</span><br><span class="line">    at &lt;anonymous&gt;:<span class="number">1</span>:<span class="number">3</span></span><br><span class="line">    (anonymous) @ <span class="title class_">VM1750</span>:<span class="number">1</span></span><br><span class="line">&gt;&gt;&gt; <span class="keyword">const</span> b = &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">&lt;&lt;&lt; &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; b.<span class="property">name</span> = <span class="number">1</span></span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">&lt;&lt;&lt; &#123;<span class="attr">name</span>: <span class="number">1</span>&#125;</span><br><span class="line">&gt;&gt;&gt; b = &#123;&#125;</span><br><span class="line">&lt;&lt;&lt; <span class="title class_">VM1785</span>:<span class="number">1</span> <span class="title class_">Uncaught</span> <span class="title class_">TypeError</span>: <span class="title class_">Assignment</span> to constant variable.</span><br><span class="line">    at &lt;anonymous&gt;:<span class="number">1</span>:<span class="number">4</span></span><br></pre></td></tr></table></figure>
<p><code>const</code>不是定义常量么？为什么还能改？这就是我们今天要说的重点～</p>
<h1 id="JS中的堆内存与栈内存"><a href="#JS中的堆内存与栈内存" class="headerlink" title="JS中的堆内存与栈内存"></a>JS中的堆内存与栈内存</h1><p>在<code>JS</code>引擎中对变量的存储主要有两种位置，<code>堆内存</code>和<code>栈内存</code>。</p>
<p>和<code>Java</code>中对内存的处理类似，栈内存主要用于存储各种基本类型的变量，包括<code>Boolean</code>、<code>Number</code>、<code>String</code>、<code>Undefined</code>、<code>Null</code>，以及<code>对象变量的指针</code>，这时候栈内存给人的感觉就像一个线性排列的空间，每个小单元大小基本相等。</p>
<p>而堆内存主要负责像对象<code>Object</code>这种变量类型的存储，如下图</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Inj6UU.jpg" alt="Inj6UU"></p>
<p><code>栈内存</code>中的变量一般都是已知大小或者有范围上限的，算作一种简单存储。而堆内存存储的对象类型数据对于大小这方面，一般都是未知的。个人认为，这也是为什么<code>null</code>作为一个<code>object</code>类型的变量却存储在栈内存中的原因。</p>
<p>因此当我们定义一个<code>const</code>对象的时候，我们说的常量其实是指针，就是<code>const</code>对象对应的堆内存指向是不变的，但是堆内存中的数据本身的大小或者属性是可变的。而对于<code>const</code>定义的基础变量而言，这个值就相当于<code>const</code>对象的指针，是不可变。</p>
<p>既然知道了<code>const</code>在内存中的存储，那么<code>const</code>、<code>let</code>定义的变量不能二次定义的流程也就比较容易猜出来了，每次使用<code>const</code>或者<code>let</code>去初始化一个变量的时候，会首先遍历当前的内存栈，看看有没有重名变量，有的话就返回错误。</p>
<p>说到这里，有一个十分很容易忽略的点，之前也是自己一直没有注意的就是，使用<code>new</code>关键字初始化的之后是不存储在栈内存中的。为什么呢？<code>new</code>大家都知道，根据构造函数生成新实例，这个时候生成的是<strong>对象</strong>，而不是基本类型。再看一个例子</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> b = <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a==b, a===b, b==c, b===c, a==c, a===c)	</span><br><span class="line">&gt;&gt;&gt; <span class="literal">true</span> <span class="literal">false</span> <span class="literal">true</span> <span class="literal">true</span> <span class="literal">true</span> <span class="literal">false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a)</span><br><span class="line">&gt;&gt;&gt; <span class="string">&#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>
<p>我们可以看到<code>new</code>一个<code>String</code>，出来的是对象，而直接字面量赋值和工厂模式出来的都是字符串。但是根据我们上面的分析大小相对固定可预期的即便是对象也可以存储在栈内存的，比如<code>null</code>，为啥这个不是呢？再继续看</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a==b, a===b)</span><br><span class="line">&gt;&gt;&gt; <span class="literal">false</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>很明显，如果a，b是存储在栈内存中的话，两者应该是明显相等的，就像<code>null === null</code>是<code>true</code>一样，但结果两者并不相等，说明两者都是存储在堆内存中的，指针指向不一致。</p>
<p>说到这里，再去想一想<strong>我们常说的值类型和引用类型其实说的就是栈内存变量和堆内存变量，再想想值传递和引用传递、深拷贝和浅拷贝，都是围绕堆栈内存展开的，一个是处理值，一个是处理指针。</strong></p>
<h1 id="内存分配和垃圾回收"><a href="#内存分配和垃圾回收" class="headerlink" title="内存分配和垃圾回收"></a>内存分配和垃圾回收</h1><p>一般来说栈内存<u>线性有序存储</u>，<u>容量小</u>，<u>系统分配效率高</u>。而堆内存首先要在堆内存新分配存储区域，之后又要把指针存储到栈内存中，效率相对就要低一些了。<br>垃圾回收方面，栈内存变量基本上用完就回收了，而推内存中的变量因为存在很多不确定的引用，只有当所有调用的变量全部销毁之后才能回收。</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>let</tag>
        <tag>const</tag>
        <tag>堆内存</tag>
        <tag>栈内存</tag>
      </tags>
  </entry>
  <entry>
    <title>记几道Codewars上面的编程题</title>
    <url>/2017/07/24/%E8%AE%B0%E5%87%A0%E9%81%93Codewars%E4%B8%8A%E9%9D%A2%E7%9A%84%E7%BC%96%E7%A8%8B%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>每次做完看到别人的答案：wtf ???</p>
</blockquote>
<a id="more"></a>
<h1 id="NO-1"><a href="#NO-1" class="headerlink" title="NO.1"></a>NO.1</h1><p>题目描述：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars1.jpg" alt="codewars1"></p>
<p>解法:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeSmallest</span>(<span class="params">numbers</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!numbers)&#123;<span class="keyword">return</span> []&#125;</span><br><span class="line">    <span class="keyword">var</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,numbers);    numbers.<span class="title function_">splice</span>(numbers.<span class="title function_">indexOf</span>(min),<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> numbers;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> s = <span class="title function_">removeSmallest</span>(numbers);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br></pre></td></tr></table></figure>
<p><strong>Math.min()方法:</strong></p>
<blockquote>
<p>可以得到数组中最小的数,Math.min.apply(null,arr)其中第一个参数null，这个是因为没有对象去调用这个方法，所以直接传递null过去。</p>
</blockquote>
<p><strong>splice()方法:</strong></p>
<blockquote>
<p>arrayObject.splice(index,howmany,item1,…..,itemX)，实现删除从index处开始的零个或多个(howmany)元素，并且用参数列表中声明的一个或多个值(item1~X)来替换那些被删除的元素。</p>
</blockquote>
<h1 id="NO-2"><a href="#NO-2" class="headerlink" title="NO.2"></a>NO.2</h1><p>题目描述：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars2.jpg" alt="codewars2"></p>
<p>我的解法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isTriangle</span>(<span class="params">a,b,c</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> p = (a + b + c)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">var</span> S = <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(p*(p-a)*(p-b)*(p-c));</span><br><span class="line">    <span class="keyword">return</span> S &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>得票最高的解法：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars3.jpg" alt="codewars3"></p>
<p>orz。。</p>
<h1 id="NO-3"><a href="#NO-3" class="headerlink" title="NO.3"></a>NO.3</h1><p>题目描述：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars4.jpg" alt="codewars4"></p>
<p>我的解法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sumArray</span>(<span class="params">array</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span>(!array || array == <span class="literal">null</span>)&#123;<span class="keyword">return</span> <span class="number">0</span>&#125;;</span><br><span class="line">	<span class="keyword">var</span> max = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,array);</span><br><span class="line">	<span class="keyword">var</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,array);</span><br><span class="line">	array.<span class="title function_">splice</span>(array.<span class="title function_">indexOf</span>(max),<span class="number">1</span>);</span><br><span class="line">	array.<span class="title function_">splice</span>(array.<span class="title function_">indexOf</span>(min),<span class="number">1</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> sum = <span class="number">0</span>,i = <span class="number">0</span>;i &lt; array.<span class="property">length</span>;i++)&#123;</span><br><span class="line">		sum += array[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>得票最高的解法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">sumArray = <span class="function"><span class="params">a</span> =&gt;</span> a ? a.<span class="title function_">sort</span>(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x - y).<span class="title function_">slice</span>(<span class="number">1</span>, -<span class="number">1</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">s, e</span>) =&gt;</span> s + e, <span class="number">0</span>) : <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>??? (黑人问号脸。。</p>
<h1 id="NO-4"><a href="#NO-4" class="headerlink" title="NO.4"></a>NO.4</h1><p>题目描述：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars5.jpg" alt="codewars5"></p>
<p>我的解法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gimme = <span class="keyword">function</span>(<span class="params">inputArray</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> min = inputArray.<span class="title function_">indexOf</span>(<span class="title class_">Math</span>.<span class="title function_">min</span>(...inputArray)),</span><br><span class="line">        max = inputArray.<span class="title function_">indexOf</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(...inputArray));</span><br><span class="line">    <span class="keyword">if</span> (min === <span class="number">0</span> &amp;&amp; max === <span class="number">2</span> || max === <span class="number">0</span> &amp;&amp; min === <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (min === <span class="number">1</span> &amp;&amp; max === <span class="number">2</span> || max === <span class="number">1</span> &amp;&amp; min === <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (min === <span class="number">0</span> &amp;&amp; max === <span class="number">1</span> || max === <span class="number">0</span> &amp;&amp; min === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>得票最高的解法：<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/codewars6.jpg" alt="codewars6"></p>
<p>溜了溜了。。</p>
<p><em>PS。虽然这些高票答案精简得不行，但至少我写的代码块可读性强啊。。（微笑</em></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>算法</tag>
        <tag>codewars</tag>
        <tag>coding</tag>
        <tag>编程题</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2017/08/23/Daliy%20FE%20Coding%20Tips/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>title: Daliy FE Coding Tips<br>date: 2019-06-06 22:48:11<br>categories: study<br>cover: <a href="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/eud1pF.png">https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/eud1pF.png</a><br>tags: [tips, work, javascript, css, html, vue, html2canvas, canvas2image, refs, ellipsis, 高度自适应]</p>
<h1 id="Vue的异步组件"><a href="#Vue的异步组件" class="headerlink" title="Vue的异步组件"></a>Vue的异步组件</h1><p>​    在项目中有时候会有一些比较大的组件，类似于代码编辑器、echart图标渲染之类的组件，如果一次性全部直接同步打包的话，体积就会非常大，严重影响性能。</p>
<blockquote>
<ul>
<li>import()函数</li>
<li>按需加载，异步加载组件</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>vue 高级特性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- nextTick --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">NextTick</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        </span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- 异步组件 --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">FormDemo</span> <span class="attr">v-if</span>=<span class="string">&quot;showFormDemo&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showFormDemo = !showFormDemo&quot;</span>&gt;</span>show form demo<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">NextTick</span> <span class="keyword">from</span> <span class="string">&#x27;./NextTick&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">NextTick</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      	<span class="comment">// 异步加载：只有在需要渲染这个组件的时候才会加载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">FormDemo</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../BaseUse/FormDemo&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title class_">NextTickName</span>: <span class="string">&quot;NextTick&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">showFormDemo</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h1 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h1><blockquote>
<ul>
<li>多个组件有相同的逻辑，抽离出来</li>
<li><code>mixin</code>并不是完美的解决方案，会有一些问题</li>
<li><code>Vue 3</code>提出的<code>Composition API</code>旨在解决这些问题</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- MixinDemo.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;name&#125;&#125; &#123;&#123;job&#125;&#125; &#123;&#123;city&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;button @click=&quot;showName&quot;&gt;显示姓名&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import myMixin from &#x27;./mixin&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    mixins: [myMixin], // 可以添加多个，会自动合并起来</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &#x27;tom&#x27;,</span><br><span class="line">            job: &#x27;web&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        console.log(&#x27;component mounted&#x27;, this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mixin.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">city</span>: <span class="string">&#x27;hangzhou&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mixin mounted&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>​    <strong>mixin的问题</strong></p>
<ul>
<li>变量来源不明确，不利于阅读</li>
<li>多 mixin 可能会造成命名冲突</li>
<li>mixin和组件可能出现多对多的关系，复杂度较高</li>
</ul>
</blockquote>
<h1 id="this-notify"><a href="#this-notify" class="headerlink" title="this.$notify()"></a>this.$notify()</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> operateFeedback <span class="keyword">from</span> <span class="string">&#x27;./operateFeedback.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Plugin</span> = &#123;</span><br><span class="line">    install (<span class="title class_">Vue</span>, options = &#123;&#125;) &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Makes sure that plugin can be installed only once</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">installed</span>) <span class="keyword">return</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">installed</span> = <span class="literal">true</span></span><br><span class="line">      </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Plugin API</span></span><br><span class="line"><span class="comment">         * tips: 提示文案</span></span><br><span class="line"><span class="comment">         * existTime: 提示存在的时间</span></span><br><span class="line"><span class="comment">         * ifSuccessed: 是否是操作成功的反馈  失败传0 成功传1或者不传</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$notify</span> = <span class="function">(<span class="params">tips = <span class="string">&#x27;操作成功&#x27;</span>, existTime = <span class="number">1500</span>, ifSuccessed = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">let</span> feedback = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(operateFeedback)</span><br><span class="line">            <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title function_">feedback</span>(&#123; <span class="attr">data</span>: &#123; tips, ifSuccessed &#125; &#125;)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">let</span> domNotify = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;ddr-notify&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">            ele.<span class="title function_">setAttribute</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;ddr-notify-child&quot;</span>)</span><br><span class="line">            domNotify.<span class="title function_">appendChild</span>(ele)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ele2.setAttribute(&quot;id&quot;, &quot;ddr-notify-child&quot;)</span></span><br><span class="line">            <span class="comment">// ele.setAttribute(&quot;class&quot;, &quot;ddr-notify-child-2&quot;)</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                a.$mount(<span class="string">&#x27;#ddr-notify-child&#x27;</span>)</span><br><span class="line">            &#125;, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> domNotifyChild = a.<span class="property">$el</span></span><br><span class="line">                domNotifyChild.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(domNotifyChild);</span><br><span class="line">                <span class="comment">// let domNotify = document.getElementById(&quot;ddr-notify&quot;);</span></span><br><span class="line">                <span class="comment">// console.log(&#x27;domNotify:&#x27;, domNotify)</span></span><br><span class="line">                <span class="comment">// console.log(&#x27;a:&#x27;, a)</span></span><br><span class="line">                <span class="comment">// a.$destroy()</span></span><br><span class="line">                <span class="comment">// console.log(&#x27;a:&#x27;, a)</span></span><br><span class="line">                <span class="comment">// domNotify.remove()</span></span><br><span class="line">            &#125;, existTime)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// let component = new feedback().$mount();</span></span><br><span class="line">            <span class="comment">// let $dom = component.$el;</span></span><br><span class="line">            <span class="comment">// let root = document.getElementById(&quot;ddr&quot;)</span></span><br><span class="line">            <span class="comment">// root.appendChild($dom);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Plugin</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="调用子组件的方法（vm-refs-xx-xx-）"><a href="#调用子组件的方法（vm-refs-xx-xx-）" class="headerlink" title="调用子组件的方法（vm.$refs.xx.xx()）"></a>调用子组件的方法（vm.$refs.xx.xx()）</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span><br><span class="line">    <span class="title function_">next</span>(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">from</span>.<span class="property">name</span> === <span class="string">&#x27;noteUpload&#x27;</span> &amp;&amp; vm.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">from</span> === <span class="string">&#x27;upload&#x27;</span>) &#123;</span><br><span class="line">             vm.<span class="property">$refs</span>.<span class="property">topicListChild</span>.<span class="title function_">reInitNoteList</span>()</span><br><span class="line">             vm.<span class="title function_">slideToNoteList</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h1 id="iPhone低版本输入框问题"><a href="#iPhone低版本输入框问题" class="headerlink" title="iPhone低版本输入框问题"></a>iPhone低版本输入框问题</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在输入框上绑定一个 @blur=&quot;inputBlur&quot;</span></span><br><span class="line"><span class="comment">// 防止输入框把页面顶上去 导致点击区域失效</span></span><br><span class="line">inputBlur () &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, <span class="number">2000</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h1 id="让文字在一个方框内水平垂直居中"><a href="#让文字在一个方框内水平垂直居中" class="headerlink" title="让文字在一个方框内水平垂直居中"></a>让文字在一个方框内水平垂直居中</h1><p>由于文字长度是不确定的，所以无法指定一个固定的宽高</p>
<p>fit-content 兼容性有问题，在ios10以上才能用，所以弃用。改为：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">align-items</span>: center;</span><br><span class="line"><span class="attribute">justify-content</span>: center;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span> <span class="number">14px</span> <span class="number">8px</span>;</span><br></pre></td></tr></table></figure>
<p>也就是说 flex和absolute结合起来也是可以实现居中的。</p>
<h1 id="html占位符"><a href="#html占位符" class="headerlink" title="html占位符"></a>html占位符</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&amp;#32;</span> == 普通的英文半角空格</span><br><span class="line"><span class="symbol">&amp;#160;</span> == <span class="symbol">&amp;nbsp;</span> == <span class="symbol">&amp;#xA0;</span> == no-break space （普通的英文半角空格但不换行）</span><br><span class="line"><span class="symbol">&amp;#12288;</span> == 中文全角空格 （一个中文宽度）</span><br><span class="line"><span class="symbol">&amp;#8194;</span> == <span class="symbol">&amp;ensp;</span> == en空格 （半个中文宽度）</span><br><span class="line"><span class="symbol">&amp;#8195;</span> == <span class="symbol">&amp;emsp;</span> == em空格 （一个中文宽度）</span><br><span class="line"><span class="symbol">&amp;#8197;</span> == 四分之一em空格 （四分之一中文宽度）</span><br><span class="line">相比平时的空格（<span class="symbol">&amp;#32;</span>），nbsp拥有不间断（non-breaking）特性。即连续的nbsp会在同一行内显示。即使有100个连续的nbsp，浏览器也不会把它们拆成两行。</span><br></pre></td></tr></table></figure>
<h1 id="html2canvas-amp-amp-canvas2image"><a href="#html2canvas-amp-amp-canvas2image" class="headerlink" title="html2canvas &amp;&amp; canvas2image"></a>html2canvas &amp;&amp; canvas2image</h1><p>移动端保存带有个性化信息和样式的图片的方法，参考于<a href="https://segmentfault.com/a/1190000011478657">基于html2canvas实现网页保存为图片及图片清晰度优化</a></p>
<ul>
<li>正常用一个div来写样式</li>
<li>再写一个div作浅黑色蒙板</li>
<li>最上面的才是真正的图片，可以用appendChild将生成的img添加上去并为其写上样式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> html2canvas <span class="keyword">from</span> <span class="string">&#x27;html2canvas&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Canvas2Image</span> <span class="keyword">from</span> <span class="string">&#x27;@/util/canvas2image&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// html2canvas 生成图片的方法</span></span><br><span class="line"><span class="title function_">generateCanvas</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> cntElem = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">hideBox</span>;</span><br><span class="line">        <span class="keyword">let</span> shareContent = cntElem;<span class="comment">//需要截图的包裹的（原生的）DOM 对象</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> width = shareContent.<span class="property">offsetWidth</span>; <span class="comment">//获取dom 宽度</span></span><br><span class="line">        <span class="keyword">let</span> height = shareContent.<span class="property">offsetHeight</span>; <span class="comment">//获取dom 高度</span></span><br><span class="line">        <span class="keyword">let</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>); <span class="comment">//创建一个canvas节点</span></span><br><span class="line">        <span class="keyword">let</span> scale = <span class="number">3</span>; <span class="comment">//定义任意放大倍数 支持小数</span></span><br><span class="line">        canvas.<span class="property">width</span> = width * scale; <span class="comment">//定义canvas 宽度 * 缩放</span></span><br><span class="line">        canvas.<span class="property">height</span> = height * scale; <span class="comment">//定义canvas高度 *缩放</span></span><br><span class="line">        canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>).<span class="title function_">scale</span>(scale, scale); <span class="comment">//获取context,设置scale </span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> opts = &#123;</span><br><span class="line">            <span class="attr">scale</span>: scale, <span class="comment">// 添加的scale 参数</span></span><br><span class="line">            <span class="attr">canvas</span>: canvas, <span class="comment">//自定义 canvas</span></span><br><span class="line">            <span class="comment">// logging: true, //日志开关，便于查看html2canvas的内部执行流程</span></span><br><span class="line">            <span class="attr">width</span>: width, <span class="comment">//dom 原始宽度</span></span><br><span class="line">            <span class="attr">height</span>: height, <span class="comment">//dom 原始高度</span></span><br><span class="line">            <span class="comment">// useCORS: true, // 【重要】开启跨域配置</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">html2canvas</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">hideBox</span>, opts).<span class="title function_">then</span>(<span class="function">(<span class="params">canvas</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">let</span> context = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>)</span><br><span class="line">            <span class="comment">// 【重要】关闭抗锯齿</span></span><br><span class="line">            context.<span class="property">mozImageSmoothingEnabled</span> = <span class="literal">false</span></span><br><span class="line">            context.<span class="property">webkitImageSmoothingEnabled</span> = <span class="literal">false</span></span><br><span class="line">            context.<span class="property">msImageSmoothingEnabled</span> = <span class="literal">false</span></span><br><span class="line">            context.<span class="property">imageSmoothingEnabled</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 【重要】默认转化的格式为png,也可设置为其他格式</span></span><br><span class="line">            <span class="keyword">let</span> img = <span class="title class_">Canvas2Image</span>.<span class="title function_">convertToJPEG</span>(canvas, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">realImg</span>.<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// $(img).css(&#123;</span></span><br><span class="line">            <span class="comment">//     &quot;width&quot;: canvas.width / 2 + &quot;px&quot;,</span></span><br><span class="line">            <span class="comment">//     &quot;height&quot;: canvas.height / 2 + &quot;px&quot;,</span></span><br><span class="line">            <span class="comment">// &#125;).addClass(&#x27;f-full&#x27;)</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="内容溢出变成省略号-ellipsis"><a href="#内容溢出变成省略号-ellipsis" class="headerlink" title="内容溢出变成省略号(ellipsis)"></a>内容溢出变成省略号(ellipsis)</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// 单行ellipsis</span><br><span class="line"><span class="attribute">overflow</span>: hidden; <span class="attribute">text-overflow</span>:ellipsis; <span class="attribute">white-space</span>: nowrap;</span><br><span class="line"></span><br><span class="line">// 多行ellipsis</span><br><span class="line"><span class="attribute">overflow</span>: hidden; <span class="attribute">text-overflow</span>: ellipsis; <span class="attribute">display</span>: -webkit-box; -webkit-line-clamp: <span class="number">2</span>; -webkit-box-orient: vertical;</span><br></pre></td></tr></table></figure>
<h1 id="Vue的渲染缺陷"><a href="#Vue的渲染缺陷" class="headerlink" title="Vue的渲染缺陷"></a>Vue的渲染缺陷</h1><p>假如在v-if中这样写，<code>v-if=&quot;obj.a&quot;</code>且对象obj不存在a属性，那么这个页面将会整个不渲染，而不是在Vue中报错<code>undefined</code>。此时可以通过注释掉某片div来逐一排查是哪个判断出现问题。</p>
<h1 id="Vue的watch缺陷"><a href="#Vue的watch缺陷" class="headerlink" title="Vue的watch缺陷"></a>Vue的watch缺陷</h1><blockquote>
<ul>
<li>watch默认是浅监听，可能无法监测到对象的深层key属性变化</li>
<li>watch监听引用类型，拿不到oldVal</li>
</ul>
</blockquote>
<p>查阅: <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fapi%2F%23watch">vue官方文档</a>.得知如果是想watch检测到值变化并且立刻使用则需要加上 immediate: true,</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;uploaConfig.moreList&#x27;</span>: &#123;</span><br><span class="line">      handler (newVal) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">uploadConfig</span>.<span class="property">moreList</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">uploadConfig</span>.<span class="property">moreList</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">moreList</span> = newVal.<span class="property">moreList</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="对象监听"><a href="#对象监听" class="headerlink" title="对象监听"></a>对象监听</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;watch-demo-item&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;obj.val2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;value2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">val1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">value1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">obj</span>: &#123;</span><br><span class="line">      <span class="attr">val2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  val1 (val, oval) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value1</span> = val</span><br><span class="line">  &#125;,</span><br><span class="line">  obj (val, oval) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value2</span> = val.<span class="property">val2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/5Y25PS.jpg" alt="5Y25PS"></p>
<p>​    可以看到，监听的对象某个key发生变化时，watch并没有生效。</p>
<h3 id="解决方案一"><a href="#解决方案一" class="headerlink" title="解决方案一"></a>解决方案一</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">val1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">value1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">obj</span>: &#123;</span><br><span class="line">      <span class="attr">val2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  val1 (val, oval) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value1</span> = val</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;obj.val2&#x27;</span> (val, oval) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value2</span> = val</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​    确实是成功了，但现实开发过程中，我们的obj对象很难确定里面的key数量，假如很多个key的时候，总不能写多个监听去监听key吧？</p>
<h3 id="解决方案二"><a href="#解决方案二" class="headerlink" title="解决方案二"></a>解决方案二</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">val1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">value1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">obj</span>: &#123;</span><br><span class="line">      <span class="attr">val2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value2</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  val1 (val, oval) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value1</span> = val</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;obj&#x27;</span>: &#123;</span><br><span class="line">    handler (val, oval) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">value2</span> = val.<span class="property">val2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">deep</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解释：<code>handler</code>是<code>watch</code>的高级用法,里面有一个属性 <code>deep</code>，默认值是 <code>false</code>，代表<u>是否深度监听</u>, 还有一个属性 <code>immediate</code>，默认值也是 <code>false</code> ，但<u>immediate:true</u>代表如果在 <code>wacth</code> 里声明了之后，就会立即先去执行里面的<code>handler</code>方法，如果为 <code>false</code>就跟我们以前的效果一样，不会在绑定的时候就执行。<strong>deep深度监听会影响性能；</strong> 两者可以同时存在。</p>
</blockquote>
<h1 id="定义一个高度自适应的输入框"><a href="#定义一个高度自适应的输入框" class="headerlink" title="定义一个高度自适应的输入框"></a>定义一个高度自适应的输入框</h1><p>前些日子有过textarea高度自适应的需求，找到一个插件<a href="https://github.com/alexdunphy/flexText">flexText</a>,虽然没有用上去，但是的精简的代码很吸引我。</p>
<p>它是原理是这样的，HTML结构如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;expandingArea&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入文字&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中的<code>expandingArea</code>的样式仅有</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.expandingArea</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>目的是用于<code>textarea</code>相对于<code>expandingArea</code>绝对定位：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">textarea</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>；</span><br><span class="line">    height:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过这样的样式设置，<code>textArea</code>的高度会始终等于<code>expandingArea</code>的高度，要让<code>textarea</code>的高度变化也只需要调整<br><code>expadingArea</code>的高度即可。那么怎么样让<code>expandingArea</code>的高度变化随内容高度变化而变化呢？<code>pre</code>是比较重要的<br>东西。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">pre&#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">visibility</span>:hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><u><code>pre</code>以块形式存在，并且不可见，但是是占用空间的</u>，不像display:none;什么空间也不占。这时需要把<code>textarea</code>中的内容实时同步到<code>pre</code>里的<code>span</code>标签中，因为<code>pre</code>没有<code>postion:absolute</code>所以它的高度会一直影响<code>expandingArea</code>的高度。总结原理就是：<code>pre</code>会随内容的高度变化而变化，<code>expandingArea</code>的高度又随<code>pre</code>变化，因为<code>textarea</code>的高度100% <code>textarea</code>的高度会随<code>expandingArea</code>变化，只要同步<code>textarea</code>的内容到pre中，就达到一个<code>textarea</code>随内容高度变化的目的了。</p>
<p>关于这个方法的兼容性问题 在这个方法的创始人博客有提到<a href="http://alistapart.com/article/expanding-text-areas-made-elegant">NEIL JENKINS</a>。个人觉得这个方法是牛逼的，没有通过计算，逻辑上它像上思维推导，代码实现不复杂，轻松愉快。在这个例子中又看到了一次合理的结构可以简化代码的案例:)。</p>
<blockquote>
<p>参考于<a href="https://segmentfault.com/q/1010000000095238">如何创建一个高度自适应的textarea</a></p>
<p>延伸阅读：line-height:normal是怎样计算的? - 知乎 <a href="https://www.zhihu.com/question/21786347">https://www.zhihu.com/question/21786347</a> （提到了IFC的概念）</p>
</blockquote>
<h1 id="Vue事件中的event参数"><a href="#Vue事件中的event参数" class="headerlink" title="Vue事件中的event参数"></a>Vue事件中的event参数</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;num&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;button @click=&quot;increment1&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;increment2(2, $event)&quot;&gt;+2&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            num: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        increment1(event) &#123;</span><br><span class="line">            console.log(&#x27;event&#x27;, event, event.__proto__.constructor) // 是原生的 event 对象</span><br><span class="line">            console.log(event.target)</span><br><span class="line">            console.log(event.currentTarget) // 注意，事件是被注册到当前元素的，和 React 不一样</span><br><span class="line">            this.num++</span><br><span class="line">        &#125;,</span><br><span class="line">        increment2(val, event) &#123;</span><br><span class="line">            console.log(event.target)</span><br><span class="line">            this.num = this.num + val</span><br><span class="line">        &#125;,</span><br><span class="line">        loadHandler() &#123;</span><br><span class="line">            // do some thing</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        window.addEventListener(&#x27;load&#x27;, this.loadHandler)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">        //【注意】用 vue 绑定的事件，组建销毁时会自动被解绑</span><br><span class="line">        // 自己绑定的事件，需要自己销毁！！！</span><br><span class="line">        window.removeEventListener(&#x27;load&#x27;, this.loadHandler)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li><p>event 是原生的</p>
</li>
<li><p>事件被挂载到当前事件绑定的元素</p>
<p>和 DOM 事件一样</p>
</li>
</ol>
</blockquote>
<h1 id="Vue非父子组件间的通信（自定义事件"><a href="#Vue非父子组件间的通信（自定义事件" class="headerlink" title="Vue非父子组件间的通信（自定义事件"></a>Vue非父子组件间的通信（自定义事件</h1><ol>
<li><strong>event.js</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>input.vue</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">        &lt;button @click=&quot;addTitle&quot;&gt;add&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import event from &#x27;./event&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            title: &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        addTitle() &#123;</span><br><span class="line">            // 调用父组件的事件</span><br><span class="line">            this.$emit(&#x27;add&#x27;, this.title)</span><br><span class="line">          </span><br><span class="line">            //🌟🌟🌟 调用自定义事件，也可以传参</span><br><span class="line">            event.$emit(&#x27;onAddTitle&#x27;, this.title)</span><br><span class="line">          </span><br><span class="line">            this.title = &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><strong>list.vue</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">                &#123;&#123;item.title&#125;&#125;</span><br><span class="line">                &lt;button @click=&quot;deleteItem(item.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import event from &#x27;./event&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">        list: &#123;</span><br><span class="line">            type: Array,</span><br><span class="line">            default() &#123;</span><br><span class="line">                return []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        deleteItem(id) &#123;</span><br><span class="line">            this.$emit(&#x27;delete&#x27;, id)</span><br><span class="line">        &#125;,</span><br><span class="line">        addTitleHandler(title) &#123;</span><br><span class="line">            console.log(&#x27;on add title&#x27;, title)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //🌟🌟🌟 绑定自定义事件</span><br><span class="line">      	//🌟🌟🌟 之所以这里写的函数名而不是箭头函数是为了方便在beforeDestroy里解绑该自定义事件</span><br><span class="line">        event.$on(&#x27;onAddTitle&#x27;, this.addTitleHandler)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">        //🌟🌟🌟 及时销毁，否则可能造成内存泄露</span><br><span class="line">        event.$off(&#x27;onAddTitle&#x27;, this.addTitleHandler)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>自定义一个Vue实例（这里的event），这个实例就可以实现$on、$emit、$off的功能。就不需要引入event bus总线了</p>
</blockquote>
<h1 id="nextTick"><a href="#nextTick" class="headerlink" title="$nextTick"></a>$nextTick</h1><ol>
<li><code>vue</code>是异步渲染。（是为了减少<code>DOM</code>的操作次数以提高性能</li>
<li><code>data</code>改变之后，<code>DOM</code>并不会立刻渲染</li>
<li><code>$nextTick</code>会在<code>DOM</code>渲染之后被触发，以获取最新的<code>DOM</code>节点</li>
<li><code>vue</code>会汇总 <code>data</code> 的修改，一次性更新视图</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;ul ref=&quot;ul1&quot;&gt;</span><br><span class="line">        &lt;li v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;button @click=&quot;addItem&quot;&gt;添加一项&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;app&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        list: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addItem() &#123;</span><br><span class="line">        this.list.push(`$&#123;Date.now()&#125;`)</span><br><span class="line">        this.list.push(`$&#123;Date.now()&#125;`)</span><br><span class="line">        this.list.push(`$&#123;Date.now()&#125;`)</span><br><span class="line"></span><br><span class="line">        // 1. 异步渲染，$nextTick 待 DOM 渲染完再回调</span><br><span class="line">        // 2. 页面渲染时会将 data 的修改做整合，多次 data 修改只会渲染一次</span><br><span class="line">        this.$nextTick(() =&gt; &#123;</span><br><span class="line">          // 获取 DOM 元素</span><br><span class="line">          const ulElem = this.$refs.ul1</span><br><span class="line">          console.log( ulElem.childNodes.length )</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h1 id="一些实用的JS开发技巧"><a href="#一些实用的JS开发技巧" class="headerlink" title="一些实用的JS开发技巧"></a>一些实用的JS开发技巧</h1><h2 id="fill初始化确定长度的数组并指定默认值"><a href="#fill初始化确定长度的数组并指定默认值" class="headerlink" title="fill初始化确定长度的数组并指定默认值"></a><code>fill</code>初始化确定长度的数组并指定默认值</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = <span class="title class_">Array</span>(<span class="number">5</span>).<span class="title function_">fill</span>(<span class="number">1</span>)</span><br><span class="line"><span class="comment">// [1， 1， 1， 1， 1]</span></span><br></pre></td></tr></table></figure>
<h2 id="过滤错误值"><a href="#过滤错误值" class="headerlink" title="过滤错误值"></a>过滤错误值</h2><p>如果想过滤数组中的false、0、null、undefined等值，可以这样：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">0</span>, <span class="literal">undefined</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="string">&#x27;&#x27;</span>, <span class="literal">false</span>];</span><br><span class="line"></span><br><span class="line">array.<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line"><span class="comment">// [1, 6, 7]</span></span><br></pre></td></tr></table></figure>
<h2 id="includes简化判断数组中是否存在某个特定的值"><a href="#includes简化判断数组中是否存在某个特定的值" class="headerlink" title="includes简化判断数组中是否存在某个特定的值"></a><code>includes</code>简化判断数组中是否存在某个特定的值</h2><p>如果有下面的这样的一个判断：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(a === <span class="literal">undefined</span> || a === <span class="number">10</span> || a=== <span class="number">15</span> || a === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>就可以使用数组来简化这个判断逻辑：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>([<span class="literal">undefined</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="literal">null</span>].<span class="title function_">includes</span>(a)) &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>inclueds和indexOf &gt; -1 的效果相同，区别在于indexOf无法判断undefined和null以及NaN</p>
</blockquote>
<h2 id="拼接数组"><a href="#拼接数组" class="headerlink" title="拼接数组"></a>拼接数组</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> start = [<span class="number">1</span>, <span class="number">2</span>] </span><br><span class="line"><span class="keyword">const</span> end = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] </span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">9</span>, ...start, ...end, <span class="number">8</span>] <span class="comment">// [9, 1, 2, 5, 6, 7 , 8]</span></span><br></pre></td></tr></table></figure>
<p>或者使用数组的concat()方法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> start = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] </span><br><span class="line"><span class="keyword">const</span> end = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] </span><br><span class="line">start.<span class="title function_">concat</span>(end); <span class="comment">// [1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure>
<p>但是使用concat()方法时，如果需要合并的数组很大，那么concat() 函数会在创建单独的新数组时消耗大量内存。这时可以使用以下方法来实现数组的合并：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span>.<span class="title function_">apply</span>(start, end)</span><br><span class="line"><span class="comment">// 通过这种方式就能在很大程度上较少内存的使用。</span></span><br></pre></td></tr></table></figure>
<h2 id="可选链运算符"><a href="#可选链运算符" class="headerlink" title="?.可选链运算符"></a><code>?.</code>可选链运算符</h2><p>避免某一层级不存在导致报错：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">parent &amp;&amp; parent.<span class="property">child</span> &amp;&amp; parent.<span class="property">child</span>.<span class="property">child1</span> &amp;&amp; parent.<span class="property">child</span>.<span class="property">child1</span>.<span class="property">child2</span></span><br></pre></td></tr></table></figure>
<p>这样代码看起来就会很臃肿，可以使用JavaScript的可选链运算符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">parent?.<span class="property">child</span>?.<span class="property">child1</span>?.<span class="property">child2</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">array?.[<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在引用为空(null 或者 undefined) 的情况下不会引起错误，该表达式短路返回值是 undefined。与函数调用一起使用时，如果给定的函数不存在，则返回 undefined。</p>
</blockquote>
<h2 id="空值合并操作符验证undefined和null"><a href="#空值合并操作符验证undefined和null" class="headerlink" title="?? 空值合并操作符验证undefined和null"></a><code>??</code> 空值合并操作符验证undefined和null</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(a === <span class="literal">null</span> || a === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="title function_">doSomething</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也就是如果需要验证一个值如果等于null或者undefined时，需要执行一个操作时，可以使用空值合并运算符来简化上面的代码：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">a ?? <span class="title function_">doSomething</span>()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这样，只有a是undefined或者null时，才会执行控制合并运算符后面的代码。空值合并操作符（??）是一个逻辑操作符，当左侧的操作数为 null 或者 undefined 时，返回其右侧操作数，否则返回左侧操作数。</p>
</blockquote>
<h2 id="数组元素转化为数字"><a href="#数组元素转化为数字" class="headerlink" title="数组元素转化为数字"></a>数组元素转化为数字</h2><p>如果有一个数组，想要把数组中的所有元素转化为数字，可以使用map方法来实现：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">&#x27;12&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;3.1415&#x27;</span>, <span class="string">&#x27;-10.01&#x27;</span>];</span><br><span class="line">array.<span class="title function_">map</span>(<span class="title class_">Number</span>);  <span class="comment">// [12, 1, 3.1415, -10.01]</span></span><br></pre></td></tr></table></figure>
<h2 id="使用-once-选项添加一个只运行一次的事件监听器"><a href="#使用-once-选项添加一个只运行一次的事件监听器" class="headerlink" title="使用 once 选项添加一个只运行一次的事件监听器"></a>使用 <code>once</code> 选项添加一个只运行一次的事件监听器</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I run only once&#x27;</span>), &#123;</span><br><span class="line">    <span class="attr">once</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="双星号-代替Math-pow"><a href="#双星号-代替Math-pow" class="headerlink" title="双星号**代替Math.pow()"></a>双星号<code>**</code>代替Math.pow()</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Longhand</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="number">2</span>**<span class="number">3</span>; <span class="comment">// 8</span></span><br></pre></td></tr></table></figure>
<h3 id="双波浪线运算符-代替Math-floor"><a href="#双波浪线运算符-代替Math-floor" class="headerlink" title="双波浪线运算符~~代替Math.floor()"></a>双波浪线运算符<code>~~</code>代替Math.floor()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Longhand</span></span><br><span class="line"><span class="keyword">const</span> floor = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">6.8</span>); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line"><span class="keyword">const</span> floor = ~~<span class="number">6.8</span>; <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要注意，~~仅适用于小于2147483647的数字</p>
</blockquote>
<h2 id="洗牌一个数组"><a href="#洗牌一个数组" class="headerlink" title="洗牌一个数组"></a>洗牌一个数组</h2><p>利用内置的<code>Math.random()</code>方法来随机打乱数组的排序。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const list = [1, 2, 3, 4, 5, 6, 7, 8, 9];</span><br><span class="line">list.sort(() =&gt; &#123;</span><br><span class="line">    return Math.random() - 0.5;</span><br><span class="line">&#125;);</span><br><span class="line">// 输出</span><br><span class="line">(9) [2, 5, 1, 6, 9, 8, 4, 3, 7]</span><br><span class="line">// 输出</span><br><span class="line">(9) [4, 1, 7, 5, 3, 8, 2, 9, 6]</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Data Structures and Algorithms For Javascript</title>
    <url>/2018/05/24/Data%20Structures%20and%20Algorithms%20For%20Javascript/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>leetcode刷题</p>
</blockquote>
<a id="more"></a>

<h1 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Leetcode-String-01.png" alt="Leetcode-String-01"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 字符串按空格进行分隔，保存数组，数组的元素的先后顺序就是单词的顺序</span></span><br><span class="line">  <span class="keyword">let</span> arr = str.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  <span class="comment">// 对数组进行遍历，然后每个元素进行反转</span></span><br><span class="line">  <span class="keyword">let</span> result = arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> result.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 1. 字符串按空格进行分隔，保存数组，数组的元素的先后顺序就是单词的顺序</span></span><br><span class="line">  <span class="comment">// 2. 对数组进行遍历，然后每个元素进行反转</span></span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;).<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">split</span>(<span class="regexp">/\s/g</span>).<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;).<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对输入进行了限制（空）单词用空格隔开（没见过单词中有&lt;等特殊字符之前考虑的是空格，单引号）(LeetCode测试用例)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="property">length</span> ? str.<span class="title function_">match</span>(<span class="regexp">/[\S]+/g</span>).<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;).<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>) : <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>API：<br>String.prototype.split<br>String.prototype.match<br>Array.prototype.map<br>Array.prototype.reverse<br>Array.prototype.join</p>
</blockquote>
<h3 id="计数二进制子串"><a href="#计数二进制子串" class="headerlink" title="计数二进制子串"></a>计数二进制子串</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Leetcode-String-02.png" alt="Leetcode-String-02"></p>
<blockquote>
<ol>
<li><p><strong>难度稍大的算法题目如何解？</strong></p>
<p><strong>算法的本质是寻找规律并实现</strong></p>
</li>
<li><p><strong>如何找到规律？</strong></p>
<p><strong>发现输入和输出之间的关系，寻找突破点</strong></p>
</li>
<li><p><strong>复杂的实现怎么办？</strong></p>
<p><strong>实现是程序+数据结构的结合体</strong></p>
</li>
</ol>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 关于 LeetCode 测试用例字符串过长导致 RegExp too big的问题暂时不予修复</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 建立数据结构，堆栈，保存数据</span></span><br><span class="line">  <span class="keyword">let</span> r = []</span><br><span class="line">  <span class="comment">// 给定任意子输入都返回第一个符合条件的子串</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">match</span> = (<span class="params">str</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> j = str.<span class="title function_">match</span>(<span class="regexp">/^(0+|1+)/</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> o = (j[<span class="number">0</span>] ^ <span class="number">1</span>).<span class="title function_">toString</span>().<span class="title function_">repeat</span>(j.<span class="property">length</span>)</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">`^(<span class="subst">$&#123;j&#125;</span><span class="subst">$&#123;o&#125;</span>)`</span>)</span><br><span class="line">    <span class="keyword">if</span> (reg.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">RegExp</span>.<span class="property">$1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 通过for循环控制程序运行的流程</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = str.<span class="property">length</span> - <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> sub = <span class="title function_">match</span>(str.<span class="title function_">slice</span>(i))</span><br><span class="line">    <span class="keyword">if</span> (sub) &#123;</span><br><span class="line">      r.<span class="title function_">push</span>(sub)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><h3 id="电话号码的组合（-公式运算）"><a href="#电话号码的组合（-公式运算）" class="headerlink" title="电话号码的组合（ 公式运算）"></a>电话号码的组合（ 公式运算）</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ZgpTON.png" alt="Leetcode-String-03"></p>
<p>思路：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20200507-154337@2x.jpg" alt="WX20200507-154337@2x"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 对输入做处理，如果小于1返回空（LeetCode测试用例）</span></span><br><span class="line">  <span class="keyword">if</span> (str.<span class="property">length</span> &lt; <span class="number">1</span>) <span class="keyword">return</span> []</span><br><span class="line">  <span class="comment">// 建立电话号码键盘映射</span></span><br><span class="line">  <span class="keyword">let</span> map = [<span class="string">&#x27;&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;ghi&#x27;</span>, <span class="string">&#x27;jkl&#x27;</span>, <span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;pqrs&#x27;</span>, <span class="string">&#x27;tuv&#x27;</span>, <span class="string">&#x27;wxyz&#x27;</span>]</span><br><span class="line">  <span class="comment">// 如果只给了一个按键，直接把按键内容取出来并按单个字符分组就可以了（LeetCode测试用例）</span></span><br><span class="line">  <span class="keyword">if</span> (str.<span class="property">length</span> &lt; <span class="number">2</span>) <span class="keyword">return</span> map[str].<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">// 把输入字符串按单字符分隔变成数组，234=&gt;[2,3,4]</span></span><br><span class="line">  <span class="keyword">let</span> num = str.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">// 保存键盘映射后的字母内容，如 23=&gt;[&#x27;abc&#x27;,&#x27;def&#x27;]</span></span><br><span class="line">  <span class="keyword">let</span> code = []</span><br><span class="line">  num.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (map[item]) &#123;</span><br><span class="line">      code.<span class="title function_">push</span>(map[item])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">comb</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 临时变量用来保存前两个组合的结果</span></span><br><span class="line">    <span class="keyword">let</span> tmp = []</span><br><span class="line">    <span class="comment">// 最外层的循环是遍历第一个元素，里层的循环是遍历第二个元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, il = arr[<span class="number">0</span>].<span class="property">length</span>; i &lt; il; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, jl = arr[<span class="number">1</span>].<span class="property">length</span>; j &lt; jl; j++) &#123;</span><br><span class="line">        tmp.<span class="title function_">push</span>(<span class="string">`<span class="subst">$&#123;arr[<span class="number">0</span>][i]&#125;</span><span class="subst">$&#123;arr[<span class="number">1</span>][j]&#125;</span>`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    arr.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">2</span>, tmp)</span><br><span class="line">    <span class="keyword">if</span> (arr.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="title function_">comb</span>(arr)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> tmp</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">comb</span>(code)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="卡牌分组（归类运算）"><a href="#卡牌分组（归类运算）" class="headerlink" title="卡牌分组（归类运算）"></a>卡牌分组（归类运算）</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ZQwFf9.png" alt="ZQwFf9"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (arr) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 存储每张卡牌的总数</span></span><br><span class="line">  <span class="comment">// 修改排序的方式修改为直接统计每个相同字符的数量，思路不变（LeetCode测试用例）</span></span><br><span class="line">  <span class="keyword">let</span> group = []</span><br><span class="line">  <span class="keyword">let</span> tmp = &#123;&#125;</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    tmp[item] = tmp[item] ? tmp[item] + <span class="number">1</span> : <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">values</span>(tmp)) &#123;</span><br><span class="line">    group.<span class="title function_">push</span>(v)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 此时group已经存放的是每张牌的总数了（数组只遍历一遍，避免了排序和正则的耗时）</span></span><br><span class="line">  <span class="comment">// 求两个数的最大公约数</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">gcd</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (b === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> a</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">gcd</span>(b, a % b)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (group.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = group.<span class="title function_">shift</span>()</span><br><span class="line">    <span class="keyword">let</span> b = group.<span class="title function_">shift</span>()</span><br><span class="line">    <span class="keyword">let</span> v = <span class="title function_">gcd</span>(a, b)</span><br><span class="line">    <span class="keyword">if</span> (v === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      group.<span class="title function_">unshift</span>(v)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> group.<span class="property">length</span> ? group[<span class="number">0</span>] &gt; <span class="number">1</span> : <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>let max = Number.MAX_SAFE_INTEGER // 当前浏览器环境下支持的最大整数</li>
<li>dist.push([].concat(tmp)) //tmp数组为引用类型，可以用空数组concat来创建新的内存空间</li>
<li>清空数组最好用tmp.length = 0 而不是 tmp = []</li>
<li>dist.every() &amp;&amp; dist.forEach() 区别在于every()可以break 找到一个不符合就跳出循环，否则将继续执行</li>
</ol>
</blockquote>
<h3 id="种花问题（筛选运算）"><a href="#种花问题（筛选运算）" class="headerlink" title="种花问题（筛选运算）"></a>种花问题（筛选运算）</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/rUZjrg.png" alt="rUZjrg"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (arr, n) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 计数器</span></span><br><span class="line">  <span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">  <span class="comment">// 右边界补充[0,0,0],最后一块地能不能种只取决于前面的是不是1，所以默认最后一块地的右侧是0（无须考虑右侧边界有阻碍）（LeetCode测试用例）</span></span><br><span class="line">  arr.<span class="title function_">push</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span> - <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === <span class="number">0</span> &amp;&amp; arr[<span class="number">1</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">        max++</span><br><span class="line">        i++</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i - <span class="number">1</span>] === <span class="number">0</span> &amp;&amp; arr[i + <span class="number">1</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">        max++</span><br><span class="line">        i++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> max &gt;= n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/bUAuHr.png" alt="bUAuHr"></p>
<blockquote>
<p>抽象问题、数学建模、动态输入</p>
</blockquote>
<h3 id="格雷编码（二进制运算）"><a href="#格雷编码（二进制运算）" class="headerlink" title="格雷编码（二进制运算）"></a>格雷编码（二进制运算）</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/eo6qgq.png" alt="eo6qgq"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">​<span class="string">``</span><span class="string">`javascript</span></span><br><span class="line"><span class="string">export default (n) =&gt; &#123;</span></span><br><span class="line"><span class="string">  // 递归函数，用来算输入为n的格雷编码序列</span></span><br><span class="line"><span class="string">  let make = (n) =&gt; &#123;</span></span><br><span class="line"><span class="string">    if (n === 1) &#123;</span></span><br><span class="line"><span class="string">      return [&#x27;0&#x27;, &#x27;1&#x27;]</span></span><br><span class="line"><span class="string">    &#125; else &#123;</span></span><br><span class="line"><span class="string">      let prev = make(n - 1)</span></span><br><span class="line"><span class="string">      let result = []</span></span><br><span class="line"><span class="string">      let max = Math.pow(2, n) - 1</span></span><br><span class="line"><span class="string">      for (let i = 0, len = prev.length; i &lt; len; i++) &#123;</span></span><br><span class="line"><span class="string">        result[i] = `</span><span class="number">0</span>$&#123;prev[i]&#125;<span class="string">`</span></span><br><span class="line"><span class="string">        result[max - i] = `</span><span class="number">1</span>$&#123;prev[i]&#125;<span class="string">`</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      return result</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  return make(n)</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">​`</span><span class="string">``</span></span><br></pre></td></tr></table></figure>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><table>
<thead>
<tr>
<th align="center">排序算法</th>
<th align="center">时间复杂度</th>
<th align="center">最好情形</th>
<th align="center">最坏情形</th>
<th align="center">空间复杂度</th>
<th align="center">稳定性</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="center">冒泡排序</td>
<td align="center">O(n^2)</td>
<td align="center">O(n)</td>
<td align="center">O(n^2)</td>
<td align="center">O(1)</td>
<td align="center">稳定</td>
<td align="center">n小时较好</td>
</tr>
<tr>
<td align="center">快速排序</td>
<td align="center">O(nlogn)</td>
<td align="center">O(nlogn)</td>
<td align="center">O(n^2)</td>
<td align="center">O(nlogn)</td>
<td align="center">不稳定</td>
<td align="center">n大时较好</td>
</tr>
<tr>
<td align="center">选择排序</td>
<td align="center">O(n^2)</td>
<td align="center">O(n)</td>
<td align="center">O(n^2)</td>
<td align="center">O(1)</td>
<td align="center">不稳定</td>
<td align="center">n小时较好</td>
</tr>
<tr>
<td align="center">堆排序</td>
<td align="center">O(nlogn)</td>
<td align="center">O(nlogn)</td>
<td align="center">O(nlogn)</td>
<td align="center">O(1)</td>
<td align="center">不稳定</td>
<td align="center">n大时较好</td>
</tr>
<tr>
<td align="center">插入排序</td>
<td align="center">O(n^2)</td>
<td align="center">O(n)</td>
<td align="center">O(n^2)</td>
<td align="center">O(1)</td>
<td align="center">稳定</td>
<td align="center">大部分已排序时较好</td>
</tr>
<tr>
<td align="center">希尔排序</td>
<td align="center">O(nlogn)</td>
<td align="center">O(n)</td>
<td align="center">O(ns) 1&lt;s&lt;2</td>
<td align="center">O(1)</td>
<td align="center">不稳定</td>
<td align="center">s是所选分组</td>
</tr>
<tr>
<td align="center">归并排序</td>
<td align="center">O(nlogn)</td>
<td align="center">O(nlogn)</td>
<td align="center">O(nlogn)</td>
<td align="center">O(n)</td>
<td align="center">稳定</td>
<td align="center">n大时较好</td>
</tr>
<tr>
<td align="center">基数排序</td>
<td align="center">O(logRB)</td>
<td align="center">O(logRB)</td>
<td align="center">O(logRB)</td>
<td align="center">O(n)</td>
<td align="center">稳定</td>
<td align="center">B是真数(0-9)，R是基数(个十百)</td>
</tr>
</tbody></table>
<blockquote>
<p>稳定的含义是：稳定的排序算法会让原本相等的元素维持相对次序.</p>
</blockquote>
<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p><strong>冒泡排序就是从最开始的位置或结尾的位置反方向对比，如果比它大/小,就交换然后继续走，第一遍走完,最后一个位置是最大值或者最小值。（将最大值/最小值一步一步不断地冒泡到最后一个位置）</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (arr) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 冒泡排序</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = arr.<span class="property">length</span> - <span class="number">1</span>, tmp; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">      tmp = arr[j]</span><br><span class="line">      <span class="keyword">if</span> (tmp &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        arr[j] = arr[j + <span class="number">1</span>]</span><br><span class="line">        arr[j + <span class="number">1</span>] = tmp</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p><strong>快排就是一开始找个中介，然后把比它小的放左边，比它大的放右边，然后重新对中介两边的数据各自重新找个中介,如此循环。</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 快速排序</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.<span class="property">length</span> &lt;= <span class="number">1</span>) <span class="keyword">return</span> arr</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;原数组是:&quot;</span> + arr);</span><br><span class="line">  <span class="keyword">let</span> pivotIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(arr.<span class="property">length</span> / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">let</span> pivot = arr.<span class="title function_">splice</span>(pivotIndex, <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">let</span> left = [];</span><br><span class="line">  <span class="keyword">let</span> right = [];</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;将中介提取出来后数组是:&quot;</span> + arr);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;此刻中介是:&quot;</span> + pivot + <span class="string">&quot;当前元素是:&quot;</span> + arr[i]);</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">      left.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;移动&quot;</span> + arr[i] + <span class="string">&quot;到左边&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;移动&quot;</span> + arr[i] + <span class="string">&quot;到右边&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot], <span class="title function_">quickSort</span>(right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p><strong>找到数组中最小的那个元素，将它和数组的第一个元素交换位置，如果第一个元素就是最小的那么就和自己交换，然后，在剩下的数组中找到最小的元素，将它和数组的第二个元素交换，循环直到排序完成。</strong></p>
<p><em>内循环只比较大小，交换代码在内循环之外。每次交换都排定一个元素，交换的总次数为N</em></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (arr) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 选择排序</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>, min; i &lt; len; i++) &#123;</span><br><span class="line">    min = arr[i]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &lt; min) &#123;</span><br><span class="line">        <span class="keyword">let</span> c = min</span><br><span class="line">        min = arr[j]</span><br><span class="line">        arr[j] = c</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    arr[i] = min</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p><strong>插入排序它将数组分成“已排序”和“未排序”两部分，一开始的时候，“已排序”的部分只有一个元素，然后将它后面一个元素从“未排序”部分插入“已排序”部分，从而“已排序”部分增加一个元素，“未排序”部分减少一个元素。以此类推，完成全部排序。</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">insertSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">    <span class="keyword">let</span> j = i;</span><br><span class="line">    <span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="keyword">if</span> (temp &gt;= arr[j - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 当前考察的数大于前一个数，证明有序，退出循环</span></span><br><span class="line">      &#125;</span><br><span class="line">      arr[j] = arr[j - <span class="number">1</span>]; <span class="comment">// 将前一个数复制到后一个数上</span></span><br><span class="line">    &#125;</span><br><span class="line">    arr[j] = temp; <span class="comment">// 找到考察的数应处于的位置</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">insertSort</span>(arr));</span><br></pre></td></tr></table></figure>
<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><p><strong>归并算法的原理是将所有元素拆成相邻的一对一对的,然后两两排序,再将相邻的一对元素再合并排序,四个四个排序,如此循环最后只剩两组大的已经排好序的数组再合并一起排序。</strong></p>
<p>归并排序采用的是分治的思想，首先是“分”，将一个数组反复二分为两个小数组，直到每个数组只有一个元素；其次是“治”，从最小数组开始，两两按大小顺序合并，直到并为原始数组大小，下面是图解：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E5%9B%BE%E8%A7%A3.png" alt="归并排序图解"></p>
<p>观察下“治”的过程，可以看出，“治”实际上是将已经有序的数组合并为更大的有序数组。那么怎样将已经有序的数组合并为更大的有序数组？很简单，创建一个临时数组C，比较A[0]，B[0]，将较小值放到C[0]，再比较A[1]与B[0]（或者A[0]，B[1]），将较小值放到C[1]，直到对A，B都遍历一遍。可以看出数组A，B都只需遍历一遍，所以对两个有序数组的排序的时间复杂度为O(n)。</p>
<p>而“分”就是将原始数组逐次二分，直到每个数组只剩一个元素，一个元素的数组自然是有序的，所以就可以开始“治”的过程了。</p>
<p>时间复杂度分析：分的过程需要三步：log8 = 3，而每一步都需要遍历一次8个元素，所以8个元素共需要运行 8log8)次指令，那么对于 n 个元素，时间复杂度为 O(nlogn)。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 融合两个有序数组，这里实际上是将数组 arr 分为两个数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeArray</span>(<span class="params">arr, first, mid, last, temp</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> i = first;</span><br><span class="line">  <span class="keyword">let</span> m = mid;</span><br><span class="line">  <span class="keyword">let</span> j = mid + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> n = last;</span><br><span class="line">  <span class="keyword">let</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= m &amp;&amp; j &lt;= n) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; arr[j]) &#123;</span><br><span class="line">      temp[k++] = arr[i++];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      temp[k++] = arr[j++];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= m) &#123;</span><br><span class="line">    temp[k++] = arr[i++];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (j &lt;= n) &#123;</span><br><span class="line">    temp[k++] = arr[j++];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> l = <span class="number">0</span>; l &lt; k; l++) &#123;</span><br><span class="line">    arr[first + l] = temp[l];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 递归实现归并排序</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr, first, last, temp</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (first &lt; last) &#123;</span><br><span class="line">    <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>((first + last) / <span class="number">2</span>);</span><br><span class="line">    <span class="title function_">mergeSort</span>(arr, first, mid, temp); <span class="comment">// 左子数组有序</span></span><br><span class="line">    <span class="title function_">mergeSort</span>(arr, mid + <span class="number">1</span>, last, temp); <span class="comment">// 右子数组有序</span></span><br><span class="line">    arr = <span class="title function_">mergeArray</span>(arr, first, mid, last, temp);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">10</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> temp = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="title class_">SortedArr</span> = <span class="title function_">mergeSort</span>(arr, <span class="number">0</span>, arr.<span class="property">length</span> - <span class="number">1</span>, temp);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">SortedArr</span>);</span><br></pre></td></tr></table></figure>
<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><h3 id="复原IP地址"><a href="#复原IP地址" class="headerlink" title="复原IP地址"></a>复原IP地址</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/nRnSGv.png" alt="nRnSGv"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 保存所有符合条件的IP地址</span></span><br><span class="line">  <span class="keyword">let</span> r = []</span><br><span class="line">  <span class="comment">// 分四步递归处理ip分段</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">search</span> = (<span class="params">cur, sub</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 非法输入过滤，LeetCode测试用例(111111111111111111111111111111111111111111111111111111111111)</span></span><br><span class="line">    <span class="keyword">if</span> (sub.<span class="property">length</span> &gt; <span class="number">12</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 边界条件</span></span><br><span class="line">    <span class="keyword">if</span> (cur.<span class="property">length</span> === <span class="number">4</span> &amp;&amp; cur.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>) === str) &#123;</span><br><span class="line">      r.<span class="title function_">push</span>(cur.<span class="title function_">join</span>(<span class="string">&#x27;.&#x27;</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 正常的处理过程</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">3</span>, sub.<span class="property">length</span>), tmp; i &lt; len; i++) &#123;</span><br><span class="line">        tmp = sub.<span class="title function_">substr</span>(<span class="number">0</span>, i + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> (tmp - <span class="number">256</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="comment">// 转换下数据类型，如 01为1（LeetCode测试用例）</span></span><br><span class="line">          <span class="title function_">search</span>(cur.<span class="title function_">concat</span>([tmp * <span class="number">1</span>]), sub.<span class="title function_">substr</span>(i + <span class="number">1</span>))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">search</span>([], str)</span><br><span class="line">  <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="与所有单词相关联的字符串"><a href="#与所有单词相关联的字符串" class="headerlink" title="与所有单词相关联的字符串"></a>与所有单词相关联的字符串</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/DBbcNH.png" alt="DBbcNH"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// exp1.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str, words) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 保存结果</span></span><br><span class="line">  <span class="keyword">let</span> result = []</span><br><span class="line">  <span class="comment">// 记录数组的长度，做边界条件计算</span></span><br><span class="line">  <span class="keyword">let</span> num = words.<span class="property">length</span></span><br><span class="line">  <span class="comment">// 递归函数体</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">range</span> = (<span class="params">r, _arr</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (r.<span class="property">length</span> === num) &#123;</span><br><span class="line">      result.<span class="title function_">push</span>(r)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      _arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> tmp = [].<span class="title function_">concat</span>(_arr)</span><br><span class="line">        tmp.<span class="title function_">splice</span>(idx, <span class="number">1</span>)</span><br><span class="line">        <span class="title function_">range</span>(r.<span class="title function_">concat</span>(item), tmp)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">range</span>([], words)</span><br><span class="line">  <span class="comment">// [0, 9, -1] filter 之后[0,9]</span></span><br><span class="line">  <span class="keyword">return</span> result.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">indexOf</span>(item.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">  &#125;).<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item !== -<span class="number">1</span>).<span class="title function_">sort</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  exp1.js 的算法是根据利用组合思想解决这个问题的，这个思想简单易于学习。缺点是当数据量大的时候组合数太多导致效率变低。</span></span><br><span class="line"><span class="comment">  exp2.js 的算法是利用查找每个单词在字符串的位置，然后通过计算这些位置是不是连续的。</span></span><br><span class="line"><span class="comment">                比如 abforbarcd,[for,bar]，那么for的起始位置是2,bar的起始位置是5;说明这两个单词是连续的2+3(for的长度)=5</span></span><br><span class="line"><span class="comment">                for:[&#123;start:2,end:5&#125;]</span></span><br><span class="line"><span class="comment">                bar:[&#123;start:5,end:8&#125;]</span></span><br><span class="line"><span class="comment">                判断上一个单词的end和下一个单词的start是不是相同来计算两个单词是不是挨着</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (str, words) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 计算字符串的总长度</span></span><br><span class="line">  <span class="keyword">let</span> strLen = str.<span class="property">length</span></span><br><span class="line">  <span class="comment">// 计算所有的单词数量</span></span><br><span class="line">  <span class="keyword">let</span> wordsLen = words.<span class="property">length</span></span><br><span class="line">  <span class="comment">// 计算所有单词出现的起始位置和截止位置</span></span><br><span class="line">  <span class="keyword">let</span> pos = &#123;&#125;</span><br><span class="line">  <span class="comment">// 如果字符串的长度小于所有单词的总长度直接返回</span></span><br><span class="line">  <span class="keyword">if</span> (strLen &lt; words.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>).<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> []</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 遍历所有单词查找在字符串中的起始位置和截止位置</span></span><br><span class="line">  words.<span class="title function_">every</span>(<span class="function"><span class="params">word</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (pos[word]) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> wl = word.<span class="property">length</span></span><br><span class="line">    <span class="keyword">let</span> tmp = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = strLen - wl, idx; i &lt;= len; i++) &#123;</span><br><span class="line">      idx = str.<span class="title function_">slice</span>(i).<span class="title function_">indexOf</span>(word)</span><br><span class="line">      <span class="keyword">if</span> (idx &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (idx === <span class="number">0</span>) &#123;</span><br><span class="line">          tmp.<span class="title function_">push</span>(&#123;</span><br><span class="line">            <span class="attr">start</span>: i,</span><br><span class="line">            <span class="attr">end</span>: i + wl</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (str[i + <span class="number">1</span>] !== word[<span class="number">0</span>]) &#123;</span><br><span class="line">          i += idx - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果没有匹配到单词终止遍历</span></span><br><span class="line">    <span class="keyword">if</span> (tmp[<span class="number">0</span>] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 保存当前单词的位置，遍历下一个单词</span></span><br><span class="line">      pos[word] = tmp.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.<span class="property">start</span> - b.<span class="property">start</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// 只要有一个单词没找到说明不能匹配到连续的字符串</span></span><br><span class="line">  <span class="keyword">if</span> (words.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> !pos[item])) &#123;</span><br><span class="line">    <span class="keyword">return</span> []</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> result = []</span><br><span class="line">  <span class="comment">// 计算所有单词的位置</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">match</span> = (<span class="params">poses</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 记录是不是所有单词都被匹配到了，每一次都应该把所有单词都包括进来并且是相邻的</span></span><br><span class="line">    <span class="keyword">let</span> record = []</span><br><span class="line">    <span class="keyword">let</span> len = <span class="title class_">Object</span>.<span class="title function_">keys</span>(poses).<span class="property">length</span></span><br><span class="line">    <span class="comment">// 如果没有单词的位置说明处理结束了</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="comment">// 每次循环应该把记录清空</span></span><br><span class="line">      record.<span class="property">length</span> = <span class="number">0</span></span><br><span class="line">      <span class="comment">// 按照起始位置进行升序排序</span></span><br><span class="line">      <span class="keyword">let</span> minV = <span class="title class_">Number</span>.<span class="property">MAX_SAFE_INTEGER</span></span><br><span class="line">      <span class="keyword">let</span> minK = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="comment">// 优先找到所有单词其实位置最小的单词开始匹配</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(poses)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!v.<span class="property">length</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (v[<span class="number">0</span>].<span class="property">start</span> &lt; minV) &#123;</span><br><span class="line">            minK = k</span><br><span class="line">            minV = v[<span class="number">0</span>].<span class="property">start</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (!minK) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 起始位置最小的单词</span></span><br><span class="line">      <span class="keyword">let</span> first = poses[minK].<span class="title function_">shift</span>()</span><br><span class="line">      <span class="keyword">if</span> (!first) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 记录下这个起始位置</span></span><br><span class="line">      <span class="keyword">let</span> start = first.<span class="property">start</span></span><br><span class="line">      <span class="comment">// 记录words列表中的单词</span></span><br><span class="line">      record.<span class="title function_">push</span>(words.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span> =&gt;</span> item === minK))</span><br><span class="line">      <span class="comment">// 每次循环要匹配到所有单词</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; wordsLen; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, next; j &lt; wordsLen; j++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (record.<span class="title function_">includes</span>(j)) &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (poses[words[j]][<span class="number">0</span>] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">          next = poses[words[j]].<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">start</span> === first.<span class="property">end</span>)</span><br><span class="line">          <span class="keyword">if</span> (next) &#123;</span><br><span class="line">            record.<span class="title function_">push</span>(j)</span><br><span class="line">            first = next</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 如果所有单词的顺序是挨着的，记录下当前的起始位置</span></span><br><span class="line">      <span class="keyword">if</span> (record.<span class="property">length</span> === wordsLen &amp;&amp; !record.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item === <span class="literal">undefined</span>)) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(start)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">match</span>(pos)</span><br><span class="line">  <span class="comment">// 对 result 去重，如 result=[1,1,2,3] [...new Set(result)]===[1,2,3]</span></span><br><span class="line">  <span class="keyword">return</span> [...<span class="keyword">new</span> <span class="title class_">Set</span>(result)]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><h1 id="进阶算法"><a href="#进阶算法" class="headerlink" title="进阶算法"></a>进阶算法</h1><h2 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h2><p>​     所谓贪心算法是指，在对<em>问题求解</em>时，总是<strong>做出在当前看来是最好的选择</strong>。也就是说，不从整体最优上加以考虑，它所做出的仅仅是在某种意义上的<strong>局部<em>最优解</em></strong>。<br>     贪心算法没有固定的算法框架，算法设计的关键是<u>贪心策略的选择</u>。必须注意的是，贪心算法不是对所有问题都能得到整体最优解，选择的<u>贪心策略必须具备无后效性</u>（即某个状态以后的过程不会影响以前的状态，只与当前状态有关。）<br> <strong>所以，对所采用的贪心策略一定要仔细分析其是否满足无后效性。</strong></p>
<h3 id="买卖股票的最佳时机-II"><a href="#买卖股票的最佳时机-II" class="headerlink" title="买卖股票的最佳时机 II"></a>买卖股票的最佳时机 II</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/XX5AW6.png" alt="XX5AW6"></p>
<blockquote>
<ul>
<li>策略1：从最低点买入，在最高点卖出（追求单次利益）</li>
<li>策略2：从低点买入，只要可以赚钱就卖出，不断买卖（追求多次利益，但单次利益不够）</li>
<li>策略3：从低点买入，到下一个价格的高点卖出，不断买卖（在保证单次利益的基础上，实现多次交易）</li>
</ul>
</blockquote>
 <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (prices) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 用来保存利润</span></span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; len - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (prices[j + <span class="number">1</span>] &gt; prices[j]) &#123;</span><br><span class="line">        count += prices[j + <span class="number">1</span>] - prices[j]</span><br><span class="line">        i = j</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        i = j</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> count</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="柠檬水找零"><a href="#柠檬水找零" class="headerlink" title="柠檬水找零"></a>柠檬水找零</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/wFgyqm.png" alt="wFgyqm"></p>
<blockquote>
<ul>
<li>策略1：给钱找零，不区分金额知道找到足够的零钱（追求单词找零）</li>
<li>策略2：给钱找零，优先找给金额大的零钱，尽量把零钱放在手里</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (input) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 表示自己的钱箱（用于存储零钱）</span></span><br><span class="line">  <span class="keyword">let</span> hand = []</span><br><span class="line">  <span class="comment">// 判断是否有顾客还在</span></span><br><span class="line">  <span class="keyword">while</span> (input.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="comment">// 取出当前排在最前面顾客的钱</span></span><br><span class="line">    <span class="keyword">let</span> money = input.<span class="title function_">shift</span>()</span><br><span class="line">    <span class="comment">// 这种情况不需要找零</span></span><br><span class="line">    <span class="keyword">if</span> (money === <span class="number">5</span>) &#123;</span><br><span class="line">      hand.<span class="title function_">push</span>(money)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 手里的零钱要降序排列也就说最大的面值的钱放在最前面</span></span><br><span class="line">      hand.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a)</span><br><span class="line">      <span class="comment">// 顾客的钱减去饮料的钱就是需要找给顾客的零钱</span></span><br><span class="line">      <span class="keyword">let</span> change = money - <span class="number">5</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = hand.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hand[i] &lt;= change) &#123;</span><br><span class="line">          change -= hand[i]</span><br><span class="line">          hand.<span class="title function_">splice</span>(i, <span class="number">1</span>)</span><br><span class="line">          <span class="comment">// 删除了元素，数组的长度发生了变化，要维持刚才的i不变</span></span><br><span class="line">          i--</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (change === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 没有足够的零钱找给顾客</span></span><br><span class="line">      <span class="keyword">if</span> (change !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 顾客的钱存起来</span></span><br><span class="line">        hand.<span class="title function_">push</span>(money)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><blockquote>
<p>​    <a href="https://zhuanlan.zhihu.com/p/31628866">动态规划</a>包括三个重要概念：<strong>状态转移方程、最优子结构、边界</strong></p>
</blockquote>
<h3 id="不同路径-II"><a href="#不同路径-II" class="headerlink" title="不同路径 II"></a>不同路径 II</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Dh9vG4.png" alt="Dh9vG4"></p>
<p>​    解析：由于最后一步肯定是在终点的上面或者是左边，所以由此可推断出状态转移方程：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/9LvIEB.png" alt="9LvIEB"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (arr, m, n) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">dp</span> = (<span class="params">m, n</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 检查起始或者目标元素是不是1（被占用了），如果起始或者最后那个格就是1，说明怎么都怎么不到那，直接返回0</span></span><br><span class="line">    <span class="keyword">if</span> (arr[m - <span class="number">1</span>][n - <span class="number">1</span>] === <span class="number">1</span> || arr[<span class="number">0</span>][<span class="number">0</span>] === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (m === <span class="number">2</span> &amp;&amp; n === <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (arr[<span class="number">1</span>][<span class="number">1</span>] === <span class="number">1</span> || arr[<span class="number">1</span>][<span class="number">0</span>] + arr[<span class="number">0</span>][<span class="number">1</span>] === <span class="number">2</span>) ? <span class="number">0</span> : (arr[<span class="number">1</span>][<span class="number">0</span>] === <span class="number">1</span> || arr[<span class="number">0</span>][<span class="number">1</span>] === <span class="number">1</span>) ? <span class="number">1</span> : <span class="number">2</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (m &lt; <span class="number">2</span> || n &lt; <span class="number">2</span>) &#123; <span class="comment">// 单行或者单列</span></span><br><span class="line">      <span class="keyword">if</span> (m &lt; <span class="number">2</span>) &#123; <span class="comment">//单行</span></span><br><span class="line">        <span class="keyword">return</span> arr[m - <span class="number">1</span>].<span class="title function_">includes</span>(<span class="number">1</span>) ? <span class="number">0</span> : <span class="number">1</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; <span class="comment">// 单列</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (arr[i][<span class="number">0</span>] === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">dp</span>(m - <span class="number">1</span>, n) + <span class="title function_">dp</span>(m, n - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">dp</span>(m, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="K站中转内最便宜的航班（最短路径）"><a href="#K站中转内最便宜的航班（最短路径）" class="headerlink" title="K站中转内最便宜的航班（最短路径）"></a>K站中转内最便宜的航班（最短路径）</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Hy5aCS.png" alt="Hy5aCS"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/BpEjvX.png" alt="BpEjvX"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (fights, src, dst, k) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 将fights作为参数和LeetCode一致</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">cheap</span> = (<span class="params">fights, src, dst, k</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> prev = fights.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item[<span class="number">1</span>] === dst)</span><br><span class="line">    <span class="keyword">let</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, prev.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item[<span class="number">0</span>] === src &amp;&amp; k &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> item[<span class="number">2</span>]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (k === <span class="number">0</span> &amp;&amp; item[<span class="number">0</span>] !== src) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Number</span>.<span class="property">MAX_SAFE_INTEGER</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> item[<span class="number">2</span>] + <span class="title function_">cheap</span>(fights, src, item[<span class="number">0</span>], k - <span class="number">1</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;))</span><br><span class="line">    <span class="keyword">return</span> min</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 增加返回值是不是Number.MAX_SAFE_INTEGER，如果是返回-1</span></span><br><span class="line">  <span class="keyword">let</span> min = <span class="title function_">cheap</span>(fights, src, dst, k)</span><br><span class="line">  <span class="keyword">return</span> min &gt;= <span class="title class_">Number</span>.<span class="property">MAX_SAFE_INTEGER</span> ? -<span class="number">1</span> : min</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>算法</tag>
        <tag>coding</tag>
        <tag>leetcode</tag>
        <tag>数据结构</tag>
      </tags>
  </entry>
  <entry>
    <title>Git命令详解</title>
    <url>/2019/03/21/Git%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>尽管 <code>Git</code>是一款非常强大的工具。我发现在使用<code>Git</code>时，在头脑里可视化地想象它会非常有用：当我执行一个特定命令时，这些分支会如何交互，又会怎样影响历史记录？为什么当我在<code>master</code> 上执行硬重启，<code>force push</code>到原分支以及 <code>rm -rf</code>我们的<code>.git</code>文件夹时，我的同事却哭了？</p>
<p>下面我将介绍的很多命令都有可选参数——你可以使用这些参数来改变对应命令的行为。而我的示例只会涵盖命令的默认行为，而不会添加（或添加太多）可选配置！</p>
<h2 id="合并-Merge"><a href="#合并-Merge" class="headerlink" title="合并 Merge"></a>合并 Merge</h2><p>拥有多个分支是很方便的，以使新变更彼此分离，并确保您不会意外将未经批准或破损的变更推到生产中。但一旦这些修改得到了批准许可，我们就可以将其部署到我们的生产分支中了！</p>
<p>将更改从一个分支转移到另一个分支的一种方法是执行 <code>git merge</code>!<code>Git</code> 可以执行两种类型的合并：<code>fast-forward</code> 和<code>no-fast-forward</code>🐢</p>
<p>现在这可能没有多大意义，所以让我们看一下差异！</p>
<h2 id="Fast-forward（–ff）"><a href="#Fast-forward（–ff）" class="headerlink" title="Fast-forward（–ff）"></a>Fast-forward（–ff）</h2><p>在当前分支相比于我们要合并的分支没有额外的提交（<code>commit</code>）时，可以执行 <code>fast-forward</code>合并。</p>
<p><code>Git</code>很懒，首先会尝试执行最简单的选项：<code>fast-forward</code>！这类合并不会创建新的提交，而是会将我们正在合并的分支上的提交直接合并到当前分支。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--cT4TSe48--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/894znjv4oo9agqiz4dql.gif" alt=""></p>
<p>完美！现在，我们可以在分支上获得对<code>master</code>分支所做的所有更改。</p>
<p>那么 <code>no-fast-forward</code>又是什么意思呢？</p>
<h2 id="No-fast-foward-（–no-ff）"><a href="#No-fast-foward-（–no-ff）" class="headerlink" title="No-fast-foward （–no-ff）"></a>No-fast-foward （–no-ff）</h2><p>如果你的当前分支相比于你想要合并的分支没有任何提交，那当然很好，但很遗憾现实情况很少如此！如果我们在当前分支上提交我们想要合并的分支不具备的改变，那么 <code>git</code>将会执行<code>no-fast-forward</code>合并。</p>
<p>使用 <code>no-fast-forward</code> 合并时，<code>Git</code> 会在当前活动分支上创建新的 <code>merging commit</code>。</p>
<p>这个提交的父提交<code>（parent commit）</code>即指向这个活动分支，也指向我们想要合并的分支！</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--zRZ0x2Vc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/rf1o2b6eduboqwkigg3w.gif" alt=""></p>
<p>没什么大不了的，完美的合并！</p>
<p>现在，我们在 dev 分支上所做的所有改变都合并到了 master 分支上。</p>
<h2 id="合并冲突-Merge-Conflicts"><a href="#合并冲突-Merge-Conflicts" class="headerlink" title="合并冲突 Merge Conflicts"></a>合并冲突 Merge Conflicts</h2><p>尽管 <code>Git</code> 能够很好地决定如何合并分支以及如何向文件添加修改，但它并不总是能完全自己做决定。</p>
<p>当我们想要合并的两个分支的同一文件中的同一行代码上有不同的修改，或者一个分支删除了一个文件而另一个分支修改了这个文件时，<code>Git</code>就不知道如何取舍了。</p>
<p>在这样的情况下，<code>Git</code>会询问你想要保留哪种选择？假设在这两个分支中，我们都编辑了<code>README.md</code>的第一行。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/NAOfSc.jpg" alt="NAOfSc"></p>
<p>如果我们想把 <code>dev</code> 合并到<code>master</code>，就会出现一个合并冲突：你想要标题是 Hello! 还是 Hey!？</p>
<p>当尝试合并这些分支时，<code>Git</code> 会向你展示冲突出现的位置。</p>
<p>我们可以手动移除我们不想保留的修改，保存这些修改，再次添加这个已修改的文件，然后提交这些修改。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--7lBksXwA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/bcd5ajtoc0g5dxzmpfbq.gif" alt=""></p>
<p>完成！尽管合并冲突往往很让人厌烦，但这是合理的：<code>Git</code>不应该瞎猜我们想要保留哪些修改。</p>
<h2 id="变基（Rebase）"><a href="#变基（Rebase）" class="headerlink" title="变基（Rebase）"></a>变基（Rebase）</h2><p>我们刚看到可通过执行<code>git merge</code> 将一个分支的修改应用到另一个分支。</p>
<p>另一种可将一个分支的修改融入到另一个分支的方式是执行 <code>git rebase</code>。</p>
<p><code>git rebase</code> 会将当前分支的提交复制到指定的分支之上。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--EIY4OOcE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/dwyukhq8yj2xliq4i50e.gif" alt=""></p>
<p>完美，现在我们在<code>dev</code> 分支上获取了<code>master</code>分支上的所有修改。</p>
<p>变基与合并 有一个重大的区别：<code>Git</code>不会尝试确定要保留或不保留哪些文件。我们执行<code>rebase</code> 的分支总是含有我们想要保留的最新近的修改！这样我们不会遇到任何合并冲突，而且可以保留一个<strong><em>漂亮的、线性</em></strong>的 <code>Git</code>历史记录。</p>
<p>上面这个例子展示了在 <code>master</code>分支上的变基。但是，在更大型的项目中，你通常不需要这样的操作。<code>git rebase</code>在为复制的提交创建新的 <code>hash</code>时会修改项目的历史记录。</p>
<p>如果你在开发一个 <code>feature</code>分支并且 <code>master</code>分支已经更新过，那么变基就很好用。你可以在你的分支上获取所有更新，这能防止未来出现合并冲突。</p>
<h2 id="交互式变基（Interactive-Rebase）"><a href="#交互式变基（Interactive-Rebase）" class="headerlink" title="交互式变基（Interactive Rebase）"></a>交互式变基（Interactive Rebase）</h2><p>在为提交执行变基之前，我们可以修改它们！我们可以使用<code>交互式变基</code>来完成这一任务。交互式变基在你当前开发的分支上以及想要修改某些提交时会很有用。</p>
<p>在我们正在 rebase 的提交上，我们可以执行以下 6 个动作：</p>
<ul>
<li><code>reword</code>：修改提交信息；</li>
<li><code>edit</code>：修改此提交；</li>
<li><code>squash</code>：将提交融合到前一个提交中；</li>
<li><code>fixup</code>：将提交融合到前一个提交中，不保留该提交的日志消息；</li>
<li><code>exec</code>：在每个提交上运行我们想要 <code>rebase</code> 的命令；</li>
<li><code>drop</code>：移除该提交。</li>
</ul>
<p>很棒！这样我们就能完全控制我们的提交了。如果你想要移除一个提交，只需 <code>drop</code> 即可。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--P6jr7igd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/msofpv7k6rcmpaaefscm.gif" alt=""></p>
<p>如果你想把多个提交融合到一起以便得到清晰的提交历史，那也没有问题！</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VSQt4g1V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/bc1r460xx1i0blu0lnnm.gif" alt=""></p>
<p>交互式变基能为你在 <code>rebase</code> 时提供大量控制，甚至可以控制当前的活动分支。</p>
<h2 id="重置（Reset）"><a href="#重置（Reset）" class="headerlink" title="重置（Reset）"></a>重置（Reset）</h2><p>当我们不想要之前提交的修改时，就会用到这个命令。也许这是一个 <code>WIP</code> 提交或者可能是引入了 bug 的提交，这时候就要执行 <code>git reset</code>。</p>
<p><code>git reset</code> 能让我们不再使用当前台面上的文件，让我们可以控制 <code>HEAD</code> 应该指向的位置。</p>
<h2 id="软重置"><a href="#软重置" class="headerlink" title="软重置"></a>软重置</h2><p>软重置会将 <code>HEAD</code> 移至指定的提交（或与<code>HEAD</code> 相比的提交的索引），而不会移除该提交之后加入的修改！</p>
<p>假设我们不想保留添加了一个 <code>style.css</code> 文件的提交 <code>9e78i</code>，而且我们也不想保留添加了一个 <code>index.js</code> 文件的提交 <code>035cc</code>。但是，我们确实又想要保留新添加的 <code>style.css</code> 和 <code>index.js</code> 文件！这是软重置的一个完美用例。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---GveiZe---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/je5240aqa5uw9d8j3ibb.gif" alt=""></p>
<p>输入 <code>git status</code> 后，你会看到我们仍然可以访问在之前的提交上做过的所有修改。这很好，这意味着我们可以修复这些文件的内容，之后再重新提交它们！</p>
<h2 id="还原（Revert）"><a href="#还原（Revert）" class="headerlink" title="还原（Revert）"></a>还原（Revert）</h2><p>另一种撤销修改的方法是执行 <code>git revert</code>。通过对特定的提交执行还原操作，我们会创建一个包含已还原修改的新提交。</p>
<p>假设 <code>ec5be</code> 添加了一个 <code>index.js</code> 文件。但之后我们发现其实我们再也不需要由这个提交引入的修改了。那就还原 <code>ec5be</code> 提交吧！</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GqjwnYkF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/hlh0kowt3hov1xhcku38.gif" alt=""></p>
<p>完美！提交 <code>9e78i</code> 还原了由提交 <code>ec5be</code> 引入的修改。在撤销特定的提交时，<code>git revert</code> 非常有用，同时也不会修改分支的历史。</p>
<h2 id="拣选（Cherry-pick）"><a href="#拣选（Cherry-pick）" class="headerlink" title="拣选（Cherry-pick）"></a>拣选（Cherry-pick）</h2><p>当一个特定分支包含我们的活动分支需要的某个提交时，我们对那个提交执行 <code>cherry-pick</code>！对一个提交执行 <code>cherry-pick</code> 时，我们会在活动分支上创建一个新的提交，其中包含由拣选出来的提交所引入的修改。</p>
<p>假设 <code>dev</code> 分支上的提交 <code>76d12</code> 为 <code>index.js</code> 文件添加了一项修改，而我们希望将其整合到 <code>master</code> 分支中。我们并不想要整个 <code>dev</code> 分支，而只需要这个提交！</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9vWP_K4S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/2dkjx4yeaal10xyvj29v.gif" alt=""></p>
<p>现在 <code>master</code> 分支包含 <code>76d12</code> 引入的修改了。</p>
<h2 id="取回（Fetch）"><a href="#取回（Fetch）" class="headerlink" title="取回（Fetch）"></a>取回（Fetch）</h2><p>如果你有一个远程 <code>Git</code> 分支，比如在 <code>GitHub</code> 上的分支，当远程分支上包含当前分支没有的提交时，可以使用取回。比如当合并了另一个分支或你的同事推送了一个快速修复时。</p>
<p>通过在这个远程分支上执行 <code>git fetch</code>，我们就可在本地获取这些修改。这不会以任何方式影响你的本地分支：<code>fetch</code> 只是单纯地下载新的数据而已。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--38PuARw2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/bulx1voegfji4vwgndh4.gif" alt=""></p>
<p>现在我们可以看到自上次推送以来的所有修改了。这些新数据也已经在本地了，我们可以决定用这些新数据做什么了。</p>
<h2 id="拉取（Pull）"><a href="#拉取（Pull）" class="headerlink" title="拉取（Pull）"></a>拉取（Pull）</h2><p>尽管 <code>git fetch</code> 可用于获取某个分支的远程信息，但我们也可以执行 <code>git pull</code>。<code>git pull</code> 实际上是两个命令合成了一个：<code>git fetch</code> 和 <code>git merge</code>。当我们从来源拉取修改时，我们首先是像 <code>git fetch</code> 那样取回所有数据，然后最新的修改会自动合并到本地分支中。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---X5AXldj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/zifpnl1h6a4tk4qdc9sy.gif" alt=""></p>
<p>很好，我们现在与远程分支完美同步了，并且也有了所有最新的修改！</p>
<h2 id="Reflog"><a href="#Reflog" class="headerlink" title="Reflog"></a>Reflog</h2><p>每个人都会犯错，但犯错其实没啥！有时候你可能感觉你把 <code>git repo</code> 完全搞坏了，让你想完全删了了事。</p>
<p><code>git reflog</code> 是一个非常有用的命令，可以展示已经执行过的所有动作的日志。包括合并、重置、还原，基本上包含你对你的分支所做的任何修改。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--MMUdOS0P--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/1aqek1py1knwl926ele7.gif" alt=""></p>
<p>如果你犯了错，你可以根据 <code>reflog</code> 提供的信息通过重置 <code>HEAD</code> 来轻松地重做！</p>
<p>假设我们实际上并不需要合并原有分支。当我们执行 <code>git reflog</code> 命令时，我们可以看到这个 <code>repo</code> 的状态在合并前位于 <code>HEAD@&#123;1&#125;</code>。那我们就执行一次 <code>git reset</code>，将 <code>HEAD</code> 重新指向在 <code>HEAD@&#123;1&#125;</code> 的位置。</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--A1UMM2AH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/9z9rhtbw7mrigp0miijz.gif" alt=""></p>
<p>我们可以看到最新的动作已被推送给 <code>reflog</code>。</p>
<p><code>Git</code>有很多有用强大的命令，我希望我能掌握所有！😊</p>
<blockquote>
<p>原文地址：<a href="https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1">https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1</a><br>原文作者：Lydia Hallie</p>
</blockquote>
<h2 id="⭐⭐⭐-Rebase-amp-amp-Merge"><a href="#⭐⭐⭐-Rebase-amp-amp-Merge" class="headerlink" title="⭐⭐⭐ Rebase &amp;&amp; Merge"></a>⭐⭐⭐ Rebase &amp;&amp; Merge</h2><h3 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h3><p><code>git rebase</code>用于把一个分支的修改合并到当前分支。</p>
<p>假设你现在基于远程分支<code>origin</code>，创建一个叫<code>mywork</code>的分支。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git checkout -b mywork origin</span><br></pre></td></tr></table></figure>
<p>假设远程分支<code>origin</code>已经有了2个提交，如图</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/M6Pxcs.jpg" alt="M6Pxcs"></p>
<p>现在我们在这个分支做一些修改，然后生成两个提交<code>commit</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ vi file.<span class="property">txt</span></span><br><span class="line"></span><br><span class="line">$ git commit</span><br><span class="line"></span><br><span class="line">$ vi otherfile.<span class="property">txt</span></span><br><span class="line"></span><br><span class="line">$ git commit</span><br><span class="line"></span><br><span class="line">。。。</span><br></pre></td></tr></table></figure>
<p>但是与此同时，有些人也在<code>origin</code>分支上做了一些修改并且做了提交了. 这就意味着<code>origin</code>和<code>mywork</code>这两个分支各自”前进”了，它们之间”分叉”了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/bnz0Zs.jpg" alt="bnz0Zs"></p>
<p>在这里，你可以用<code>pull</code>命令把<code>origin</code>分支上的修改拉下来并且和你的修改合并； 结果看起来就像一个新的”合并的提交”(<code>merge commit</code>):</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/YhPuf8.jpg" alt="YhPuf8"></p>
<p>但是，如果你想让<code>mywork</code>分支历史看起来像没有经过任何合并一样，你也许可以用 <code>git rebase</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git checkout mywork</span><br><span class="line"></span><br><span class="line">$ git rebase origin</span><br></pre></td></tr></table></figure>
<p>这些命令会把你的<code>mywork</code>分支里的每个提交(commit)取消掉，并且把它们临时 保存为补丁(<code>patch</code>)(这些补丁放到<code>.git/rebase</code>目录中),然后把<code>mywork</code>分支更新 为最新的<code>origin</code>分支，最后把保存的这些补丁应用到<code>mywork</code>分支上。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/6pupSf.jpg" alt="6pupSf"></p>
<p>当<code>mywork</code>分支更新之后，它会指向这些新创建的提交(<code>commit</code>),而那些老的提交会被丢弃。 如果运行垃圾收集命令(<code>pruning garbage collection</code>), 这些被丢弃的提交就会删除. （请查看 <code>git gc</code>)</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Yc5wcR.jpg" alt="Yc5wcR"></p>
<h3 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h3><p>​    在<code>rebase</code>的过程中，也许会出现冲突(<code>conflict</code>). 在这种情况，<code>Git</code>会停止<code>rebase</code>并会让你去解决 冲突；在解决完冲突后，用<code>git-add</code>命令去更新这些内容的索引(<code>index</code>), 然后，你无需执行 <code>git-commit</code>,只要执行:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git rebase --<span class="keyword">continue</span></span><br></pre></td></tr></table></figure>
<p>这样git会继续应用(<code>apply</code>)余下的补丁。</p>
<p>在任何时候，你可以用<code>--abort</code>参数来终止<code>rebase</code>的行动，并且<code>mywork</code> 分支会回到<code>rebase</code>开始前的状态。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git rebase --abort</span><br></pre></td></tr></table></figure>
<h3 id="git-rebase和git-merge的区别"><a href="#git-rebase和git-merge的区别" class="headerlink" title="git rebase和git merge的区别"></a>git rebase和git merge的区别</h3><p>​    现在我们可以看一下用合并(<code>merge</code>)和用变基(<code>rebase</code>)所产生的历史的区别：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/gDAp6Q.jpg" alt="gDAp6Q"></p>
<p>当我们使用<code>Git log</code>来参看<code>commit</code>时，其<code>commit</code>的顺序也有所不同。</p>
<p>假设<code>C3</code>提交于9:00AM,<code>C5</code>提交于10:00AM,<code>C4</code>提交于11:00AM，<code>C6</code>提交于12:00AM,</p>
<p>对于使用<code>git merge</code>来合并所看到的<code>commit</code>的顺序（从新到旧）是：C7 ,C6,C4,C5,C3,C2,C1</p>
<p>对于使用<code>git rebase</code>来合并所看到的<code>commit</code>的顺序（从新到旧）是：C7 ,C6‘,C5’,C4,C3,C2,C1</p>
<p> 因为<code>C6&#39;</code>提交只是<code>C6</code>提交的克隆，<code>C5&#39;</code>提交只是<code>C5</code>提交的克隆，</p>
<p>从用户的角度看使用<code>git rebase</code>来合并后所看到的<code>commit</code>的顺序（从新到旧）是：C7 ,C6,C5,C4,C3,C2,C1</p>
<p> 另外，我们在使用<code>git pull</code>命令的时候，可以使用-<code>-rebase</code>参数，即<code>git pull --rebase</code>,这里表示把你的本地当前分支里的每个提交(<code>commit</code>)取消掉，并且把它们临时 保存为补丁(<code>patch</code>)(这些补丁放到<code>.git/rebase</code>目录中),然后把本地当前分支更新 为最新的<code>origin</code>分支，最后把保存的这些补丁应用到本地当前分支上。关于<code>git pull</code>的更多内容请参考《<a href="http://blog.csdn.net/hudashi/article/details/7664449">git pull简介</a>》</p>
<h2 id="⭐⭐⭐-变基的风险"><a href="#⭐⭐⭐-变基的风险" class="headerlink" title="⭐⭐⭐ 变基的风险"></a>⭐⭐⭐ 变基的风险</h2><p>变基也并非完美无缺，要用它得遵守一条准则：</p>
<blockquote>
<p>一旦分支中的提交对象发布到公共仓库，就千万不要对该分支进行变基操作。</p>
</blockquote>
<p>如果你遵循这条金科玉律，就不会出差错。否则，就去向全国人民谢罪吧。</p>
<p><strong>在进行变基的时候，实际上抛弃了一些现存的提交对象而创造了一些类似但不同的新的提交对象。</strong>如果你把原来分支中的提交对象发布出去，并且其他人更新下载后在其基础上开展工作，而稍后你又用 <code>git rebase</code> 抛弃这些提交对象，把新的重演后的提交对象发布出去的话，你的合作者就不得不重新合并他们的工作，这样当你再次从他们那里获取内容时，提交历史就会变得一团糟。</p>
<p>下面我们用一个实际例子来说明为什么公开的变基会带来问题。假设你从一个中央服务器克隆然后在它的基础上搞了一些开发，提交历史类似下图 所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/4Zh4di.jpg" alt="4Zh4di"></p>
<p>现在，某人在 <code>C1</code> 的基础上做了些改变，并合并他自己的分支得到结果 <code>C6</code>，推送到中央服务器。当你抓取并合并这些数据到你本地的开发分支中后，会得到合并结果 <code>C7</code>，历史提交会变成这样：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/NfiYHa.jpg" alt="NfiYHa"></p>
<p>接下来，那个推送 <code>C6</code> 上来的人决定用变基取代之前的合并操作；继而又用 <code>git push --force</code> 覆盖了服务器上的历史，得到 <code>C4&#39;</code>。而之后当你再从服务器上下载最新提交后，会得到：</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/65xyHw.jpg" alt="65xyHw"></p>
<p>下载更新后需要合并，但此时变基产生的提交对象 <code>C4&#39;</code> 的 <code>SHA-1</code> 校验值和之前 <code>C4</code> 完全不同，所以 <code>Git</code> 会把它们当作新的提交对象处理，而实际上此刻你的提交历史 <code>C7</code> 中早已经包含了 <code>C4</code> 的修改内容，于是合并操作会把 <code>C7</code> 和 <code>C4&#39;</code> 合并为 <code>C8</code>:</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vadVBm.jpg" alt="vadVBm"></p>
<p><code>C8</code> 这一步的合并是迟早会发生的，因为只有这样你才能和其他协作者提交的内容保持同步。而在 <code>C8</code> 之后，你的提交历史里就会同时包含 <code>C4</code> 和 <code>C4&#39;</code>，两者有着不同的 <code>SHA-1</code> 校验值，如果用 <code>git log</code> 查看历史，会看到两个提交拥有相同的作者日期与说明，令人费解。而更糟的是，当你把这样的历史推送到服务器后，会再次把这些变基后的提交引入到中央服务器，进一步困扰其他人（译注：这个例子中，出问题的责任方是那个发布了 <code>C6</code> 后又用变基发布 <code>C4&#39;</code> 的人，其他人会因此反馈双重历史到共享主干，从而混淆大家的视听。）。</p>
<p>如果把变基当成一种在推送之前清理提交历史的手段，而且仅仅变基那些尚未公开的提交对象，就没问题。如果变基那些已经公开的提交对象，并且已经有人基于这些提交对象开展了后续开发工作的话，就会出现叫人沮丧的麻烦。</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>git</tag>
        <tag>rebase</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript正则表达学习</title>
    <url>/2017/05/24/Javascript%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="什么是正则表达式"><a href="#什么是正则表达式" class="headerlink" title="什么是正则表达式"></a>什么是正则表达式</h1><br>

<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions"><strong>正则表达式</strong>（Regular Expression，在代码中常简写为regex、regexp或RE）</a>使用单个字符串来描述、匹配一系列符合某个句法规则的字符串搜索模式，搜索模式可用于文本搜索和文本替换。</p>
<a id="more"></a>

<h1 id="正则表达式的语法"><a href="#正则表达式的语法" class="headerlink" title="正则表达式的语法"></a>正则表达式的语法</h1><br>

<blockquote>
<p>/主体/修饰符(可选)</p>
</blockquote>
<p>其中，第一个<strong>“/“</strong>是这个正则表达式的头部,<strong>主体</strong>是我们想要匹配的模式,第二个<strong>“/“</strong>是这个正则表达式的尾部，<strong>修饰符</strong>有三个：</p>
<ul>
<li><strong>i（intensity）</strong>：大小写不敏感；</li>
<li><strong>g（global）</strong>：全局查找，对于一些特定的函数，将迭代完整的字符串，获得所有的匹配结果，而不仅仅在得到第一个匹配后就停止进行；</li>
<li><strong>m（multiple）</strong>：检测字符串中的换行符，主要是影响字符串开始标识符^和结束标识符$的使用。</li>
</ul>
<h1 id="正则表达式的常用方法"><a href="#正则表达式的常用方法" class="headerlink" title="正则表达式的常用方法"></a>正则表达式的常用方法</h1><ul>
<li><strong>test( )</strong> : 在字符串中查找符合正则的内容，若查找到返回true,反之返回false。</br><strong>用法：正则.test(字符串)</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 测试是否是数字：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;374829348791&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/\D/</span>;      <span class="comment">//  \D代表非数字</span></span><br><span class="line"><span class="keyword">if</span>( re.<span class="title function_">test</span>(str) )&#123;   <span class="comment">// 返回true,代表在字符串中找到了非数字。</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;不全是数字&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;全是数字&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>search( )</strong>  ：在字符串搜索符合正则的内容，搜索到就返回出现的位置（从0开始，如果匹配的不只是一个字母，那只会返回第一个字母的位置）， 如果搜索失败就返回-1。</br><strong>用法：字符串.search(正则)</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在字符串中找字母b，且不区分大小写：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcdef&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/B/i</span>;</span><br><span class="line"><span class="comment">//var re = new RegExp(&#x27;B&#x27;,&#x27;i&#x27;); 也可以这样写</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">search</span>(re) ); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>match( )</strong> : 在字符串中搜索复合规则的内容，搜索成功就返回内容，格式为数组，失败就返回null。</br><strong>用法： 字符串.match(正则)</strong></br>量词：+ 至少出现一次 匹配不确定的次数（匹配就是搜索查找的意思）。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//找出指定格式的所有数字，如下找到 123，54，33，879</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;haj123sdk54hask33dkhalsd879&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/\d+/g</span>;   <span class="comment">// 每次匹配至少一个数字  且全局匹配  如果不是全局匹配，当找到数字123，它就会停止了。就只会弹出123.加上全局匹配，就会从开始到结束一直去搜索符合规则的。如果没有加号，匹配的结果就是1，2，3，5，4，3，3，8，7，9并不是我们想要的，有了加号，每次匹配的数字就是至少一个了。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">match</span>(re) );   <span class="comment">// [123，54，33，879]</span></span><br></pre></td></tr></table></figure>
<p>match方法也会返回自己的子项，如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 当match不加g的时候才可以获取到子项的集合:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(a)(b)(c)/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">match</span>(re) );  <span class="comment">//[abc,a,b,c](返回的是匹配结果,以及每个子项)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>replace()</strong> :查找符合正则的字符串，就替换成对应的字符串。返回替换后的内容。</br><strong>用法： 字符串.replace(正则,新的字符串/回调函数)（在回调函数中，第一个参数指的是每次匹配成功的字符）</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//敏感词过滤，比如 我爱北京天安门，天安门上太阳升。------我爱*****，****上太阳升。即北京和天安门变成*号。</span></span><br><span class="line"></span><br><span class="line">~~<span class="comment">//一开始我们可能会想到这样的方法：</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;我爱北京天安门，天安门上太阳升。&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/北京|天安门/g</span>;  <span class="comment">//  找到北京 或者天安门 全局匹配</span></span><br><span class="line"><span class="keyword">var</span> str2 = str.<span class="title function_">replace</span>(re,<span class="string">&#x27;*&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2)  <span class="comment">//我爱**，*上太阳升 </span></span><br><span class="line"><span class="comment">//这种只是把找到的变成了一个*，并不能几个字就对应几个*。~~</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//要想实现几个字对应几个*，我们可以用回调函数实现：</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;我爱北京天安门，天安门上太阳升。&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/北京|天安门/g</span>;  <span class="comment">//  找到北京 或者天安门 全局匹配</span></span><br><span class="line"><span class="keyword">var</span> str2 = str.<span class="title function_">replace</span>(re,<span class="keyword">function</span>(<span class="params">str</span>)&#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">//用来测试：函数的第一个参数代表每次搜索到的符合正则的字符，所以第一次str指的是北京 第二次str是天安门 第三次str是天安门</span></span><br><span class="line">            <span class="keyword">var</span> result = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;str.<span class="property">length</span>;i++)&#123;</span><br><span class="line">                result += <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">            &#125;              </span><br><span class="line">            <span class="keyword">return</span> result; <span class="comment">//所以搜索到了几个字就返回几个* </span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2)  <span class="comment">//我爱*****，***上太阳升         </span></span><br><span class="line"><span class="comment">//整个过程就是，找到北京，替换成了两个*，找到天安门替换成了3个*，找到天安门替换成3个*。</span></span><br></pre></td></tr></table></figure>
<h1 id="正则表达式中的字符"><a href="#正则表达式中的字符" class="headerlink" title="正则表达式中的字符"></a>正则表达式中的字符</h1><ul>
<li><strong>^ : 正则的最开始位置，就代表起始的意思。</strong>注意：/[ ^ a] / 和 / ^ [a]/ 是不一样的，前者是排除的意思，后者是代表首位。<br> eg:”^ The”–表示所有以”The”开始的字符串（”There”，”The cat”等）;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断是不是QQ号:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 首先想QQ号的规则：1.首位不能是0 ；2.必须是 5-12位的数字。</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;1445427773&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^[1-9]\d&#123;4,11&#125;$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( re.<span class="title function_">match</span>(str) );</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>$ : 正则的最后位置，就代表结束的意思。</strong><br>eg:”of despair$”–表示所以以”of despair”结尾的字符串;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 去掉前后空格（面试题经常出现）:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">trim</span>(<span class="params">str</span>)&#123;</span><br><span class="line">   <span class="keyword">var</span> re = <span class="regexp">/^\s+|\s+$/g</span>; <span class="comment">// |代表或者   \s代表空格  +至少一个    前面有至少一个空格 或者后面有至少一个空格 且全局匹配</span></span><br><span class="line">   <span class="keyword">return</span> str.<span class="title function_">replace</span>(re,<span class="string">&#x27;&#x27;</span>); <span class="comment">//把空格替换成空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;  hello  &#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;(&#x27;</span>+str+<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;(&#x27;</span>+<span class="title function_">trim</span>(str)+<span class="string">&#x27;)&#x27;</span> );	<span class="comment">//为了看出区别所以加的括号。</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>( ) : 小括号，叫做分组符。</strong>就相当于数学里面的括号。如下：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;2013-6-7&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re1 = <span class="regexp">/\d-+/g</span>;  <span class="comment">// 全局匹配数字，横杠，横杠数量至少为1，匹配结果为：  3- 6-</span></span><br><span class="line"><span class="keyword">var</span> re2 = <span class="regexp">/(\d-)+/g</span>;  <span class="comment">// 全局匹配数字，横杠，数字和横杠整体数量至少为1   3-6-</span></span><br><span class="line"><span class="keyword">var</span> re3  = <span class="regexp">/(\d+)(-)/g</span>;   <span class="comment">// 全局匹配至少一个数字，匹配一个横杠 匹配结果：2013- 6-</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(re1));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(re2));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(re3));</span><br></pre></td></tr></table></figure>
<p>同时，正则中的每一个带小括号的项，都叫做这个正则的子项。子项在某些时候非常的有用，比如下面这个例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 让2013-6-7 变成 2013.6.7：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;2013-6-7&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(\d+)(-)/g</span>;</span><br><span class="line"></span><br><span class="line">str = str.<span class="title function_">replace</span>(re,<span class="keyword">function</span>(<span class="params">$0,$1,$2</span>)&#123;</span><br><span class="line">    <span class="comment">// replace()中如果有子项，</span></span><br><span class="line">    <span class="comment">// 第一个参数：$0（匹配成功后的整体结果  2013-  6-）,</span></span><br><span class="line">    <span class="comment">// 第二个参数 : $1(匹配成功的第一个分组，这里指的是\d   2013, 6)</span></span><br><span class="line">    <span class="comment">// 第三个参数 : $1(匹配成功的第二个分组，这里指的是-    - - )   </span></span><br><span class="line">    <span class="keyword">return</span> $1 + <span class="string">&#x27;.&#x27;</span>;  <span class="comment">// 分别返回2013. 6.</span></span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str );   <span class="comment">// 整个过程就是利用子项把2013- 6- 分别替换成了2013. 6.  最终弹出2013.6.7</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>转义字符</strong>:<ol>
<li><strong>\s</strong> : 匹配一个空白字符，包括空格、制表符、换页符和换行符。</li>
<li><strong>\S</strong> : 匹配一个非空白字符。</li>
<li><strong>\d</strong> : 匹配一个数字。等价于<code>[0-9]</code>。</li>
<li><strong>\D</strong> : 匹配一个非数字字符。等价于<code>[^0-9]</code>。</li>
<li><strong>\w</strong> : 匹配一个单字字符（字母、数字或者下划线）。等价于 <code>[A-Za-z0-9_]</code>。</li>
<li><strong>\W</strong> : 匹配一个非单字字符。等价于 <code>[^A-Za-z0-9_]</code>。</li>
<li><strong>.</strong>（点）: 匹配除换行符之外的任何单个字符。</li>
<li><strong>\.</strong>  : 匹配真正的点</li>
<li><strong>\b</strong> : 独立的部分 （ 起始，结束，空格 ）</li>
<li><strong>\B</strong> : 非独立的部分</li>
</ol>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;onetwo&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> str2 =<span class="string">&quot;one two&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/one\b/</span>;  <span class="comment">// e后面必须是独立的 可以是起始，空格，或结束</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( re.<span class="title function_">test</span>(str1) );  <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( re.<span class="title function_">test</span>(str2) ); <span class="comment">// true  </span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>量词：代表出现的次数。</strong></p>
<ol>
<li><strong>{n,m}</strong> : 至少出现n次，最多m次;<br>“ab{3,5}”：表示一个字符串有一个a跟着3到5个b;<br>“ab{2,}”：表示一个字符串有一个a跟着至少2个b;</li>
<li><strong>{n,}</strong> : 至少n次;</li>
<li><strong>*</strong> : 任意次,相当于{0,};<br>“ab*”：表示一个字符串有一个a后面跟着零个或若干个b。（”a”, “ab”, “abbb”,……）；</li>
<li><strong>？</strong>：零次或一次,相当于{0,1};<br>“ab?”：表示一个字符串有一个a后面跟着零个或者一个b;</li>
<li><strong>+</strong> ：一次或任意次,相当于 {1,};<br>“ab+”：表示一个字符串有一个a后面跟着至少一个b或者更多;</li>
<li><strong>{n}</strong> ：正好n次;<br>“ab{2}”：表示一个字符串有一个a跟着2个b（”abb”).</li>
</ol>
</li>
<li><p><strong>[ ]： 表示某个集合中的任意一个。</strong>方括号表示某些字符允许在一个字符串中的某一特定位置出现。<br><br>“[ab]”：表示一个字符串有一个”a”或”b”（相当于”a¦b”);<br><br>“[a-d]”：表示一个字符串包含小写的’a’到’d’中的一个（相当于”a¦b¦c¦d”或者”[abcd]”);<br><br>“ ^ [a-zA-Z]”：表示一个以字母开头的字符串;<br><br>“[0-9]%”：表示一个百分号前有一位的数字;<br><br>“, [a-zA-Z0-9] $ “ ：表示一个字符串以一个逗号后面跟着一个字母或数字结束。<br>你也可以在方括号里用’ ^ ‘表示不希望出现的字符，’ ^ ‘应在方括号里的第一位。（如：”%[ ^ a-zA-Z]%”表示两个百分号中不应该出现字母)。<br><br>为了逐字表达，你必须在” ^ .$ ( ) ¦ * + ? { \ “这些字符前加上转移字符’ \ ‘。<br><br>请注意在方括号中，不需要转义字符。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 匹配HTML标签 比如&lt;div class=&quot;b&quot;&gt;hahahah &lt;/div&gt; 找出标签&lt;div class=&quot;b&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/&lt;[^&gt;]+&gt;/g</span>; <span class="comment">//匹配左括号 中间至少一个非右括号的内容(因为标签里面还有属性等一些东西)，然后匹配右括号</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/&lt;[\w\W]+&gt;/g</span>; <span class="comment">//匹配左括号 中间至少一个字符或者非字符的内容，然后匹配右括号</span></span><br><span class="line"><span class="comment">// 其实就是找到左括号，然后中间可以有至少一个内容，一直到找到右括号就代表是一个标签。</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>\a ：表示重复的某个子项。</strong>比如：<br><br> \1 : 重复的第一个子项;<br><br> \2 : 重复的第二个子项;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/ (a) (b) (c) \<span class="number">1</span>/   <span class="comment">// 匹配 abca</span></span><br><span class="line"><span class="regexp">/ (a) (b) (c) \2/</span>   <span class="comment">// 匹配 abcb</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 找重复项最多的字符个数(面试题中经常问到）:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;assssjdssskssalsssdkjsssdss&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = str.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">// 把字符串转换为数组</span></span><br><span class="line">str = arr.<span class="title function_">sort</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">// 首先进行排序，这样结果会把相同的字符放在一起，然后再转换为字符串</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);  <span class="comment">// aaddjjkklsssssssssssssssss</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> index = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(\w)\1+/g</span>;  <span class="comment">// 匹配字符，且重复这个字符，重复次数至少一次。</span></span><br><span class="line">str.<span class="title function_">replace</span>(re,<span class="keyword">function</span>(<span class="params">$0,$1</span>)&#123; </span><br><span class="line">   <span class="comment">// alert($0); 代表每次匹配成功的结果 : aa dd jj kk l sssssssssssssssss</span></span><br><span class="line">   <span class="comment">// alert($1); 代表每次匹配成功的第一个子项，也就是\w:  a d j k l S </span></span><br><span class="line">　　</span><br><span class="line">    <span class="keyword">if</span>(index&lt;$0.<span class="property">length</span>)&#123;  <span class="comment">// 如果index保存的值小于$0的长度就进行下面的操作</span></span><br><span class="line">          index = $0.<span class="property">length</span>;  <span class="comment">// 这样index一直保存的就在最大的长度</span></span><br><span class="line">           value = $1;  <span class="comment">// value保存的是出现最多的这个字符</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;最多的字符:&#x27;</span>+value+<span class="string">&#x27;,重复的次数:&#x27;</span>+index);  <span class="comment">// s 17</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>split( ):字符串中的方法，把字符串转成数组。<br>sort( ):数组中的排序方法，按照ACALL码进行排序。<br>join( ):数组中的方法，把数组转换为字符串</p>
</blockquote>
<h1 id="常用的一些正则表达式"><a href="#常用的一些正则表达式" class="headerlink" title="常用的一些正则表达式"></a>常用的一些正则表达式</h1><br>
1. 校验是否全由数字组成（[0-9]中的字符出现次数的范围是1到20次):
> /\^[0-9]{1,20}$ /

<ol start="2">
<li><p>校验登录名：只能输入5-20个以字母开头、可带数字、“_”、“.”的字串:</p>
<blockquote>
<p>/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$ /</p>
</blockquote>
</li>
<li><p>校验用户姓名：只能输入1-30个以字母开头的字串:</p>
<blockquote>
<p>/^[a-zA-Z]{1,30}$/ </p>
</blockquote>
</li>
<li><p>校验密码：只能输入6-20个字母、数字、下划线:</p>
<blockquote>
<p>/^(\w){6,20}$/</p>
</blockquote>
</li>
<li><p>校验普通电话、传真号码：可以“+”或数字开头，可含有”-“ 和 “ “</p>
<blockquote>
<p>/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/</p>
</blockquote>
</li>
<li><p>校验URL:</p>
<blockquote>
<p>/^http[s]{0,1}://.+$/</p>
</blockquote>
</li>
<li><p>校验身份证：</p>
<blockquote>
<p>/[1-9]\d{14}|[1-9]\d{17}|[1-9]\d{16}x/</p>
</blockquote>
</li>
<li><p>校验Email(起始至少为一个字符(\w字母，数字或者下划线)，然后匹配@,接着为任意个字母或者数字，\.代表真正的点，.后面为至少一个的字符（a-z）,同时这个(比如.com)整体为一个子项作为结束，可以出现1-3次。因为有的邮箱是这样的.cn.net。)：</p>
<blockquote>
<p>/^\w+@[a-z0-9]+(.[a-z]+){1,3}$  /</p>
</blockquote>
</li>
</ol>
<h1 id="JavaScript正则表达式大全（过滤Emoji的最佳实践）"><a href="#JavaScript正则表达式大全（过滤Emoji的最佳实践）" class="headerlink" title="JavaScript正则表达式大全（过滤Emoji的最佳实践）"></a>JavaScript正则表达式大全（过滤Emoji的最佳实践）</h1><p>一、校验数字的表达式<br> 1 数字：^[0-9]<em>$<br> 2 n位的数字：^\d{n}$<br> 3 至少n位的数字：^\d{n,}$<br> 4 m-n位的数字：^\d{m,n}$<br> 5 零和非零开头的数字：^(0|[1-9][0-9]</em>)$<br> 6 非零开头的最多带两位小数的数字：^([1-9][0-9]<em>)+(.[0-9]{1,2})?$<br> 7 带1-2位小数的正数或负数：^(-)?\d+(.\d{1,2})?$<br> 8 正数、负数、和小数：^(-|+)?\d+(.\d+)?$<br> 9 有两位小数的正实数：^[0-9]+(.[0-9]{2})?$<br>10 有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$<br>11 非零的正整数：^[1-9]\d</em>$ 或 ^([1-9][0-9]<em>){1,3}$ 或 ^+?[1-9][0-9]</em>$<br>12 非零的负整数：^-[1-9][]0-9”<em>$ 或 ^-[1-9]\d</em>$<br>13 非负整数：^\d+$ 或 ^[1-9]\d<em>|0$<br>14 非正整数：^-[1-9]\d</em>|0$ 或 ^((-\d+)|(0+))$<br>15 非负浮点数：^\d+(.\d+)?$ 或 ^[1-9]\d<em>.\d</em>|0.\d<em>[1-9]\d</em>|0?.0+|0$<br>16 非正浮点数：^((-\d+(.\d+)?)|(0+(.0+)?))$ 或 ^(-([1-9]\d<em>.\d</em>|0.\d<em>[1-9]\d</em>))|0?.0+|0$<br>17 正浮点数：^[1-9]\d<em>.\d</em>|0.\d<em>[1-9]\d</em>$ 或 ^(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]*.[0-9]+)|([0-9]</em>[1-9][0-9]<em>))$<br>18 负浮点数：^-([1-9]\d*.\d</em>|0.\d<em>[1-9]\d</em>)$ 或 ^(-(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]*.[0-9]+)|([0-9]</em>[1-9][0-9]<em>)))$<br>19 浮点数：^(-?\d+)(.\d+)?$ 或 ^-?([1-9]\d*.\d</em>|0.\d<em>[1-9]\d</em>|0?.0+|0)$</p>
<p>二、校验字符的表达式<br> 1 汉字：^[\u4e00-\u9fa5]{0,}$<br> 2 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$<br> 3 长度为3-20的所有字符：^.{3,20}$<br> 4 由26个英文字母组成的字符串：^[A-Za-z]+$<br> 5 由26个大写英文字母组成的字符串：^[A-Z]+$<br> 6 由26个小写英文字母组成的字符串：^[a-z]+$<br> 7 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$<br> 8 由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{3,20}$<br> 9 中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$<br>10 中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$<br>11 可以输入含有^%&amp;’,;=?$&quot;等字符：[^%&amp;’,;=?$\x22]+<br>12 禁止输入含有<del>的字符：[^</del>\x22]+</p>
<p>三、特殊需求表达式<br> 1 Email地址：^\w+([-+.]\w+)<em>@\w+([-.]\w+)*.\w+([-.]\w+)</em>$<br> 2 域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?<br> 3 InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+.)+[\w-]+(/[\w-./?%&amp;=]<em>)?$<br> 4 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$<br> 5 电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：^((\d{3,4}-)|\d{3.4}-)?\d{7,8}$<br> 6 国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7}<br> 7 身份证号：<br>15或18位身份证：^\d{15}|\d{18}$<br>15位身份证：^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$<br>18位身份证：^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$<br> 8 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$<br> 9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$<br>10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$<br>11 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.</em>[a-z])(?=.<em>[A-Z]).{8,10}$<br>12 日期格式：^\d{4}-\d{1,2}-\d{1,2}<br>13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$<br>14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$<br>15 钱的输入格式：<br>16    1.有四种钱的表示形式我们可以接受:”10000.00” 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：^[1-9][0-9]</em>$<br>17    2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符”0”不通过,所以我们采用下面的形式：^(0|[1-9][0-9]<em>)$<br>18    3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]</em>)$<br>19    4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$<br>20    5.必须说明的是,小数点后面至少应该有1位数,所以”10.”是不通过的,但是 “10” 和 “10.2” 是通过的：^[0-9]+(.[0-9]{2})?$<br>21    6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$<br>22    7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})<em>(.[0-9]{1,2})?$<br>23    8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})</em>)(.[0-9]{1,2})?$<br>24    备注：这就是最终结果了,别忘了”+”可以用”*”替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里<br>25 xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\.[x|X][m|M][l|L]$<br>26 中文字符的正则表达式：[\u4e00-\u9fa5]<br>27 双字节字符：[^\x00-\xff]    (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))<br>28 空白行的正则表达式：\n\s<em>\r    (可以用来删除空白行)<br>29 HTML标记的正则表达式：&lt;(\S</em>?)[^&gt;]<em>&gt;.</em>?&lt;/\1&gt;|&lt;.<em>? /&gt;    (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)<br>30 首尾空白字符的正则表达式：^\s</em>|\s<em>$或(^\s</em>)|(\s*$)    (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)<br>31 腾讯QQ号：[1-9][0-9]{4,}    (腾讯QQ号从10000开始)<br>32 中国邮政编码：[1-9]\d{5}(?!\d)    (中国邮政编码为6位数字)<br>33 IP地址：\d+.\d+.\d+.\d+    (提取IP地址时有用)</p>
<p>详见<a href="https://blog.csdn.net/libin_1/article/details/51483815">此文章</a></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>regex</tag>
        <tag>正则表达式</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript红宝书第四版读书笔记</title>
    <url>/2020/11/16/Javascript%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC%E5%9B%9B%E7%89%88%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Chap-1-What’s-Javascript"><a href="#Chap-1-What’s-Javascript" class="headerlink" title="Chap 1. What’s Javascript"></a>Chap 1. What’s Javascript</h1><h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>​    1995 年， Netscape（网景）公司一位名叫 Brendan Eich 的工程师，开始为即将发布的 Netscape Navigator 2 开发一 个叫 Mocha(后来改名为 LiveScript)的脚本语言。当时的计划是在客户端和服务器端都使用它，它在 服务器端叫 LiveWire。</p>
<p>​    当时商业环境复杂，1995 年，Sun 公司开始为即将发布的 Java 做各种营销，找到了网景，希望做一些合作。网景表达了合作意向，希望在 Netscape Navigator 2 中集成 Java，这个合作意向让 Brendan Eich 的工作彻底难办起来，不仅技术选型更困难了，距离发布会的时间也相当的短。短时间实现 Java 和 HTML 的整合是不可能的，且 Java 还没正式发布, 第一版也不好用，包括 老板 Andreessen 本人对 Java 也有一定的怀疑。这次运营活动，让开发很为难，最后 Andreessen 拍板临时实现一门语言，最后这门语言最后应该会叫做 “JavaScript”。</p>
<p>​    Brendan Eich 本来是想集中精力搞一个运行在浏览器的 Scheme 语言，但是这次时间显然非常仓促，公司还要求在外表上尽量接近 Java 并且学习使用门槛要低。他花了 10 天完成了语言的原型，后面稍微做了一些补充性的改动，在 1995 年 9 月正式发版。在这一段时间里，Eich 除了要实现老板提到的这些需求，也掺杂了大量的过往经验。JS 的背后有很多设计参考了 C、Self、HyperTalk、Awk、Logo、Lisp 这些语言。当时有人提出需要实现和 Java 一样的面向对象功能，但是时间显然不够，Eich 参考了 Self 实现了原型模式。</p>
<p>​    就这样，经历了倒排、来自老板的需求、面向发布会编程，JS 开启了它的历史使命。</p>
<blockquote>
<p><a href="https://mp.weixin.qq.com/s/OlHkoly0J1TLVFkRFFNexA">完整历史</a></p>
</blockquote>
<ul>
<li>Brendan Eich —— Javascript之父</li>
<li>2014上任FF的CEO，十天后由于反同被迫离职，之后开了一家公司叫「Brave」，还是做浏览器，不过是基于区块链技术的。</li>
</ul>
<h2 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h2><p>​    虽然 JavaScript 和 ECMAScript 基本上是同义词，但 JavaScript 远远不限于 ECMA-262 所定义的那样：</p>
<ul>
<li>核心(ECMAScript): 由 ECMA-262 定义并提供核心功能。</li>
<li>文档对象模型(DOM): 提供与网页内容交互的方法和接口。</li>
<li>浏览器对象模型(BOM): 提供与浏览器交互的方法和接口。</li>
</ul>
<p>​    JavaScript 的这三个部分得到了五大 Web 浏览器(IE、Firefox、Chrome、Safari 和 Opera)不同程度的支持。所有浏览器基本上对 ES5(ECMAScript 5)提供了完善的支持，而对 ES6(ECMAScript 6)和 ES7(ECMAScript 7)的支持度也在不断提升。这些浏览器对 DOM 的支持各不相同，但对 Level 3 的支 持日益趋于规范。HTML5 中收录的 BOM 会因浏览器而异，不过开发者仍然可以假定存在很大一部分 公共特性。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/dO8Ixh.png" alt="dO8Ixh"></p>
<p>​    如果不涉及浏览器的话，ECMA-262 到底定义了什么? 在基本的层面，它描述Javascript这门语言的如下部分: </p>
<blockquote>
<p>语法、类型、语句、关键字、保留字、操作符、全局对象</p>
</blockquote>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>​    <strong>文档对象模型(DOM，Document Object Model)</strong>是一个应用编程接口(API)，用于在 HTML 中使 用扩展的 XML。DOM 将整个页面抽象为一组分层节点。HTML 或 XML 页面的每个组成部分都是一种 节点，包含不同的数据。<strong>DOM可以创建表示文档的树，让开发者可以随心所欲的生地控制网页的内容和结构。使用DOM API，可以轻松地删除、添加、替换、修改节点。</strong></p>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>​    IE3 和 Netscape Navigator 3 提供了<strong>浏览器对象模型(BOM) API</strong>，用于支持访问和操作浏览器的窗 口。使用 BOM，开发者可以操控浏览器显示页面之外的部分。而 BOM 真正独一无二的地方，当然也是 问题最多的地方，就是它是唯一一个没有相关标准的 JavaScript 实现。HTML5 改变了这个局面，这个版 本的 HTML 以正式规范的形式涵盖了尽可能多的 BOM 特性。由于 HTML5 的出现，之前很多与 BOM 有关的问题都迎刃而解了。</p>
<p>​    总体来说，BOM 主要针对浏览器窗口和子窗口(frame)，不过人们通常会把任何特定于浏览器的 扩展都归在 BOM 的范畴内。比如，下面就是这样一些扩展:</p>
<ul>
<li>弹出新浏览器窗口的能力;</li>
<li>移动、缩放和关闭浏览器窗口的能力;</li>
<li>navigator 对象，提供关于浏览器的详尽信息;</li>
<li>location 对象，提供浏览器加载页面的详尽信息;</li>
<li>screen 对象，提供关于用户屏幕分辨率的详尽信息;</li>
<li>performance 对象，提供浏览器内存占用、导航行为和时间统计的详尽信息;</li>
<li>对 cookie 的支持;</li>
<li>其他自定义对象，如 XMLHttpRequest 和 IE 的 ActiveXObject。</li>
</ul>
<h1 id="Chap-2-Javascript-In-HTML"><a href="#Chap-2-Javascript-In-HTML" class="headerlink" title="Chap 2. Javascript In HTML"></a>Chap 2. Javascript In HTML</h1><h2 id="lt-script-gt"><a href="#lt-script-gt" class="headerlink" title="&lt;script&gt;"></a>&lt;script&gt;</h2><p>&lt;script&gt;元素的8个属性：</p>
<ul>
<li><strong>src</strong>:可选。表示包含要执行的代码的外部文件。</li>
<li>charset:可选。使用 src 属性指定的代码字符集。这个属性很少使用，因为大多数浏览器不 在乎它的值。</li>
<li><strong>async</strong>:可选。表示应该立即开始下载脚本，但不能阻止其他页面动作，比如下载资源或等待其 他脚本加载。只对外部脚本文件有效。</li>
<li>crossorigin:可选。配置相关请求的 CORS(跨源资源共享)设置。默认不使用 CORS。crossorigin= “anonymous”配置文件请求不必设置凭据标志。crossorigin=”use-credentials”设置凭据 标志，意味着出站请求会包含凭据。</li>
<li><strong>defer</strong>:可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效。 在 IE7 及更早的版本中，对行内脚本也可以指定这个属性。</li>
<li>integrity:可选。允许比对接收到的资源和指定的加密签名以验证子资源完整性(SRI， 12 Subresource Integrity)。如果接收到的资源的签名与这个属性指定的签名不匹配，则页面会报错，脚本不会执行。这个属性可以用于确保内容分发网络(CDN，Content Delivery Network)不会提供恶意内容。</li>
<li>language:废弃。最初用于表示代码块中的脚本语言(如”JavaScript”、”JavaScript 1.2”或”VBScript”)。大多数浏览器都会忽略这个属性，不应该再使用它。 </li>
<li><strong>type</strong>:可选。代替 language，表示代码块中脚本语言的内容类型(也称 MIME 类型)。按照惯 例，这个值始终都是”text/javascript”，尽管”text/javascript”和”text/ecmascript” 都已经废弃了。JavaScript 文件的 MIME 类型通常是”application/x-javascript”，不过给 type 属性这个值有可能导致脚本被忽略。在非 IE 的浏览器中有效的其他值还有 “application/javascript”和”application/ecmascript”。如果这个值是 module，则代 码会被当成 ES6 模块，而且只有这时候代码中才能出现 import 和 export 关键字。</li>
</ul>
<h3 id="普通script标签同步执行"><a href="#普通script标签同步执行" class="headerlink" title="普通script标签同步执行"></a>普通script标签同步执行</h3><ul>
<li>遇到普通的script标签,会开始下载,<strong>下载过程会阻塞DOM渲染</strong></li>
<li><strong>下载完成后会立即执行,会按照引入顺序执行,会阻塞DOM的渲染</strong></li>
<li>会计入DOMContentLoaded事件的统计</li>
<li>由于下载过程和加载过程都会阻塞DOM的渲染,所以一般讲普通的script标签放在body的最后</li>
</ul>
<h3 id="async-异步加载外链资源"><a href="#async-异步加载外链资源" class="headerlink" title="async 异步加载外链资源"></a>async 异步加载外链资源</h3><ul>
<li>遇到async属性的script就会立即开始下载该资源,<strong>下载过程不会阻塞DOM的渲染</strong></li>
<li>下载完毕就会立即执行,<strong>执行过程会阻塞DOM的渲染(如果此时DOM还没有渲染完毕)</strong></li>
<li>async资源的加载不会计入DOMContentLoaded事件的统计</li>
<li>适用于加载过程不操作DOM的外部文件</li>
<li>async资源无法保证加载顺序,谁先下载完成,谁先执行</li>
</ul>
<h3 id="defer-推迟加载外链资源"><a href="#defer-推迟加载外链资源" class="headerlink" title="defer 推迟加载外链资源"></a>defer 推迟加载外链资源</h3><ul>
<li>遇到defer属性的script标签就会立即下载资源,<strong>下载过程不会阻塞DOM渲染</strong></li>
<li><strong>会等到所有的DOM元素渲染完成再加载资源</strong></li>
<li>会计入DOMContentLoaded事件的统计</li>
<li>会按照引入的顺序加载执行</li>
</ul>
<h3 id="动态加载脚本"><a href="#动态加载脚本" class="headerlink" title="动态加载脚本"></a>动态加载脚本</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;gibberish.js&#x27;</span>;</span><br><span class="line">script.<span class="property">async</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(script);</span><br></pre></td></tr></table></figure>
<ul>
<li>优点:：动态创建script标签引入js,相当于是async引入,下载过程不会阻塞DOM的渲染,一般使用这种方式加载时,DOM已经渲染完成,所以也不会影响到DOM的渲染( 但是也不排除一种情况,在异步加载的js脚本中,动态创建了script标签,引入js )</li>
<li>缺点：以这种方式获取的资源对浏览器预加载器是不可见的。这会严重影响它们在资源获取队列中的优先 级。根据应用程序的工作方式以及怎么使用，这种方式可能会严重影响性能。</li>
<li>解决办法：要想让预加载器知道这些 动态请求文件的存在，可以在文档头部显式声明它们:</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;gibberish.js&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="lt-noscript-gt"><a href="#lt-noscript-gt" class="headerlink" title="&lt;noscript&gt;"></a><strong>&lt;noscript&gt;</strong></h2><p>通过使用&lt;noscript&gt;元素，可以指定在浏览器不支持脚本或者浏览器对脚本的支持被关闭时显示的内容。如果浏览器支持并启用脚本，则&lt;noscript&gt;元素中的任何内容都不会被渲染。</p>
<p>下面是一个例子:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Example HTML Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span> <span class="attr">src</span>=<span class="string">&quot;example1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span> <span class="attr">src</span>=<span class="string">&quot;example2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>This page requires a JavaScript-enabled browser.<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​    这个例子是在脚本不可用时让浏览器显示一段话。如果浏览器支持并启用脚本，则用户永远不会看到它。</p>
<h1 id="Chap-3-Language-Basics"><a href="#Chap-3-Language-Basics" class="headerlink" title="Chap 3. Language Basics"></a>Chap 3. Language Basics</h1><h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><ul>
<li>ECMAScript 的语法很大程度上借鉴了 C 语言和其他类 C 语言，如 Java 和 Perl。</li>
<li>即使语句末尾的分号不是必需的，也应该加上。记着加分号有助于防止省略造成的问题，比如可以 避免输入内容不完整。此外，加分号也便于开发者通过删除空行来压缩代码(如果没有结尾的分号，只 删除空行，则会导致语法错误)。加分号也有助于在某些情况下提升性能，因为解析器会尝试在合适的 位置补上分号以纠正语法错误。</li>
</ul>
<h2 id="var-amp-let-amp-const"><a href="#var-amp-let-amp-const" class="headerlink" title="var &amp; let &amp; const"></a>var &amp; let &amp; const</h2><h3 id="‘var’-Keyword"><a href="#‘var’-Keyword" class="headerlink" title="‘var’ Keyword"></a>‘var’ Keyword</h3><h4 id="var-作用域"><a href="#var-作用域" class="headerlink" title="var 作用域"></a>var 作用域</h4><blockquote>
<p>var可以定义全局变量也可以定义局部变量</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="string">&#x27;局部变量a&#x27;</span>;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//此时的a就是局部变量</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test1</span>(); <span class="comment">// 调用函数test() 输出局部变量a 执行完毕之后，变量销毁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);  <span class="comment">//报错 </span></span><br><span class="line">-------------------</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;全局变量b&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//在函数内定义变量时省略var操作符，可以创建一个全局变量</span></span><br><span class="line">	c = <span class="string">&#x27;全局变量c&#x27;</span>; <span class="comment">// 极其不推荐，在局部作用域中定 义的全局变量很难维护，也会造成困惑。并且在严格模式下会抛出 ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test2</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">//输出全局变量c</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">//输出全局变量b</span></span><br></pre></td></tr></table></figure>
<h4 id="var声明提升"><a href="#var声明提升" class="headerlink" title="var声明提升"></a>var声明提升</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//输出 undefined</span></span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------</span><br><span class="line"><span class="comment">// 等价于 =&gt;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> a;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">	a = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>声明提升是词法分析的结果：词法分析先分析形参 然后分析函数声明以及变量声明 然后再去执行</p>
</blockquote>
<ul>
<li>详情可参考：<a href="https://blog.csdn.net/liuqiao0327/article/details/106971270/">JS解析器执行原理和声明提升机制</a></li>
</ul>
<h3 id="‘let’-Declarations"><a href="#‘let’-Declarations" class="headerlink" title="‘let’ Declarations"></a>‘let’ Declarations</h3><ol>
<li><p>let声明的变量 只在块级作用域内有效，而var声明的变量是函数作用域。<br><strong>块级作用域是函数作用域的子集</strong></p>
</li>
<li><p>let声明的变量 在同一个块级作用域内，<strong>变量名不允许重复（声明冗余）</strong></p>
</li>
<li><p>let 不存在变量提升:</p>
<p>在解析代码时，JavaScript 引擎也会注意出现在块后面的 let 声明，只不过在此之前不能以任何方 式来引用未声明的变量。在 let 声明之前的执行瞬间被称为“暂时性死区”(temporal dead zone)，在此 阶段引用任何后面才声明的变量都会抛出 ReferenceError。</p>
</li>
<li><p>let声明的变量不会成为window的属性</p>
</li>
</ol>
<h4 id="for-循环中的-let-声明"><a href="#for-循环中的-let-声明" class="headerlink" title="for 循环中的 let 声明"></a><strong>for</strong> 循环中的 <strong>let</strong> 声明</h4><p>在使用 var 的时候，最常见的问题就是对迭代变量的奇特声明和修改:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(i), <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 你可能以为会输出0、1、2、3、4 </span></span><br><span class="line"><span class="comment">// 实际上会输出5、5、5、5、5</span></span><br></pre></td></tr></table></figure>
<p>​    之所以会这样，是因为在退出循环时，迭代变量保存的是导致循环退出的值:5。在之后执行超时 逻辑时，所有的 i 都是同一个变量，因而输出的都是同一个最终值。</p>
<p>​    而在使用 let 声明迭代变量时，JavaScript 引擎在后台会为每个迭代循环声明一个新的迭代变量。 每个 setTimeout 引用的都是不同的变量实例，所以 console.log 输出的是我们期望的值，也就是循环执行过程中每个迭代变量的值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(i), <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 会输出0、1、2、3、4</span></span><br></pre></td></tr></table></figure>
<h3 id="‘const’-Declarations"><a href="#‘const’-Declarations" class="headerlink" title="‘const’ Declarations"></a>‘const’ Declarations</h3><ol>
<li>const和let唯一重要的区别就是 let定义的变量不是必须初始化，而const定义的变量必须初始化，并且给const声明的变量重新赋值会报错。</li>
<li>const也不允许重复声明。如不能用const声明迭代变量。<br>for（const i = 0; i &lt; 10; i++) {} //报错， 因为迭代变量会自增。</li>
<li>const声明的作用域也是块级作用域</li>
<li><strong>const变量引用的是一个对象，那么修改对象内部的属性并不违反const的限制</strong></li>
</ol>
<h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><p>基本数据类型：Number， String， Boolean， Undefined， Null， Symbol（符号,es6新增）<br>复杂数据类型：Object，Function，Array，Date, RexExp</p>
<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><h4 id="0-1-0-2-！-0-3"><a href="#0-1-0-2-！-0-3" class="headerlink" title="0.1+0.2 ！= 0.3"></a>0.1+0.2 ！= 0.3</h4><p>​    0.1和0.2转化位二进制后会无限循环，由于标准位数的限制，后面多余的位数会被截掉，此时就出现了精度的损失，相加后因为浮点数小数位的限制，而截断的二进制数字在转换位十进制后就变成了0.300 000 000 000 000 04.<br>解决办法( 0.1 * 10000 + 0.2 * 10000 ) / 10000</p>
<blockquote>
<p>之所以存在这种舍入错误，是因为使用了IEEE754数值，这种错误并非ECMAScript 所独有。其他使用相同格式的语言也有这个问题。</p>
</blockquote>
<h4 id="值的范围"><a href="#值的范围" class="headerlink" title="值的范围"></a>值的范围</h4><p>​    ECMAScript 可以表示的最小 数值保存在 <code>Number.MIN_VALUE</code> 中，这个值在多数浏览器中是 5e-324;可以表示的最大数值保存在 <code>Number.MAX_VALUE</code> 中，这个值在多数浏览器中是 1.797 693 134 862 315 7e+308。如果某个计算得到的 数值结果超出了 JavaScript 可以表示的范围，那么这个数值会被自动转换为一个特殊的 Infinity(无 穷)值。任何无法表示的负数以-Infinity(负无穷大)表示，任何无法表示的正数以 Infinity(正 无穷大)表示。</p>
<h4 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h4><p>​    有一个特殊的数值叫 NaN，意思是“不是数值”(Not a Number)，用于表示本来要返回数值的操作失败了(而不是抛出错误)。比如，用 0 除任意数值在其他语言中通常都会导致错误，从而中止代码执行。但在 ECMAScript 中，0、+0 或-0 相除会返回 NaN 。</p>
<h4 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h4><blockquote>
<p>有 3 个函数可以将非数值转换为数值:Number()、parseInt()和 parseFloat()：</p>
</blockquote>
<p>​    parseInt()函数更专注于字符串是否包含数值模式。字符串最前面的空格会被忽略，从第一个非空格字符开始转换。如果第一个字符不是数值字符、加号或减号，parseInt()立即 返回 NaN。这意味着空字符串也会返回 NaN(这一点跟 Number()不一样，它返回 0)</p>
<h3 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h3><ul>
<li>typeof null //输出 object （逻辑上讲，null 值表示一个空对象指针）</li>
<li>在定义将来要保存对象值的变量时，建议使用 null 来初始化，不要使用其他值。</li>
<li>console.log(Number(null == undefined)); // 输出 1</li>
</ul>
<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/UxA2Qe.png" alt="UxA2Qe"></p>
<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><ul>
<li>toString()方法可见于数值、布尔值、对象和字符串值。(没错，字符串值也有 toString()方法， 该方法只是简单地返回自身的一个副本)。null 和 undefined 值没有 toString()方法。</li>
<li>在对数值调用这个方法时，toString()可以接收一个底数参数，即以什么底数来输出数值的字符串表示。默认情况下，toString()返回数值的十 进制字符串表示。而通过传入参数，可以得到数值的二进制、八进制、十六进制，或者其他任何有效基数的字符串表示</li>
<li>如果你不确定一个值是不是 null 或 undefined，可以使用 String()转型函数，它始终会返回表示相应类型值的字符串。String(null)  // 输出”null”</li>
</ul>
<h4 id="模版字符串"><a href="#模版字符串" class="headerlink" title="模版字符串"></a>模版字符串</h4><ul>
<li><p>模板字面量会保持反引号内部的空格以及换行：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这个模板字面量在换行符之后有 25 个空格符</span></span><br><span class="line"><span class="keyword">let</span> myTemplateLiteral = <span class="string">`first line</span></span><br><span class="line"><span class="string">second line`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myTemplateLiteral.<span class="property">length</span>); <span class="comment">// 47</span></span><br><span class="line">------------------------</span><br><span class="line"><span class="comment">// 这个模板字面量以一个换行符开头</span></span><br><span class="line"><span class="keyword">let</span> secondTemplateLiteral = <span class="string">`</span></span><br><span class="line"><span class="string">first line</span></span><br><span class="line"><span class="string">second line`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(secondTemplateLiteral[<span class="number">0</span>] === <span class="string">&#x27;\n&#x27;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a>字符串插值</h4></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将表达式转换为字符串时会调用toString(): </span></span><br><span class="line"><span class="keyword">let</span> foo = &#123; <span class="attr">toString</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;World&#x27;</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, <span class="subst">$&#123; foo &#125;</span>!`</span>);      <span class="comment">// Hello, World!</span></span><br><span class="line"><span class="comment">// 在插值表达式中可以调用函数和方法:</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">capitalize</span>(<span class="params">word</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">`<span class="subst">$&#123; word[<span class="number">0</span>].toUpperCase() &#125;</span><span class="subst">$&#123; word.slice(<span class="number">1</span>) &#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123; capitalize(<span class="string">&#x27;hello&#x27;</span>) &#125;</span>, <span class="subst">$&#123; capitalize(<span class="string">&#x27;world&#x27;</span>) &#125;</span>!`</span>); <span class="comment">// Hello, World!</span></span><br><span class="line"><span class="comment">// 此外，模板也可以插入自己之前的值:</span></span><br><span class="line"><span class="keyword">let</span> value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">append</span>(<span class="params"></span>) &#123;</span><br><span class="line">	value = <span class="string">`<span class="subst">$&#123;value&#125;</span>abc`</span></span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">append</span>();  <span class="comment">// abc</span></span><br><span class="line"><span class="title function_">append</span>();  <span class="comment">// abcabc</span></span><br><span class="line"><span class="title function_">append</span>();  <span class="comment">// abcabcabc</span></span><br></pre></td></tr></table></figure>
<h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3>]]></content>
      <categories>
        <category>other</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue2.0搭建旅游网站开发笔记</title>
    <url>/2018/03/14/Vue2.0%E6%90%AD%E5%BB%BA%E6%97%85%E6%B8%B8%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: Vue开发旅游网站笔记整理</p>
</blockquote>
<a id="more"></a>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这是最近使用Vue写的仿去哪儿网旅游网站，大致实现了网站首页Header制作、首页轮播、图标区块、热销推荐、使用axios获取接口数据、首页父子组件间的传递、城市选择页面路由配置、搜索框布局、better-scroll的使用及字母表布局、搜索的逻辑实现、Vuex实现数据共享、LocalStorage实现页面数据持久存储、使用keep-alive优化路由页面性能、动态路由配置及banner布局、公用画廊组件的拆分、渐隐渐显的header效果实现、递归组件实现详情列表、画廊动画效果封装等实用性网站功能。</p>
<p>在此要十分感谢<code>Vue</code>框架的作者Evan You，这种<code>渐进式</code>的开发方式的确十分的友好，也让人深刻地领会到组件化开发所带来的便捷之处。</p>
<p>而本篇文章是作为整个项目开发时的一些记录，以便日后完善或者重构代码时能够更加清晰。</p>
<ul>
<li><p>项目源码：<a href="https://github.com/1996szw/TravelWeb">https://github.com/1996szw/TravelWeb</a></p>
</li>
<li><p>使用方式：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># install dependencies</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"># serve with hot reload at localhost:8080</span><br><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line"># build for production with minification</span><br><span class="line">npm run build</span><br><span class="line"></span><br><span class="line"># build for production and view the bundle analyzer report</span><br><span class="line">npm run build --report</span><br></pre></td></tr></table></figure>
<h1 id="项目代码初始化"><a href="#项目代码初始化" class="headerlink" title="项目代码初始化"></a>项目代码初始化</h1><h2 id="配置移动端的-lt-meta-gt-标签"><a href="#配置移动端的-lt-meta-gt-标签" class="headerlink" title="配置移动端的&lt;meta&gt;标签"></a>配置移动端的<code>&lt;meta&gt;</code>标签</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置移动端屏幕比例不可缩放 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="引入reset-css"><a href="#引入reset-css" class="headerlink" title="引入reset.css"></a>引入reset.css</h2><p>在不同的移动设备上，浏览器的初始样式表是不统一的。所以需要引入reset.css来进行统一化，之后在项目入口文件main.js中引用该样式表：<code>import &#39;styles/reset.css&#39;</code></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 重置样式表reset.css */</span></span><br><span class="line"><span class="keyword">@charset</span> <span class="string">&quot;utf-8&quot;</span>;<span class="selector-tag">html</span>&#123;<span class="attribute">background-color</span>:<span class="number">#fff</span>;<span class="attribute">color</span>:<span class="number">#000</span>;<span class="attribute">font-size</span>:<span class="number">12px</span>&#125;</span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">figure</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,<span class="selector-tag">legend</span>,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">button</span>,<span class="selector-tag">p</span>,<span class="selector-tag">blockquote</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span>,pre,xmp&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>&#125;</span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">button</span>,select,pre,xmp,tt,<span class="selector-tag">code</span>,<span class="selector-tag">kbd</span>,<span class="selector-tag">samp</span>&#123;<span class="attribute">line-height</span>:<span class="number">1.5</span>;<span class="attribute">font-family</span>:tahoma,arial,<span class="string">&quot;Hiragino Sans GB&quot;</span>,simsun,sans-serif&#125;</span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,small,big,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">button</span>,select&#123;<span class="attribute">font-size</span>:<span class="number">100%</span>&#125;</span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>&#123;<span class="attribute">font-family</span>:tahoma,arial,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;微软雅黑&quot;</span>,simsun,sans-serif&#125;</span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">b</span>,<span class="selector-tag">strong</span>&#123;<span class="attribute">font-weight</span>:normal&#125;</span><br><span class="line"><span class="selector-tag">address</span>,<span class="selector-tag">cite</span>,<span class="selector-tag">dfn</span>,<span class="selector-tag">em</span>,<span class="selector-tag">i</span>,optgroup,<span class="selector-tag">var</span>&#123;<span class="attribute">font-style</span>:normal&#125;</span><br><span class="line"><span class="selector-tag">table</span>&#123;<span class="attribute">border-collapse</span>:collapse;<span class="attribute">border-spacing</span>:<span class="number">0</span>;<span class="attribute">text-align</span><span class="selector-pseudo">:left</span>&#125;</span><br><span class="line"><span class="selector-tag">caption</span>,<span class="selector-tag">th</span>&#123;<span class="attribute">text-align</span>:inherit&#125;</span><br><span class="line"><span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">menu</span>&#123;<span class="attribute">list-style</span>:none&#125;</span><br><span class="line"><span class="selector-tag">fieldset</span>,<span class="selector-tag">img</span>&#123;<span class="attribute">border</span>:<span class="number">0</span>&#125;</span><br><span class="line"><span class="selector-tag">img</span>,<span class="selector-tag">object</span>,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">button</span>,select&#123;<span class="attribute">vertical-align</span>:middle&#125;</span><br><span class="line"><span class="selector-tag">article</span>,<span class="selector-tag">aside</span>,<span class="selector-tag">footer</span>,<span class="selector-tag">header</span>,<span class="selector-tag">section</span>,<span class="selector-tag">nav</span>,<span class="selector-tag">figure</span>,<span class="selector-tag">figcaption</span>,<span class="selector-tag">hgroup</span>,<span class="selector-tag">details</span>,<span class="selector-tag">menu</span>&#123;<span class="attribute">display</span>:block&#125;</span><br><span class="line"><span class="selector-tag">audio</span>,<span class="selector-tag">canvas</span>,<span class="selector-tag">video</span>&#123;<span class="attribute">display</span>:inline-block;*<span class="attribute">display</span>:inline;*zoom:<span class="number">1</span>&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span><span class="selector-pseudo">:before</span>,<span class="selector-tag">blockquote</span><span class="selector-pseudo">:after</span>,<span class="selector-tag">q</span><span class="selector-pseudo">:before</span>,<span class="selector-tag">q</span><span class="selector-pseudo">:after</span>&#123;<span class="attribute">content</span>:<span class="string">&quot;\0020&quot;</span>&#125;</span><br><span class="line"><span class="selector-tag">textarea</span>&#123;<span class="attribute">overflow</span>:auto;<span class="attribute">resize</span>:vertical&#125;</span><br><span class="line"><span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">button</span>,select,<span class="selector-tag">a</span>&#123;<span class="attribute">outline</span>:<span class="number">0</span> none;<span class="attribute">border</span>: none;&#125;</span><br><span class="line"><span class="selector-tag">button</span>::-moz-focus-inner,input::-moz-focus-inner&#123;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">border</span>:<span class="number">0</span>&#125;</span><br><span class="line"><span class="selector-tag">mark</span>&#123;<span class="attribute">background-color</span>:transparent&#125;</span><br><span class="line"><span class="selector-tag">a</span>,<span class="selector-tag">ins</span>,s,u,<span class="selector-tag">del</span>&#123;<span class="attribute">text-decoration</span>:none&#125;</span><br><span class="line"><span class="selector-tag">sup</span>,sub&#123;<span class="attribute">vertical-align</span>:baseline&#125;</span><br><span class="line"><span class="selector-tag">html</span> &#123;<span class="attribute">overflow-x</span>: hidden;<span class="attribute">height</span>: <span class="number">100%</span>;<span class="attribute">font-size</span>: <span class="number">50px</span>;-webkit-tap-highlight-<span class="attribute">color</span>: transparent;&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">font-family</span>: Arial, <span class="string">&quot;Microsoft Yahei&quot;</span>, <span class="string">&quot;Helvetica Neue&quot;</span>, Helvetica, sans-serif;<span class="attribute">color</span>: <span class="number">#333</span>;<span class="attribute">font-size</span>: .<span class="number">28em</span>;<span class="attribute">line-height</span>: <span class="number">1</span>;-webkit-text-size-adjust: none;&#125;</span><br><span class="line">hr &#123;<span class="attribute">height</span>: .<span class="number">02rem</span>;<span class="attribute">margin</span>: .<span class="number">1rem</span> <span class="number">0</span>;<span class="attribute">border</span>: medium none;<span class="attribute">border-top</span>: .<span class="number">02rem</span> solid <span class="number">#cacaca</span>;&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;<span class="attribute">color</span>: <span class="number">#25a4bb</span>;<span class="attribute">text-decoration</span>: none;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="解决移动设备中的一像素边框问题"><a href="#解决移动设备中的一像素边框问题" class="headerlink" title="解决移动设备中的一像素边框问题"></a>解决移动设备中的一像素边框问题</h2><p>有的移动设备分辨率比较高是一个二倍屏或是三倍屏，所以在写1像素边框的时候，写的是1px但实际渲染出来却是2px或是3px。所以需要引入一个1像素边框的解决方案:<code>import &#39;styles/border.css&#39;</code></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 1像素边框的解决方案border.css */</span></span><br><span class="line"><span class="comment">/* 该代码解决方式是css中的scale */</span></span><br><span class="line"><span class="keyword">@charset</span> <span class="string">&quot;utf-8&quot;</span>;</span><br><span class="line"><span class="selector-class">.border</span>,</span><br><span class="line"><span class="selector-class">.border-top</span>,</span><br><span class="line"><span class="selector-class">.border-right</span>,</span><br><span class="line"><span class="selector-class">.border-bottom</span>,</span><br><span class="line"><span class="selector-class">.border-left</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\0020&quot;</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* border</span></span><br><span class="line"><span class="comment"> * 因，边框是由伪元素区域遮盖在父级</span></span><br><span class="line"><span class="comment"> * 故，子级若有交互，需要对子级设置</span></span><br><span class="line"><span class="comment"> * 定位 及 z轴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="selector-class">.border</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">100%</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">0</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max--moz-device-pixel-ratio</span>: <span class="number">1.49</span>), (<span class="attribute">-webkit-max-device-pixel-ratio</span>: <span class="number">1.49</span>), (<span class="attribute">max-device-pixel-ratio</span>: <span class="number">1.49</span>), (<span class="attribute">max-resolution</span>: <span class="number">143dpi</span>), (<span class="attribute">max-resolution</span>: <span class="number">1.49dppx</span>) &#123;</span><br><span class="line">    <span class="comment">/* 默认值，无需重置 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min--moz-device-pixel-ratio</span>: <span class="number">1.5</span>) <span class="keyword">and</span> (<span class="attribute">max--moz-device-pixel-ratio</span>: <span class="number">2.49</span>), (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">1.5</span>) <span class="keyword">and</span> (<span class="attribute">-webkit-max-device-pixel-ratio</span>: <span class="number">2.49</span>), (<span class="attribute">min-device-pixel-ratio</span>: <span class="number">1.5</span>) <span class="keyword">and</span> (<span class="attribute">max-device-pixel-ratio</span>: <span class="number">2.49</span>), (<span class="attribute">min-resolution</span>: <span class="number">144dpi</span>) <span class="keyword">and</span> (<span class="attribute">max-resolution</span>: <span class="number">239dpi</span>), (<span class="attribute">min-resolution</span>: <span class="number">1.5dppx</span>) <span class="keyword">and</span> (<span class="attribute">max-resolution</span>: <span class="number">2.49dppx</span>) &#123;</span><br><span class="line">    <span class="selector-class">.border</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">200%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">200%</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(.<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(.<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min--moz-device-pixel-ratio</span>: <span class="number">2.5</span>), (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">2.5</span>), (<span class="attribute">min-device-pixel-ratio</span>: <span class="number">2.5</span>), (<span class="attribute">min-resolution</span>: <span class="number">240dpi</span>), (<span class="attribute">min-resolution</span>: <span class="number">2.5dppx</span>) &#123;</span><br><span class="line">    <span class="selector-class">.border</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">300%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">300%</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">33333</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.border-top</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-bottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topright</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(.<span class="number">33333</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.border-right</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-left</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-rightleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-topleft</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-rightbottom</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">    <span class="selector-class">.border-topright</span><span class="selector-pseudo">::after</span>,</span><br><span class="line">    <span class="selector-class">.border-bottomleft</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(.<span class="number">33333</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="解决移动端的点击300ms延时的问题"><a href="#解决移动端的点击300ms延时的问题" class="headerlink" title="解决移动端的点击300ms延时的问题"></a>解决移动端的点击300ms延时的问题</h2><p>在项目中，尤其是移动项目中在某些机型、某些浏览器上使用click事件的时候，这些click事件会延迟300ms才会执行，导致用户体验不佳，所以需要引入fastclick第三方库:<code>npm install fastclick --save</code>，然后在main.js中引用并使用这个库:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> fastClick <span class="keyword">from</span> <span class="string">&#x27;fastclick&#x27;</span></span><br><span class="line"></span><br><span class="line">fastClick.<span class="title function_">attach</span>(<span class="variable language_">document</span>.<span class="property">body</span>)</span><br></pre></td></tr></table></figure>
<h1 id="网站首页的开发"><a href="#网站首页的开发" class="headerlink" title="网站首页的开发"></a>网站首页的开发</h1><h2 id="移动项目的开发中使用rem"><a href="#移动项目的开发中使用rem" class="headerlink" title="移动项目的开发中使用rem"></a>移动项目的开发中使用rem</h2><p>如果设计师给的是二倍屏中的86像素，对应就是一倍屏中的43像素，而reset.css中将<code>html&#123;font-size: 50px&#125;</code>，那么就有：1rem = html font size = 50px。所以43px = .86rem</p>
<h2 id="使用css预处理器stylus中的贯穿式变量"><a href="#使用css预处理器stylus中的贯穿式变量" class="headerlink" title="使用css预处理器stylus中的贯穿式变量"></a>使用css预处理器stylus中的贯穿式变量</h2><p>如果在样式中某一个颜色代码或者尺寸数字会被经常使用到，那么可以在styles文件夹下写一个varibles.styl文件专门用来存放这些个变量，然后在对应的css中引用：<code>@import &#39;../../../assets/styles/varilbes.styl&#39;</code>。这样写引用太复杂了，所以可以在<code>webpack.base.conf.js</code>中将styles目录设置一个别名:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>],</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;styles&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/assets/styles&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;common&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/common&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="使用占位来解决图片还未加载时候高度为0之后会有一个抖动的问题"><a href="#使用占位来解决图片还未加载时候高度为0之后会有一个抖动的问题" class="headerlink" title="使用占位来解决图片还未加载时候高度为0之后会有一个抖动的问题"></a>使用占位来解决图片还未加载时候高度为0之后会有一个抖动的问题</h2><p>给该图片区域包裹一层<code>&lt;div&gt;</code>标签，然后设置该区块的宽度为100%，而它的高度会根据宽度自动地撑开31.25%:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span></span><br><span class="line">    <span class="attribute">overflow</span> hidden</span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">padding-bottom</span> <span class="number">31.25%</span></span><br></pre></td></tr></table></figure>
<h2 id="css中的样式穿透"><a href="#css中的样式穿透" class="headerlink" title="css中的样式穿透"></a>css中的样式穿透</h2><p>当需要设置scoped外其它组件中的元素样式时，需要使用<code>&gt;&gt;&gt;</code>来进行一个样式穿透:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &gt;&gt;&gt; <span class="selector-class">.swiper-pagination-bullet-active</span></span><br><span class="line">    <span class="attribute">background</span> <span class="selector-id">#fff</span></span><br></pre></td></tr></table></figure>
<h2 id="使用vue-awesome-swiper来显示icon轮播效果时翻页的算法"><a href="#使用vue-awesome-swiper来显示icon轮播效果时翻页的算法" class="headerlink" title="使用vue-awesome-swiper来显示icon轮播效果时翻页的算法"></a>使用vue-awesome-swiper来显示icon轮播效果时翻页的算法</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 借助computed计算属性</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    pages () &#123;</span><br><span class="line">      <span class="keyword">const</span> pages = []</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">iconList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> page = <span class="title class_">Math</span>.<span class="title function_">floor</span>(index / <span class="number">8</span>)</span><br><span class="line">        <span class="keyword">if</span> (!pages[page]) &#123;</span><br><span class="line">          pages[page] = []</span><br><span class="line">        &#125;</span><br><span class="line">        pages[page].<span class="title function_">push</span>(item)</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> pages</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="使用css预处理器stylus中的混合书写Mixins"><a href="#使用css预处理器stylus中的混合书写Mixins" class="headerlink" title="使用css预处理器stylus中的混合书写Mixins"></a>使用css预处理器stylus中的混合书写Mixins</h2><p>提供…占位符来表示由于空间不够而被隐藏的内容，可以使用stylus中将该方法封装成mixins.styl，然后在需要的地方调用：<code>ellipsis()</code></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">ellipsis()</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  <span class="attribute">white-space</span> nowrap</span><br><span class="line">  <span class="attribute">text-overflow</span> ellipsis</span><br></pre></td></tr></table></figure>
<h2 id="在vue中使用axios"><a href="#在vue中使用axios" class="headerlink" title="在vue中使用axios"></a>在vue中使用axios</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    getHomeInfo () &#123;</span><br><span class="line">      axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/index.json?city=&#x27;</span> + <span class="variable language_">this</span>.<span class="property">city</span>)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="variable language_">this</span>.<span class="property">getHomeInfoSucc</span>) <span class="comment">// axios返回的是一个promise对象，所以可以调用.then方法</span></span><br><span class="line">    &#125;,</span><br><span class="line">    getHomeInfoSucc (res) &#123;</span><br><span class="line">      res = res.<span class="property">data</span></span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">ret</span> &amp;&amp; res.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> data = res.<span class="property">data</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">swiperList</span> = data.<span class="property">swiperList</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">iconList</span> = data.<span class="property">iconList</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">recommendList</span> = data.<span class="property">recommendList</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">weekendList</span> = data.<span class="property">weekendList</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mounted () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getHomeInfo</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activated () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getHomeInfo</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="城市选择页面开发"><a href="#城市选择页面开发" class="headerlink" title="城市选择页面开发"></a>城市选择页面开发</h1><h2 id="better-scroll的使用"><a href="#better-scroll的使用" class="headerlink" title="better-scroll的使用"></a>better-scroll的使用</h2><p>better-scroll是iscroll的一个封装，使用起来要更为友好。若要使用这个包，先要用<code>npm</code>安装:<code>npm install better-scroll --save</code>。然后html代码需要符合如下结构：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- you can put some other DOMs here, it won&#x27;t affect the scrolling --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在上面的代码中，better-scroll应用于外部wrapper容器，滚动部分是content元素。注意，better-scroll只处理容器（wrapper）的第一个子元素（内容）的滚动，这意味着将忽略其他元素。最简单的初始化代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">BScroll</span> <span class="keyword">from</span> <span class="string">&#x27;beetter-scroll&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> wrapper = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;wrapper&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> scroll = <span class="keyword">new</span> <span class="title class_">BScorll</span>(wrapper)</span><br></pre></td></tr></table></figure>
<p>better-scroll提供了一个类，其实例化时其第一个参数是普通DOM对象。当然，better-scroll内部会尝试使用querySelector来获取DOM对象，因此initiazation代码也可以如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">BScroll</span> <span class="keyword">from</span> <span class="string">&#x27;better-scroll&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> scroll = <span class="keyword">new</span> <span class="title class_">BScroll</span>(<span class="string">&#x27;.wrapper&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="获取拖拽动作最后得到的内容并做一个函数节流"><a href="#获取拖拽动作最后得到的内容并做一个函数节流" class="headerlink" title="获取拖拽动作最后得到的内容并做一个函数节流"></a>获取拖拽动作最后得到的内容并做一个函数节流</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">&quot;item of letters&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:ref</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">click</span>=<span class="string">&quot;handleLetterClick&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchstart.prevent</span>=<span class="string">&quot;handleTouchStart&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchmove</span>=<span class="string">&quot;handleTouchMove&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchend</span>=<span class="string">&quot;handleTouchEnd&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;CityAlphabet&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">cities</span>: <span class="title class_">Object</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">touchStatus</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">startY</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">timer</span>: <span class="literal">null</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  updated () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">startY</span> = <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;A&#x27;</span>][<span class="number">0</span>].<span class="property">offsetTop</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    letters () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> letters = []</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> <span class="variable language_">this</span>.<span class="property">cities</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        letters.<span class="title function_">push</span>(i)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> letters</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    handleLetterClick (e) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;change&#x27;</span>, e.<span class="property">target</span>.<span class="property">innerText</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handleTouchStart () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">touchStatus</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handleTouchMove (e) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">touchStatus</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">timer</span>) &#123; <span class="comment">// 函数节流</span></span></span><br><span class="line"><span class="language-javascript">          <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> touchY = e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span> - <span class="number">75</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>((touchY - <span class="variable language_">this</span>.<span class="property">startY</span>) / <span class="number">18</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; <span class="variable language_">this</span>.<span class="property">letters</span>.<span class="property">length</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.$emit(<span class="string">&#x27;change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">letters</span>[index])</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="number">16</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handleTouchEnd () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">touchStatus</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="详情页面的开发"><a href="#详情页面的开发" class="headerlink" title="详情页面的开发"></a>详情页面的开发</h1><h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><p><code>&lt;router-link&gt;</code>标签的to前面可以跟一个<code>:</code>来作一个动态路由，这样就可以传递出一个参数给router。调用这个参数可以通过<code>this.$router.params.id</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tag</span>=<span class="string">&quot;li&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;item border-bottom&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">&quot;item of recommendList&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:to</span>=<span class="string">&quot;&#x27;/detail/&#x27; + item.id&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;item-img&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.imgUrl&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;item-title&quot;</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;item-desc&quot;</span>&gt;</span>&#123;&#123;item.desc&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;item-btn&quot;</span>&gt;</span>查看详情<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="给DOM元素添加一个渐变的边框"><a href="#给DOM元素添加一个渐变的边框" class="headerlink" title="给DOM元素添加一个渐变的边框"></a>给DOM元素添加一个渐变的边框</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.banner-info</span></span><br><span class="line">    <span class="attribute">background-image</span> linear-gradient(<span class="attribute">top</span>, rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h2 id="实现顶部Header区域拖动渐隐渐现效果"><a href="#实现顶部Header区域拖动渐隐渐现效果" class="headerlink" title="实现顶部Header区域拖动渐隐渐现效果"></a>实现顶部Header区域拖动渐隐渐现效果</h2><p>如果通过给window对象绑定一个全局事件的方式来实现某个功能，那么要记得及时地对这个全局事件进行一个解绑，否则就会影响外部组件。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">name</span>: <span class="string">&#x27;DetailHeader&#x27;</span>,</span><br><span class="line">data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">showAbs</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">opacityStyle</span>: &#123;</span><br><span class="line">        <span class="attr">opacity</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    handleScroll () &#123;</span><br><span class="line">        <span class="keyword">const</span> top = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">        <span class="keyword">if</span> (top &gt; <span class="number">60</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> countOpacity = top / <span class="number">140</span></span><br><span class="line">            countOpacity = countOpacity &gt; <span class="number">1</span> ? <span class="number">1</span> : countOpacity</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">opacityStyle</span>.<span class="property">opacity</span> = countOpacity</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">showAbs</span> = <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">showAbs</span> = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">activated () &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleScroll</span>)</span><br><span class="line">&#125;,</span><br><span class="line">deactivated () &#123; <span class="comment">// 使用deactivated来对全局事件进行解绑，当退出这个页面时，此函数会被执行</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleScroll</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="递归组件"><a href="#递归组件" class="headerlink" title="递归组件"></a>递归组件</h2><p>在组件模板中调用组件的自身就叫做递归组件。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) of list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-title border-bottom&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;item-title-icon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        &#123;&#123;item.title&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;item.children&quot;</span> <span class="attr">class</span>=<span class="string">&quot;item-children&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">detail-list</span> <span class="attr">:list</span>=<span class="string">&quot;item.children&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">detail-list</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;DetailList&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">title</span>: <span class="string">&#x27;我是一级标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">children</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">title</span>: <span class="string">&#x27;我是二级标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">children</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                      <span class="attr">title</span>: <span class="string">&#x27;我是三级标题&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                  &#125;]</span></span><br><span class="line"><span class="language-javascript">              &#125;]</span></span><br><span class="line"><span class="language-javascript">          &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">title</span>: <span class="string">&#x27;我是一级标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">children</span>: [</span></span><br><span class="line"><span class="language-javascript">                  &#123;</span></span><br><span class="line"><span class="language-javascript">                      <span class="attr">title</span>: <span class="string">&#x27;我是二级标题&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                  &#125;</span></span><br><span class="line"><span class="language-javascript">              ]</span></span><br><span class="line"><span class="language-javascript">          &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">title</span>: <span class="string">&#x27;我是一级标题&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>vue</tag>
        <tag>stylus</tag>
        <tag>travelweb</tag>
        <tag>vue-awesome-swiper</tag>
        <tag>axios</tag>
        <tag>better-scroll</tag>
        <tag>vuex</tag>
        <tag>localstorge</tag>
        <tag>keep-alive</tag>
        <tag>vue-router</tag>
        <tag>动态路由</tag>
        <tag>父子组件间传递数据</tag>
        <tag>递归组建</tag>
        <tag>移动开发</tag>
        <tag>reset.css</tag>
        <tag>1像素边框</tag>
        <tag>300ms点击延时</tag>
        <tag>rem</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue深入理解</title>
    <url>/2019/04/15/Vue%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="组件化基础"><a href="#组件化基础" class="headerlink" title="组件化基础"></a>组件化基础</h1><p>​    传统组件，只是静态渲染，更新还是要依赖于操作<code>DOM</code>，比如<code>JQuery</code>。而<code>Vue</code>的<code>MVVM</code>、<code>React</code>的<code>setState</code>都是<code>数据驱动视图的框架</code>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/f527UQ.jpg" alt="f527UQ"></p>
<p>​    第一个<code>M（Model）</code>表示的是<code>Vue</code>组件中的<code>Data</code>部分，第二个<code>V（View）</code>表示的是<code>Vue</code>组件中的视图，也就是html模板，而<code>VM（ViewModel）</code>比较抽象，可以理解为<code>Vue</code>提供的能力，是<code>View</code>层和<code>Model</code>层连接的部分，具像化来说就是<code>Vue</code>的指令、方法等等。</p>
<h1 id="Vue响应式"><a href="#Vue响应式" class="headerlink" title="Vue响应式"></a>Vue响应式</h1><ul>
<li>组件data的数据一旦变化，立刻触发视图的更新</li>
<li>实现数据驱动视图的第一步</li>
<li>核心API: Object.defineProperty()</li>
</ul>
<h2 id="Object-defineProperty-基本用法"><a href="#Object-defineProperty-基本用法" class="headerlink" title="Object.defineProperty()基本用法"></a>Object.defineProperty()基本用法</h2><blockquote>
<p><strong>Object.defineProperty(obj, prop/key, descriptor)</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>)</span><br><span class="line">        name = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">name</span>) <span class="comment">// get zhangsan</span></span><br><span class="line">data.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span> <span class="comment">// set</span></span><br></pre></td></tr></table></figure>
<h2 id="深度监听data变化"><a href="#深度监听data变化" class="headerlink" title="深度监听data变化"></a>深度监听data变化</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 触发更新视图</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateView</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;视图更新&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 🌟🌟🌟重新定义数组原型</span></span><br><span class="line"><span class="keyword">const</span> oldArrayProperty = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="comment">// 🌟🌟🌟创建新对象，原型指向 oldArrayProperty ，再扩展新的方法（触发视图更新）不会影响原型</span></span><br><span class="line"><span class="keyword">const</span> arrProto = <span class="title class_">Object</span>.<span class="title function_">create</span>(oldArrayProperty);</span><br><span class="line">[<span class="string">&#x27;push&#x27;</span>, <span class="string">&#x27;pop&#x27;</span>, <span class="string">&#x27;shift&#x27;</span>, <span class="string">&#x27;unshift&#x27;</span>, <span class="string">&#x27;splice&#x27;</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">methodName</span> =&gt;</span> &#123;</span><br><span class="line">    arrProto[methodName] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">updateView</span>() <span class="comment">// 触发视图更新</span></span><br><span class="line">        oldArrayProperty[methodName].<span class="title function_">call</span>(<span class="variable language_">this</span>, ...<span class="variable language_">arguments</span>)</span><br><span class="line">        <span class="comment">// Array.prototype.push.call(this, ...arguments)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重新定义属性，监听起来</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">target, key, value</span>) &#123;</span><br><span class="line">    <span class="comment">// ⭐⭐⭐深度监听</span></span><br><span class="line">    <span class="title function_">observer</span>(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 核心 API</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, key, &#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (newValue !== value) &#123;</span><br><span class="line">                <span class="comment">// 深度监听</span></span><br><span class="line">                <span class="title function_">observer</span>(newValue)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 设置新值</span></span><br><span class="line">                <span class="comment">// 注意，value 一直在闭包中，此处设置完之后，再 get 时也是会获取最新的值</span></span><br><span class="line">                value = newValue</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 触发更新视图</span></span><br><span class="line">                <span class="title function_">updateView</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听对象属性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">observer</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// 不是对象或数组 就直接返回</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> target !== <span class="string">&#x27;object&#x27;</span> || target === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 污染全局的 Array 原型，不可取</span></span><br><span class="line">    <span class="comment">// Array.prototype.push = function () &#123;</span></span><br><span class="line">    <span class="comment">//     updateView()</span></span><br><span class="line">    <span class="comment">//     ...</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果target是数组，那么将target的原型复制成重写过的数组原型</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(target)) &#123;</span><br><span class="line">        target.<span class="property">__proto__</span> = arrProto</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重新定义各个属性（for in 也可以遍历数组）</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        <span class="title function_">defineReactive</span>(target, key, target[key])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备数据</span></span><br><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">info</span>: &#123;</span><br><span class="line">        <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span> <span class="comment">// 需要深度监听</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">nums</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听数据</span></span><br><span class="line"><span class="title function_">observer</span>(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line">data.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span></span><br><span class="line">data.<span class="property">age</span> = <span class="number">21</span></span><br><span class="line"><span class="comment">// console.log(&#x27;age&#x27;, data.age)</span></span><br><span class="line"></span><br><span class="line">data.<span class="property">x</span> = <span class="string">&#x27;100&#x27;</span> <span class="comment">// 新增属性，监听不到 —— 所以有 Vue.set</span></span><br><span class="line"><span class="keyword">delete</span> data.<span class="property">name</span> <span class="comment">// 删除属性，监听不到 —— 所以有 Vue.delete</span></span><br><span class="line"></span><br><span class="line">data.<span class="property">info</span>.<span class="property">address</span> = <span class="string">&#x27;上海&#x27;</span> <span class="comment">// 深度监听</span></span><br><span class="line"></span><br><span class="line">data.<span class="property">nums</span>.<span class="title function_">push</span>(<span class="number">4</span>) <span class="comment">// 监听数组</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/ApRqGd.png" alt="ApRqGd"></p>
<h3 id="Object-defineProperty-的缺陷"><a href="#Object-defineProperty-的缺陷" class="headerlink" title="Object.defineProperty()的缺陷"></a>Object.defineProperty()的缺陷</h3><ul>
<li>深度监听时需要递归到底，一次性计算量大</li>
<li>无法监听新增属性/删除属性（Vue.set / Vue.delete）</li>
<li>无法原生监听数组，需要特殊处理</li>
</ul>
<h1 id="虚拟DOM-Virture-DOM"><a href="#虚拟DOM-Virture-DOM" class="headerlink" title="虚拟DOM(Virture DOM)"></a>虚拟DOM(Virture DOM)</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>​    <code>DOM</code>操作既耗时也耗费性能，而<code>JS</code>的执行是比较快的。以前用<code>jQuery</code>，可以自行控制<code>DOM</code>操作的时机，手动调整。而<code>Vue</code>和<code>React</code>都是数据驱动视图，如何有效控制<code>DOM</code>操作？当代<code>web</code>页面的复杂度日益提升，有了一定的复杂度，想减少计算次数比较难，那么能不能把计算，更多地转移为<code>JS</code>计算。解决方案就是<code>vdom</code>。用<code>JS</code>来模拟<code>DOM</code>结构，计算出最小的变更，再来操作<code>DOM</code>。</p>
<h2 id="用JS模拟DOM结构"><a href="#用JS模拟DOM结构" class="headerlink" title="用JS模拟DOM结构"></a>用JS模拟DOM结构</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>vdom<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 20px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 🌟🌟🌟三要素</span></span><br><span class="line"><span class="comment"> * tag/el/sel: 标签或者选择器</span></span><br><span class="line"><span class="comment"> * props: 属性、样式、事件</span></span><br><span class="line"><span class="comment"> * children: 子元素/子节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">className</span>: <span class="string">&#x27;container&#x27;</span>,</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;div1&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;p&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: <span class="string">&#x27;vdom&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;ul&#x27;</span>,</span><br><span class="line">            <span class="attr">props</span>: &#123;</span><br><span class="line">                <span class="attr">style</span>: <span class="string">&#x27;font-size: 20px;&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">tag</span>: <span class="string">&#x27;li&#x27;</span>,</span><br><span class="line">                    <span class="attr">children</span>: <span class="string">&#x27;a&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="diff算法"><a href="#diff算法" class="headerlink" title="diff算法"></a>diff算法</h1><h2 id="diff算法概述"><a href="#diff算法概述" class="headerlink" title="diff算法概述"></a>diff算法概述</h2><ul>
<li><code>diff</code>即对比，是一个广泛的概念，如<code>linux</code> 的<code>diff</code>命令、<code>git diff</code>等</li>
<li>两个<code>js</code>对象也可以做<code>diff</code>，如 <a href="http://github.com/cujojs/jiff">http://github.com/cujojs/jiff</a></li>
<li>两棵树做<code>diff</code>，如这里的 <code>vdom diff</code>。</li>
</ul>
<p>![image-20200714140541476](/Users/su/Library/Application Support/typora-user-images/image-20200714140541476.png)</p>
<h3 id="树的diff算法时间复杂度为O-n-3"><a href="#树的diff算法时间复杂度为O-n-3" class="headerlink" title="树的diff算法时间复杂度为O(n^3):"></a>树的diff算法时间复杂度为O(n^3):</h3><ul>
<li>第一，遍历tree1；第二，遍历tree2；</li>
<li>第三，排序；</li>
<li>如果有1000个节点，那么就要计算10亿次，所以算法不可用</li>
</ul>
<h2 id="🌟🌟🌟优化时间复杂度到O-n"><a href="#🌟🌟🌟优化时间复杂度到O-n" class="headerlink" title="🌟🌟🌟优化时间复杂度到O(n)"></a>🌟🌟🌟优化时间复杂度到O(n)</h2><ul>
<li>只比较同一层级，不跨级比较；</li>
<li>tag不相同，则直接删掉重建，不再深度比较；</li>
<li>tag和key，两者都相同，则认为是相同节点，不再深度比较。</li>
</ul>
<h2 id="Snabbdom源码"><a href="#Snabbdom源码" class="headerlink" title="Snabbdom源码"></a>Snabbdom源码</h2><p><a href="https://github.com/snabbdom/snabbdom">snabbdom</a>是一个简洁强大的vdom库，易学易用。Vue也是参考它来实现的vdom和diff。</p>
<h3 id="patch-函数"><a href="#patch-函数" class="headerlink" title="patch()函数"></a>patch()函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">patch</span> (<span class="attr">oldVnode</span>: <span class="title class_">VNode</span> | <span class="title class_">Element</span>, <span class="attr">vnode</span>: <span class="title class_">VNode</span>): <span class="title class_">VNode</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">i</span>: number, <span class="attr">elm</span>: <span class="title class_">Node</span>, <span class="attr">parent</span>: <span class="title class_">Node</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">insertedVnodeQueue</span>: <span class="title class_">VNodeQueue</span> = [];</span><br><span class="line">    <span class="comment">// 执行 pre hook</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; cbs.<span class="property">pre</span>.<span class="property">length</span>; ++i) cbs.<span class="property">pre</span>[i]();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一个参数不是 vnode</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">isVnode</span>(oldVnode)) &#123;</span><br><span class="line">      <span class="comment">// 创建一个空的 vnode ，关联到这个 DOM 元素</span></span><br><span class="line">      oldVnode = <span class="title function_">emptyNodeAt</span>(oldVnode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相同的 vnode（key 和 sel 都相等）</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldVnode, vnode)) &#123;</span><br><span class="line">      <span class="comment">// vnode 对比</span></span><br><span class="line">      <span class="title function_">patchVnode</span>(oldVnode, vnode, insertedVnodeQueue);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 不同的 vnode ，直接删掉重建</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      elm = oldVnode.<span class="property">elm</span>!;</span><br><span class="line">      parent = api.<span class="title function_">parentNode</span>(elm);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 重建</span></span><br><span class="line">      <span class="title function_">createElm</span>(vnode, insertedVnodeQueue);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (parent !== <span class="literal">null</span>) &#123;</span><br><span class="line">        api.<span class="title function_">insertBefore</span>(parent, vnode.<span class="property">elm</span>!, api.<span class="title function_">nextSibling</span>(elm));</span><br><span class="line">        <span class="title function_">removeVnodes</span>(parent, [oldVnode], <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; insertedVnodeQueue.<span class="property">length</span>; ++i) &#123;</span><br><span class="line">      insertedVnodeQueue[i].<span class="property">data</span>!.<span class="property">hook</span>!.<span class="property">insert</span>!(insertedVnodeQueue[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; cbs.<span class="property">post</span>.<span class="property">length</span>; ++i) cbs.<span class="property">post</span>[i]();</span><br><span class="line">    <span class="keyword">return</span> vnode;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="patchVnode-函数"><a href="#patchVnode-函数" class="headerlink" title="patchVnode()函数"></a>patchVnode()函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 🌟🌟🌟 patchVnode过程</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">patchVnode</span> (<span class="attr">oldVnode</span>: <span class="title class_">VNode</span>, <span class="attr">vnode</span>: <span class="title class_">VNode</span>, <span class="attr">insertedVnodeQueue</span>: <span class="title class_">VNodeQueue</span>) &#123;</span><br><span class="line">    <span class="comment">// 执行 prepatch hook</span></span><br><span class="line">    <span class="keyword">const</span> hook = vnode.<span class="property">data</span>?.<span class="property">hook</span>;</span><br><span class="line">    hook?.<span class="property">prepatch</span>?.(oldVnode, vnode);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置 vnode.elem</span></span><br><span class="line">    <span class="keyword">const</span> elm = vnode.<span class="property">elm</span> = oldVnode.<span class="property">elm</span>!;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 旧 children</span></span><br><span class="line">    <span class="keyword">let</span> oldCh = oldVnode.<span class="property">children</span> <span class="keyword">as</span> <span class="title class_">VNode</span>[];</span><br><span class="line">    <span class="comment">// 新 children</span></span><br><span class="line">    <span class="keyword">let</span> ch = vnode.<span class="property">children</span> <span class="keyword">as</span> <span class="title class_">VNode</span>[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldVnode === vnode) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// hook 相关</span></span><br><span class="line">    <span class="keyword">if</span> (vnode.<span class="property">data</span> !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cbs.<span class="property">update</span>.<span class="property">length</span>; ++i) cbs.<span class="property">update</span>[i](oldVnode, vnode);</span><br><span class="line">      vnode.<span class="property">data</span>.<span class="property">hook</span>?.<span class="property">update</span>?.(oldVnode, vnode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// vnode.text === undefined （vnode.children 一般有值）</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isUndef</span>(vnode.<span class="property">text</span>)) &#123;</span><br><span class="line">      <span class="comment">// 新旧都有 children</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">isDef</span>(oldCh) &amp;&amp; <span class="title function_">isDef</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldCh !== ch) <span class="title function_">updateChildren</span>(elm, oldCh, ch, insertedVnodeQueue);</span><br><span class="line">      <span class="comment">// 新 children 有，旧 children 无 （旧 text 有）</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">isDef</span>(ch)) &#123;</span><br><span class="line">        <span class="comment">// 清空 text</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isDef</span>(oldVnode.<span class="property">text</span>)) api.<span class="title function_">setTextContent</span>(elm, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">        <span class="comment">// 添加 children</span></span><br><span class="line">        <span class="title function_">addVnodes</span>(elm, <span class="literal">null</span>, ch, <span class="number">0</span>, ch.<span class="property">length</span> - <span class="number">1</span>, insertedVnodeQueue);</span><br><span class="line">      <span class="comment">// 旧 child 有，新 child 无</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">isDef</span>(oldCh)) &#123;</span><br><span class="line">        <span class="comment">// 移除 children</span></span><br><span class="line">        <span class="title function_">removeVnodes</span>(elm, oldCh, <span class="number">0</span>, oldCh.<span class="property">length</span> - <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// 旧 text 有</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">isDef</span>(oldVnode.<span class="property">text</span>)) &#123;</span><br><span class="line">        api.<span class="title function_">setTextContent</span>(elm, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// else : vnode.text !== undefined （vnode.children 无值）</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldVnode.<span class="property">text</span> !== vnode.<span class="property">text</span>) &#123;</span><br><span class="line">      <span class="comment">// 移除旧 children</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">isDef</span>(oldCh)) &#123;</span><br><span class="line">        <span class="title function_">removeVnodes</span>(elm, oldCh, <span class="number">0</span>, oldCh.<span class="property">length</span> - <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 设置新 text</span></span><br><span class="line">      api.<span class="title function_">setTextContent</span>(elm, vnode.<span class="property">text</span>!);</span><br><span class="line">    &#125;</span><br><span class="line">    hook?.<span class="property">postpatch</span>?.(oldVnode, vnode);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="updateChildren-函数"><a href="#updateChildren-函数" class="headerlink" title="updateChildren()函数"></a>updateChildren()函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">updateChildren</span> (<span class="attr">parentElm</span>: <span class="title class_">Node</span>,</span><br><span class="line">    <span class="attr">oldCh</span>: <span class="title class_">VNode</span>[],</span><br><span class="line">    <span class="attr">newCh</span>: <span class="title class_">VNode</span>[],</span><br><span class="line">    <span class="attr">insertedVnodeQueue</span>: <span class="title class_">VNodeQueue</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> oldStartIdx = <span class="number">0</span>, newStartIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> oldEndIdx = oldCh.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> oldStartVnode = oldCh[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> oldEndVnode = oldCh[oldEndIdx];</span><br><span class="line">    <span class="keyword">let</span> newEndIdx = newCh.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> newStartVnode = newCh[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> newEndVnode = newCh[newEndIdx];</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">oldKeyToIdx</span>: <span class="title class_">KeyToIndexMap</span> | <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">idxInOld</span>: number;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">elmToMove</span>: <span class="title class_">VNode</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">before</span>: any;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (oldStartVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]; <span class="comment">// Vnode might have been moved left</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldEndVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newStartVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newEndVnode == <span class="literal">null</span>) &#123;</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 开始和开始对比</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldStartVnode, newStartVnode)) &#123;</span><br><span class="line">        <span class="title function_">patchVnode</span>(oldStartVnode, newStartVnode, insertedVnodeQueue);</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx];</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 结束和结束对比</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldEndVnode, newEndVnode)) &#123;</span><br><span class="line">        <span class="title function_">patchVnode</span>(oldEndVnode, newEndVnode, insertedVnodeQueue);</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 开始和结束对比</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldStartVnode, newEndVnode)) &#123; <span class="comment">// Vnode moved right</span></span><br><span class="line">        <span class="title function_">patchVnode</span>(oldStartVnode, newEndVnode, insertedVnodeQueue);</span><br><span class="line">        api.<span class="title function_">insertBefore</span>(parentElm, oldStartVnode.<span class="property">elm</span>!, api.<span class="title function_">nextSibling</span>(oldEndVnode.<span class="property">elm</span>!));</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx];</span><br><span class="line">        newEndVnode = newCh[--newEndIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 结束和开始对比</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldEndVnode, newStartVnode)) &#123; <span class="comment">// Vnode moved left</span></span><br><span class="line">        <span class="title function_">patchVnode</span>(oldEndVnode, newStartVnode, insertedVnodeQueue);</span><br><span class="line">        api.<span class="title function_">insertBefore</span>(parentElm, oldEndVnode.<span class="property">elm</span>!, oldStartVnode.<span class="property">elm</span>!);</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx];</span><br><span class="line">        newStartVnode = newCh[++newStartIdx];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 以上四个都未命中</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldKeyToIdx === <span class="literal">undefined</span>) &#123;</span><br><span class="line">          oldKeyToIdx = <span class="title function_">createKeyToOldIdx</span>(oldCh, oldStartIdx, oldEndIdx);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 拿新节点 key ，能否对应上 oldCh 中的某个节点的 key</span></span><br><span class="line">        idxInOld = oldKeyToIdx[newStartVnode.<span class="property">key</span> <span class="keyword">as</span> string];</span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 没对应上</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isUndef</span>(idxInOld)) &#123; <span class="comment">// New element</span></span><br><span class="line">          api.<span class="title function_">insertBefore</span>(parentElm, <span class="title function_">createElm</span>(newStartVnode, insertedVnodeQueue), oldStartVnode.<span class="property">elm</span>!);</span><br><span class="line">          newStartVnode = newCh[++newStartIdx];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 对应上了</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// 对应上 key 的节点</span></span><br><span class="line">          elmToMove = oldCh[idxInOld];</span><br><span class="line"></span><br><span class="line">          <span class="comment">// sel 是否相等（sameVnode 的条件）</span></span><br><span class="line">          <span class="keyword">if</span> (elmToMove.<span class="property">sel</span> !== newStartVnode.<span class="property">sel</span>) &#123;</span><br><span class="line">            <span class="comment">// New element</span></span><br><span class="line">            api.<span class="title function_">insertBefore</span>(parentElm, <span class="title function_">createElm</span>(newStartVnode, insertedVnodeQueue), oldStartVnode.<span class="property">elm</span>!);</span><br><span class="line">          </span><br><span class="line">          <span class="comment">// sel 相等，key 相等</span></span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">patchVnode</span>(elmToMove, newStartVnode, insertedVnodeQueue);</span><br><span class="line">            oldCh[idxInOld] = <span class="literal">undefined</span> <span class="keyword">as</span> any;</span><br><span class="line">            api.<span class="title function_">insertBefore</span>(parentElm, elmToMove.<span class="property">elm</span>!, oldStartVnode.<span class="property">elm</span>!);</span><br><span class="line">          &#125;</span><br><span class="line">          newStartVnode = newCh[++newStartIdx];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (oldStartIdx &lt;= oldEndIdx || newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class="line">        before = newCh[newEndIdx + <span class="number">1</span>] == <span class="literal">null</span> ? <span class="literal">null</span> : newCh[newEndIdx + <span class="number">1</span>].<span class="property">elm</span>;</span><br><span class="line">        <span class="title function_">addVnodes</span>(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">removeVnodes</span>(parentElm, oldCh, oldStartIdx, oldEndIdx);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="模板编译"><a href="#模板编译" class="headerlink" title="模板编译"></a>模板编译</h1><p>​    模板是<code>Vue</code>开发中最常用的部分，它不是<code>html</code>，有指令、插值、JS表达式。能实现判断、循环。<code>html</code>只是标签语言，只有<code>JS</code>才能实现<u>顺序执行、判断、循环</u>（<strong><code>图灵完备的</code></strong>）。因此，模板一定是转换为某种<code>JS</code>代码，即编译模板。了解了模板渲染，就能知道“组件渲染和更新过程”。</p>
<ul>
<li>前置知识：<code>JS</code>的<code>with</code>语法</li>
<li><code>vue template complier</code> 将模板编译为<code>render</code>函数</li>
<li>模板编译为<code>render</code>函数，执行<code>render</code>函数生成<code>vnode</code>，基于<code>vnode</code>再去执行<code>patch</code>和<code>diff</code>。</li>
<li>使用<code>webpack</code>的<code>vue-loader</code>，会在开发环境下编译模板，即解析模板为<code>render</code>函数（重要）</li>
</ul>
<h2 id="with语法"><a href="#with语法" class="headerlink" title="with语法"></a>with语法</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/FX9vtl.png" alt="FX9vtl"></p>
<ul>
<li>改变 <code>&#123;&#125;</code> 内自由变量的查找方式，即当作<code>obj</code>属性来查找</li>
<li>如果找不到匹配的<code>obj</code>属性，就会报错</li>
<li>🌟🌟🌟 <code>with</code>要慎用，它打破了作用域规则，易读性变差（基本上不推荐使用）</li>
</ul>
<h2 id="模板编译具体实现"><a href="#模板编译具体实现" class="headerlink" title="模板编译具体实现"></a>模板编译具体实现</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> compiler = <span class="built_in">require</span>(<span class="string">&#x27;vue-template-compiler&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插值</span></span><br><span class="line"><span class="keyword">const</span> template = <span class="string">`&lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;`</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;p&#x27;,[_v(_s(message))])&#125;</span></span><br><span class="line"><span class="comment">// with(this)&#123;return createElement(&#x27;p&#x27;,[createTextVNode(toString(message))])&#125;</span></span><br><span class="line"><span class="comment">// _c == createElement == h</span></span><br><span class="line"><span class="comment">// h -&gt; vnode | createElement -&gt; vnode</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // 表达式</span></span><br><span class="line"><span class="comment">// const template = `&lt;p&gt;&#123;&#123;flag ? message : &#x27;no message found&#x27;&#125;&#125;&lt;/p&gt;`</span></span><br><span class="line"><span class="comment">// // with(this)&#123;return _c(&#x27;p&#x27;,[_v(_s(flag ? message : &#x27;no message found&#x27;))])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // 属性和动态属性</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;div id=&quot;div1&quot; class=&quot;container&quot;&gt;</span></span><br><span class="line"><span class="comment">//         &lt;img :src=&quot;imgUrl&quot;/&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/div&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;div&#x27;,</span></span><br><span class="line"><span class="comment">//      &#123;staticClass:&quot;container&quot;,attrs:&#123;&quot;id&quot;:&quot;div1&quot;&#125;&#125;,</span></span><br><span class="line"><span class="comment">//      [</span></span><br><span class="line"><span class="comment">//          _c(&#x27;img&#x27;,&#123;attrs:&#123;&quot;src&quot;:imgUrl&#125;&#125;)])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // 条件</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;div&gt;</span></span><br><span class="line"><span class="comment">//         &lt;p v-if=&quot;flag === &#x27;a&#x27;&quot;&gt;A&lt;/p&gt;</span></span><br><span class="line"><span class="comment">//         &lt;p v-else&gt;B&lt;/p&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/div&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;div&#x27;,[(flag === &#x27;a&#x27;)?_c(&#x27;p&#x27;,[_v(&quot;A&quot;)]):_c(&#x27;p&#x27;,[_v(&quot;B&quot;)])])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;ul&gt;</span></span><br><span class="line"><span class="comment">//         &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">//     &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;ul&#x27;,_l((list),function(item)&#123;return _c(&#x27;li&#x27;,&#123;key:item.id&#125;,[_v(_s(item.title))])&#125;),0)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 事件</span></span><br><span class="line"><span class="comment">// const template = `</span></span><br><span class="line"><span class="comment">//     &lt;button @click=&quot;clickHandler&quot;&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="comment">// `</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;button&#x27;,&#123;on:&#123;&quot;click&quot;:clickHandler&#125;&#125;,[_v(&quot;submit&quot;)])&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// v-model</span></span><br><span class="line"><span class="comment">// const template = `&lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;`</span></span><br><span class="line"><span class="comment">// 主要看 input 事件</span></span><br><span class="line"><span class="comment">// with(this)&#123;return _c(&#x27;input&#x27;,&#123;directives:[&#123;name:&quot;model&quot;,rawName:&quot;v-model&quot;,value:(name),expression:&quot;name&quot;&#125;],attrs:&#123;&quot;type&quot;:&quot;text&quot;&#125;,domProps:&#123;&quot;value&quot;:(name)&#125;,on:&#123;&quot;input&quot;:function($event)&#123;if($event.target.composing)return;name=$event.target.value&#125;&#125;&#125;)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// render 函数</span></span><br><span class="line"><span class="comment">// 返回 vnode</span></span><br><span class="line"><span class="comment">// patch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译</span></span><br><span class="line"><span class="keyword">const</span> res = compiler.<span class="title function_">compile</span>(template)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">render</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 🌟🌟🌟 从 vue 源码中找到缩写函数的含义</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">installRenderHelpers</span> (target) &#123;</span><br><span class="line">    target.<span class="property">_c</span> = createElement;</span><br><span class="line">    target.<span class="property">_o</span> = markOnce;</span><br><span class="line">    target.<span class="property">_n</span> = toNumber;</span><br><span class="line">    target.<span class="property">_s</span> = toString;</span><br><span class="line">    target.<span class="property">_l</span> = renderList;</span><br><span class="line">    target.<span class="property">_t</span> = renderSlot;</span><br><span class="line">    target.<span class="property">_q</span> = looseEqual;</span><br><span class="line">    target.<span class="property">_i</span> = looseIndexOf;</span><br><span class="line">    target.<span class="property">_m</span> = renderStatic;</span><br><span class="line">    target.<span class="property">_f</span> = resolveFilter;</span><br><span class="line">    target.<span class="property">_k</span> = checkKeyCodes;</span><br><span class="line">    target.<span class="property">_b</span> = bindObjectProps;</span><br><span class="line">    target.<span class="property">_v</span> = createTextVNode;</span><br><span class="line">    target.<span class="property">_e</span> = createEmptyVNode;</span><br><span class="line">    target.<span class="property">_u</span> = resolveScopedSlots;</span><br><span class="line">    target.<span class="property">_g</span> = bindObjectListeners;</span><br><span class="line">    target.<span class="property">_d</span> = bindDynamicKeys;</span><br><span class="line">    target.<span class="property">_p</span> = prependModifier;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="vue组件中使用render代替template"><a href="#vue组件中使用render代替template" class="headerlink" title="vue组件中使用render代替template"></a>vue组件中使用render代替template</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;heading&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// template: `xxx`,</span></span><br><span class="line">    <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params">createElement</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">createElement</span>(</span><br><span class="line">            <span class="string">&#x27;h&#x27;</span> + <span class="variable language_">this</span>.<span class="property">level</span>, <span class="comment">// h1、h2等标题</span></span><br><span class="line">            [</span><br><span class="line">                <span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">                    <span class="attr">attrs</span>: &#123;</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;headerId&#x27;</span>,</span><br><span class="line">                        <span class="attr">href</span>: <span class="string">&#x27;#&#x27;</span> + <span class="string">&#x27;headerId&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, <span class="string">&#x27;this is a tag&#x27;</span>)</span><br><span class="line">            ]</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>在有些复杂情况中，不能用<code>template</code>，可以考虑用<code>render</code></li>
<li><code>React</code>一直都在用<code>render</code>（没有模板），和这里一样</li>
</ul>
<h1 id="vue组件的渲染和更新"><a href="#vue组件的渲染和更新" class="headerlink" title="vue组件的渲染和更新"></a>vue组件的渲染和更新</h1><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/I4Rn1o.jpg" alt="I4Rn1o"></p>
<h2 id="初次渲染过程"><a href="#初次渲染过程" class="headerlink" title="初次渲染过程"></a>初次渲染过程</h2><ol>
<li>解析模板为 render 函数（或在开发环境中已完成，vue-loader）</li>
<li>触发响应式，监听 data 属性 getter setter</li>
<li>执行 render 函数，生成vnode ， patch(elem, vnode)</li>
</ol>
<h3 id="执行render函数-会触发getter"><a href="#执行render函数-会触发getter" class="headerlink" title="执行render函数 会触发getter"></a>执行render函数 会触发getter</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="title function_">data</span>(<span class="params"></span>)	&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">message</span>: <span class="string">&#x27;hello&#x27;</span>,	<span class="comment">// 会触发 get</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">city</span>: <span class="string">&#x27;hangzhou&#x27;</span> <span class="comment">// 不会触发 get 因为模板没有用到，即和视图没有关系</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="更新过程"><a href="#更新过程" class="headerlink" title="更新过程"></a>更新过程</h2><ol>
<li>修改 data，触发setter（此前在getter中已被监听）</li>
<li>重新执行 render 函数，生成 newVnode</li>
<li>patch(vnode, newVnode)</li>
</ol>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>响应式</tag>
        <tag>mvvm</tag>
        <tag>vdom</tag>
        <tag>diff</tag>
      </tags>
  </entry>
  <entry>
    <title>Webpack性能优化</title>
    <url>/2019/07/20/Webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="优化打包构建速度-开发体验和效率"><a href="#优化打包构建速度-开发体验和效率" class="headerlink" title="优化打包构建速度 - 开发体验和效率"></a>优化打包构建速度 - 开发体验和效率</h1><h2 id="优化babel-loader"><a href="#优化babel-loader" class="headerlink" title="优化babel-loader"></a>优化babel-loader</h2><ul>
<li>开启缓存（只用于开发环境即可）</li>
<li>明确范围 / 排除范围 （生产环境）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;babel-loader?cacheDirectory&#x27;</span>], <span class="comment">// 开启缓存</span></span><br><span class="line">                <span class="attr">include</span>: srcPath, <span class="comment">// 明确范围</span></span><br><span class="line">                <span class="comment">// exclude: /node_modules/ // 排除范围，include 和 exclude 二选一即可</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br></pre></td></tr></table></figure>
<h2 id="IgnorePlugin"><a href="#IgnorePlugin" class="headerlink" title="IgnorePlugin"></a>IgnorePlugin</h2><ul>
<li>这是webpack内置插件</li>
<li>这个插件的作用是：忽略第三方包指定目录，让这些指定目录不要被打包进去</li>
<li>要用于生产环境</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置语言</span></span><br><span class="line">moment.<span class="title function_">locale</span>(<span class="string">&#x27;zh-cn&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> r = <span class="title function_">moment</span>().<span class="title function_">endOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">fromNow</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r);</span><br></pre></td></tr></table></figure>
<p>​    比如我们要使用<code>moment</code>这个第三方依赖库，该库主要是对时间进行格式化，并且支持多个国家语言。这样打印出来的就是中文的时间，因为我在使用这个API的时候，前面设置了语言类型<code>moment.locale</code>为中文<code>zh-cn</code>。但是，虽然我设置了语言为中文，但是在打包的时候，是会将所有语言都打包进去的。这样就导致包很大，打包速度又慢，所以，最好能够少打包一些没用的依赖目录进去，而<code>moment</code>的包含<code>&#39;./locale/&#39;</code>该字段路径的文件目录就是各国语言的目录，比如<code>&#39;./locale/zh-cn&#39;</code>就是中文语言。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Webpack</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line">  <span class="comment">// moment这个库中，如果引用了./locale/目录的内容，就忽略掉，不会打包进去</span></span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Webpack</span>.<span class="title class_">IgnorePlugin</span>(<span class="regexp">/\.\/locale/</span>,<span class="regexp">/moment/</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>​    但这样问题又来了，我们虽然按照上面的方法忽略了包含’./locale/‘该字段路径的文件目录,但是也使得我们使用的时候不能显示中文语言了，所以这个时候需要手动引入中文语言的目录：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line"><span class="comment">//手动引入所需要的语言包</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;moment/locale/zh-cn&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置语言</span></span><br><span class="line">moment.<span class="title function_">locale</span>(<span class="string">&#x27;zh-cn&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> r = <span class="title function_">moment</span>().<span class="title function_">endOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">fromNow</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r);</span><br></pre></td></tr></table></figure>
<p>​    这样就OK了。既能够显示中文，又把不必要的语言包都忽略打包了。</p>
<h2 id="noParse"><a href="#noParse" class="headerlink" title="noParse"></a>noParse</h2><p>​    <code>noParse</code>作用主要是过滤不需要解析的文件，比如打包的时候依赖了三方库（<code>jQuery</code>、<code>lodash</code>）等，而这些三方库里面没有其他依赖，可以通过配置<code>noParse</code>不去解析文件，提高打包效率。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="attr">mode</span>:<span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">	<span class="attr">entry</span>:<span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">	<span class="attr">output</span>:&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">module</span>:&#123;</span><br><span class="line">		<span class="attr">noParse</span>:<span class="regexp">/jquery/</span>, <span class="comment">// 🌟🌟🌟 不去解析jquery中的依赖库</span></span><br><span class="line">		<span class="attr">rules</span>:[</span><br><span class="line">			...</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">plugins</span>:[</span><br><span class="line">		...</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="happyPack-多进程打包"><a href="#happyPack-多进程打包" class="headerlink" title="happyPack - 多进程打包"></a>happyPack - 多进程打包</h2><ul>
<li><code>JS</code>是单线程，开启多进程打包更快</li>
<li>提高构建速度（特别是针对多核<code>CPU</code>）</li>
<li>可以单独在生产环境中配置，也可以放在公共配置中。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js or webpack.common.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HappyPack</span> = <span class="built_in">require</span>(<span class="string">&#x27;happypack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// js</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="comment">// 🌟🌟🌟 把对 .js 文件的处理转交给 id 为 babel 的 HappyPack 实例（对应下面）</span></span><br><span class="line">                <span class="attr">use</span>: [<span class="string">&#x27;happypack/loader?id=babel&#x27;</span>],</span><br><span class="line">                <span class="attr">include</span>: srcPath,</span><br><span class="line">                <span class="comment">// exclude: /node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">  		]</span><br><span class="line"></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// happyPack 开启多进程打包</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HappyPack</span>(&#123;</span><br><span class="line">            <span class="comment">// 🌟🌟🌟 用唯一的标识符 id 来代表当前的 HappyPack 是用来处理一类特定的文件</span></span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;babel&#x27;</span>,</span><br><span class="line">            <span class="comment">// 如何处理 .js 文件，用法和 Loader 配置中一样</span></span><br><span class="line">            <span class="attr">loaders</span>: [<span class="string">&#x27;babel-loader?cacheDirectory&#x27;</span>]</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>
<h2 id="parallelUglifyPlugin-多进程压缩JS"><a href="#parallelUglifyPlugin-多进程压缩JS" class="headerlink" title="parallelUglifyPlugin - 多进程压缩JS"></a>parallelUglifyPlugin - 多进程压缩JS</h2><ul>
<li><code>webpack</code> 内置 <code>Uglify</code> 工具压缩<code>JS</code> 但它是单线程的，开启多进程压缩更快</li>
<li>要用于生产环境下</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">ParallelUglifyPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack-parallel-uglify-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 🌟🌟🌟 使用 ParallelUglifyPlugin 并行压缩输出的 JS 代码</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ParallelUglifyPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// 传递给 UglifyJS 的参数</span></span><br><span class="line">            <span class="comment">// （还是使用 UglifyJS 压缩，只不过帮助开启了多进程）</span></span><br><span class="line">            <span class="attr">uglifyJS</span>: &#123;</span><br><span class="line">                <span class="attr">output</span>: &#123;</span><br><span class="line">                    <span class="attr">beautify</span>: <span class="literal">false</span>, <span class="comment">// 最紧凑的输出</span></span><br><span class="line">                    <span class="attr">comments</span>: <span class="literal">false</span>, <span class="comment">// 删除所有的注释</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">compress</span>: &#123;</span><br><span class="line">                    <span class="comment">// 删除所有的 `console` 语句，可以兼容ie浏览器</span></span><br><span class="line">                    <span class="attr">drop_console</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="comment">// 内嵌定义了但是只用到一次的变量：var c = a + b =&gt; var c = 30</span></span><br><span class="line">                    <span class="attr">collapse_vars</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="comment">// 提取出出现多次但是没有定义成变量去引用的静态值</span></span><br><span class="line">                    <span class="attr">reduce_vars</span>: <span class="literal">true</span>,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关于开启多线程的按需使用：</p>
<ol>
<li>项目较大，打包较慢，开启多进程能提高速度</li>
<li>项目较小，打包很快，开启多进程会降低速度（进程开销）</li>
</ol>
</blockquote>
<h2 id="自动刷新"><a href="#自动刷新" class="headerlink" title="自动刷新"></a>自动刷新</h2><p><code>devServer</code>默认开启浏览器的自动刷新，所以这里其实并不需要配置。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">watch</span>: <span class="literal">true</span>, <span class="comment">// 开启监听，默认为 false</span></span><br><span class="line">  	<span class="comment">// 注意： 开启监听之后，webpack-dev-server 会自动开启刷新浏览器</span></span><br><span class="line">    <span class="attr">watchOptions</span>: &#123; <span class="comment">// 监听配置</span></span><br><span class="line">        <span class="attr">ignored</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// 忽略哪些</span></span><br><span class="line">        <span class="comment">// 监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span></span><br><span class="line">        <span class="attr">aggregateTimeout</span>: <span class="number">300</span>, <span class="comment">// 默认为 300ms</span></span><br><span class="line">        <span class="comment">// 判断文件是否发生变化是通过不停的去询问系统指定文件有没有变化实现的</span></span><br><span class="line">        <span class="attr">poll</span>: <span class="number">1000</span> <span class="comment">// 默认每隔1000毫秒询问一次</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="热更新"><a href="#热更新" class="headerlink" title="热更新"></a>热更新</h2><ul>
<li>自动刷新：整个网页全部刷新，速度较慢，状态会丢失</li>
<li>热更新：新代码生效，网也不刷新，状态不丢失 </li>
<li>热更新虽好，但是会消耗一定的性能，所以也要按需使用（网页比较大，刷新一次比较费力、经常要进入深层路由、表单输入框不重置）</li>
<li>开启热更新的代码一定要在生产环境前删除掉</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HotModuleReplacementPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack/lib/HotModuleReplacementPlugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">entry</span>: &#123;</span><br><span class="line">        <span class="comment">// index: path.join(srcPath, &#x27;index.js&#x27;),</span></span><br><span class="line">        <span class="comment">// 🌟🌟🌟 热更新</span></span><br><span class="line">        <span class="attr">index</span>: [</span><br><span class="line">            <span class="string">&#x27;webpack-dev-server/client?http://localhost:8080/&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;webpack/hot/dev-server&#x27;</span>,</span><br><span class="line">            path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;index.js&#x27;</span>)</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">other</span>: path.<span class="title function_">join</span>(srcPath, <span class="string">&#x27;other.js&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  	<span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HotModuleReplacementPlugin</span>()</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">      	<span class="comment">// 开启热更新</span></span><br><span class="line">        <span class="attr">hot</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>并且在代码中增加开启热更新之后的代码逻辑：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">module</span>.<span class="property">hot</span>) &#123;</span><br><span class="line">    <span class="variable language_">module</span>.<span class="property">hot</span>.<span class="title function_">accept</span>([<span class="string">&#x27;./math&#x27;</span>], <span class="function">() =&gt;</span> &#123; <span class="comment">// accept后面接收的参数是指允许哪些模块进行热更新的监听</span></span><br><span class="line">        <span class="keyword">const</span> sumRes = <span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">30</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sumRes in hot&#x27;</span>, sumRes)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="DllPlugin-动态链接库插件"><a href="#DllPlugin-动态链接库插件" class="headerlink" title="DllPlugin - 动态链接库插件"></a>DllPlugin - 动态链接库插件</h2><p>​    前端框架如<code>vue</code>、<code>react</code> ，体积大，构建慢。但它们都较稳定，不常升级版本，同一个版本只构建一次即可，不用每次都重新构建。</p>
<ul>
<li><code>webpack</code> 已内置 <code>DllPlugin</code> 支持</li>
<li><code>DllPlugin</code> - 打包出 <code>dll</code> 文件</li>
<li><code>DllReferencePlugin</code> - 使用 <code>dll</code> 文件</li>
<li><code>dll</code> 只能满足于开发环境下打包带来的速度和体验优化，不能用于生产环境</li>
</ul>
<p>具体做法：</p>
<ol>
<li>新建一个<code>webpack.dll.js</code>：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dll.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DllPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack/lib/DllPlugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  <span class="comment">// JS 执行入口文件</span></span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="comment">// 把 React 相关模块的放到一个单独的动态链接库</span></span><br><span class="line">    <span class="attr">react</span>: [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// 输出的动态链接库的文件名称，[name] 代表当前动态链接库的名称，</span></span><br><span class="line">    <span class="comment">// 也就是 entry 中配置的 react 和 polyfill</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].dll.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// 输出的文件都放到 dist 目录下</span></span><br><span class="line">    <span class="attr">path</span>: distPath,</span><br><span class="line">    <span class="comment">// 存放动态链接库的全局变量名称，例如对应 react 来说就是 _dll_react</span></span><br><span class="line">    <span class="comment">// 之所以在前面加上 _dll_ 是为了防止全局变量冲突</span></span><br><span class="line">    <span class="attr">library</span>: <span class="string">&#x27;_dll_[name]&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// 接入 DllPlugin</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">DllPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// 动态链接库的全局变量名称，需要和 output.library 中保持一致</span></span><br><span class="line">      <span class="comment">// 该字段的值也就是输出的 manifest.json 文件 中 name 字段的值</span></span><br><span class="line">      <span class="comment">// 例如 react.manifest.json 中就有 &quot;name&quot;: &quot;_dll_react&quot;</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;_dll_[name]&#x27;</span>,</span><br><span class="line">      <span class="comment">// 描述动态链接库的 manifest.json 文件输出时的文件名称</span></span><br><span class="line">      <span class="attr">path</span>: path.<span class="title function_">join</span>(distPath, <span class="string">&#x27;[name].manifest.json&#x27;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><code>npm run dll</code> 打包出 <code>dll</code> 文件 以及 <code>manifest</code> 文件</li>
</ol>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pakage.json</span></span><br><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack-dev-server --config build/webpack.dev.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dll&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack --config build/webpack.dll.js&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>在 <code>webpack.dev.js</code> 中通过 <code>DllReferencePlugin</code> 使用<code>dll</code> 文件以及 <code>manifest</code> 文件</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; smart &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackCommonConf = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; srcPath, distPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./paths&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 🌟 第一，引入 DllReferencePlugin</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DllReferencePlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack/lib/DllReferencePlugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="attr">loader</span>: [<span class="string">&#x27;babel-loader&#x27;</span>],</span><br><span class="line">                <span class="attr">include</span>: srcPath,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span> <span class="comment">// 🌟 第二，不要再转换 node_modules 的代码</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// window.ENV = &#x27;production&#x27;</span></span><br><span class="line">            <span class="attr">ENV</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;development&#x27;</span>)</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">// 🌟 第三，告诉 Webpack 使用了哪些动态链接库</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DllReferencePlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// 描述 react 动态链接库的文件内容</span></span><br><span class="line">            <span class="attr">manifest</span>: <span class="built_in">require</span>(path.<span class="title function_">join</span>(distPath, <span class="string">&#x27;react.manifest.json&#x27;</span>)),</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="优化产出代码-产品性能"><a href="#优化产出代码-产品性能" class="headerlink" title="优化产出代码 - 产品性能"></a>优化产出代码 - 产品性能</h1><ul>
<li>体积更小</li>
<li>合理分包，不重复加载</li>
<li>速度更快，内存使用更小</li>
</ul>
<h2 id="小图片采用-base64-格式进行产出"><a href="#小图片采用-base64-格式进行产出" class="headerlink" title="小图片采用 base64 格式进行产出"></a>小图片采用 base64 格式进行产出</h2><ul>
<li>小于一定大小的图片（可以是5kb、3kb）直接用 <code>base64</code> 格式产出，这样可以少一次<code>http</code>请求</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif)$/</span>,</span><br><span class="line">    <span class="attr">use</span>: &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">            <span class="comment">// 小于 5kb 的图片用 base64 格式产出</span></span><br><span class="line">            <span class="comment">// 否则，依然延用 file-loader 的形式，产出 url 格式</span></span><br><span class="line">            <span class="attr">limit</span>: <span class="number">5</span> * <span class="number">1024</span>,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 打包到 img 目录下</span></span><br><span class="line">            <span class="attr">outputPath</span>: <span class="string">&#x27;/img1/&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置图片的 cdn 地址（也可以统一在外面的 output 中设置，那将作用于所有静态资源）</span></span><br><span class="line">            <span class="comment">// publicPath: &#x27;http://cdn.abc.com&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h2 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h2><p><code>webpack</code>默认支持懒加载：import()</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 同步加载</span></span><br><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">&#x27;./math&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引用动态数据 - 懒加载</span></span><br><span class="line"><span class="comment">// 这里打包的时候也会产出一个 chunk</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&#x27;./dynamic-data.js&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">default</span>.<span class="property">message</span>) <span class="comment">// 注意这里的default</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;, <span class="number">1500</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Vue里面的路由懒加载"><a href="#Vue里面的路由懒加载" class="headerlink" title="Vue里面的路由懒加载"></a>Vue里面的路由懒加载</h3><p><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E6%8A%8A%E7%BB%84%E4%BB%B6%E6%8C%89%E7%BB%84%E5%88%86%E5%9D%97">路由懒加载</a></p>
<p><a href="https://www.npmjs.com/package/babel-plugin-syntax-dynamic-import">babel-plugin-syntax-dynamic-import</a></p>
<h2 id="bundle-加-hash"><a href="#bundle-加-hash" class="headerlink" title="bundle 加 hash"></a>bundle 加 hash</h2><ul>
<li><p>代码如果变了，根据 <code>content</code> 计算出来的 <code>hash</code> 值就会变，那么就会缓存失效，从而重新请求新的文件；</p>
</li>
<li><p>代码如果没有变，<code>contentHsh</code> 值都是一样的，那么上线请求的时候，前端的代码就会命中缓存，加载就会更快。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// filename: &#x27;bundle.[contentHash:8].js&#x27;,  // 打包代码时，加上 hash 戳</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].[contentHash:8].js&#x27;</span>, <span class="comment">// name 即多入口时 entry 的 key</span></span><br><span class="line">    <span class="attr">path</span>: distPath,</span><br><span class="line">    <span class="comment">// publicPath: &#x27;http://cdn.abc.com&#x27;  // 修改所有静态文件 url 的前缀（如 cdn 域名），这里暂时用不到</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h3 id="module-chunk-bundle-的区别"><a href="#module-chunk-bundle-的区别" class="headerlink" title="module chunk bundle 的区别"></a>module chunk bundle 的区别</h3><ul>
<li>module - 各个源码文件，webpack 中一切皆模块</li>
<li>chunk - 多模块合并而成的，如 entry 、 import() 、splitChunk</li>
<li>bundle - 最终的输出文件</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/lbyHQa.png" alt="lbyHQa"></p>
<h2 id="抽离公共代码、抽离第三方模块（生产环境配置）"><a href="#抽离公共代码、抽离第三方模块（生产环境配置）" class="headerlink" title="抽离公共代码、抽离第三方模块（生产环境配置）"></a>抽离公共代码、抽离第三方模块（生产环境配置）</h2><ul>
<li><p>一些公共代码，会在多个文件中被引用，打包的时候就会显得有些资源浪费，因为在多个文件中都要重复打包一下这些公共代码，类似于复制粘贴的方式。所以要把公共的部分单独抽离出来然后去相互引用，这样可以减少加载和执行的次数；</p>
</li>
<li><p>第三方模块比如<code>lodash</code>，在一个文件中<code>a.js</code>被引用的时候，只要修改一点<code>a.js</code>中的内容，打包<code>a.js</code>的时候<code>lodash</code>也会被重新打包，但是<code>lodash</code>本身并没有什么改动，所以这些第三方模块也要分离出来。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="comment">// 压缩 css</span></span><br><span class="line">        <span class="attr">minimizer</span>: [<span class="keyword">new</span> <span class="title class_">TerserJSPlugin</span>(&#123;&#125;), <span class="keyword">new</span> <span class="title class_">OptimizeCSSAssetsPlugin</span>(&#123;&#125;)],</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 🌟🌟🌟 分割代码块</span></span><br><span class="line">        <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">          	<span class="comment">/**</span></span><br><span class="line"><span class="comment">             * initial 入口 chunk，对于异步导入的文件不处理</span></span><br><span class="line"><span class="comment">                async 异步 chunk，只对异步导入的文件处理</span></span><br><span class="line"><span class="comment">                all 全部 chunk，一般这里都用 all</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 🌟🌟🌟 缓存分组</span></span><br><span class="line">            <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                <span class="comment">// 第三方模块</span></span><br><span class="line">                <span class="attr">vendor</span>: &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;vendor&#x27;</span>, <span class="comment">// chunk 名称</span></span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">1</span>, <span class="comment">// 权限更高，优先抽离，重要！！！</span></span><br><span class="line">                    <span class="attr">test</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// 通过 test 来测试能不能命中第三方模块</span></span><br><span class="line">                    <span class="attr">minSize</span>: <span class="number">0</span>,  <span class="comment">// 大小限制，一般用5kb</span></span><br><span class="line">                    <span class="attr">minChunks</span>: <span class="number">1</span>  <span class="comment">// 第三方模块最少复用过 1 次就抽离出来</span></span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 公共的模块</span></span><br><span class="line">                <span class="attr">common</span>: &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;common&#x27;</span>, <span class="comment">// chunk 名称</span></span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">0</span>, <span class="comment">// 优先级</span></span><br><span class="line">                    <span class="attr">minSize</span>: <span class="number">0</span>,  <span class="comment">// 公共模块的大小限制</span></span><br><span class="line">                    <span class="attr">minChunks</span>: <span class="number">2</span>  <span class="comment">// 公共模块最少复用过 2 次就抽离出来，只引用过 1 次就不用</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="IngorePlugin"><a href="#IngorePlugin" class="headerlink" title="IngorePlugin"></a>IngorePlugin</h2><p>同上。举一个 <code>moment.js</code> 例子。可以从 <code>260kb</code> 一下子 缩减到 <code>50kb</code> 。</p>
<h2 id="使用-CDN-加速"><a href="#使用-CDN-加速" class="headerlink" title="使用 CDN 加速"></a>使用 CDN 加速</h2><ul>
<li>在<code>outPut</code>里配置修改所有静态资源的<code>url</code>前缀（如<code>CDN</code>域名）</li>
<li>将这些静态资源（css文件、js文件、图片等）上传到公司购买的<code>CDN</code>服务中去</li>
</ul>
<h2 id="使用-production"><a href="#使用-production" class="headerlink" title="使用 production"></a>使用 production</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">smart</span>(webpackCommonConf, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">  	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用 <code>mode: &#39;production&#39;,</code> 会自动开启代码压缩</li>
<li><code>Vue</code>、<code>React</code> 等框架会在打包时自动删掉调试代码（如开发环境的 <code>warning</code> ）</li>
<li>启动 <code>Tree-Shaking</code> ，删除一些无用代码（<code>ES6 Module</code>才能让<code>tree-shaking</code>生效，而<code>Commonjs</code>就不行）</li>
</ul>
<h3 id="ES6-Module-和-Commonjs-的区别"><a href="#ES6-Module-和-Commonjs-的区别" class="headerlink" title="ES6 Module 和 Commonjs 的区别"></a>ES6 Module 和 Commonjs 的区别</h3><ul>
<li><code>ES6 Module</code> 静态引入，编译时引入</li>
<li><code>Commonjs</code> 动态引入，执行时引入</li>
<li>只有 <code>ES6 Module</code> 才能静态分析，<code>实现 Tree-Shaking</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES6 Module</span></span><br><span class="line"><span class="keyword">import</span> apiList <span class="keyword">from</span> <span class="string">&#x27;../config/api.js&#x27;</span></span><br><span class="line"><span class="keyword">if</span>(isDev) &#123;</span><br><span class="line">    <span class="comment">// 编译时报错，只能像上面那样静态引入</span></span><br><span class="line">    <span class="keyword">import</span> apiList <span class="keyword">from</span> <span class="string">&#x27;../config/api_dev.js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Commonjs</span></span><br><span class="line"><span class="keyword">let</span> apiList = <span class="built_in">require</span>(<span class="string">&#x27;../config/api.js&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> (isDev) &#123;</span><br><span class="line">    <span class="comment">// 可以动态引入，执行时引入</span></span><br><span class="line">    apiList = <span class="built_in">require</span>(<span class="string">&#x27;../config/api_dev.js&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Scope-Hosting"><a href="#Scope-Hosting" class="headerlink" title="Scope Hosting"></a>Scope Hosting</h2><ul>
<li>将多个相关联文件产生的函数合并成一个函数，使得代码体积更小</li>
<li>创建函数作用域更少，避免很多的跨作用域调用</li>
<li>线上代码可读性更好</li>
</ul>
<p>​    多个js文件在互相调用时，打包出来的代码可能就会生成多个函数，这样就会产生很多函数作用域，这样对于整个js代码的执行以及内存的消耗都是很不友好的。所以我们就需要开启Scope Hosting：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ModuleConcatenationPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack/lib/optimize/ModuleConcatenationPlugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="comment">// 针对 NPM 中的第三方模块优先采用 jsnext:main 中指向的 ES6 模块化语法的文件</span></span><br><span class="line">        <span class="attr">mainFields</span>: [<span class="string">&#x27;jsnext:main&#x27;</span>, <span class="string">&#x27;browser&#x27;</span>, <span class="string">&#x27;main&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 开启 Scope Hosting</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ModuleConcatenationPlugin</span>(),</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>study</tag>
        <tag>webpack</tag>
        <tag>打包</tag>
        <tag>工具</tag>
        <tag>优化</tag>
        <tag>chunk</tag>
        <tag>module</tag>
        <tag>bundle</tag>
      </tags>
  </entry>
  <entry>
    <title>【毕设】数据挖掘算法之Apriori关联规则挖掘</title>
    <url>/2018/01/12/%E3%80%90%E6%AF%95%E8%AE%BE%E3%80%91%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%AE%97%E6%B3%95%E4%B9%8BApriori%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99%E6%8C%96%E6%8E%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p><strong>Info: Apriori关联规则算法学习</strong></p>
</blockquote>
<a id="more"></a>

<h1 id="关联分析"><a href="#关联分析" class="headerlink" title="关联分析"></a>关联分析</h1><p>关联分析是一种在大规模数据集中寻找有趣关系的任务。<br>这些关系可以有两种形式: </p>
<ul>
<li>频繁项集（frequent item sets）: 经常出现在一块的物品的集合。</li>
<li>关联规则（associational rules）: 暗示两种物品之间可能存在很强的关系。</li>
</ul>
<h1 id="相关术语"><a href="#相关术语" class="headerlink" title="相关术语"></a>相关术语</h1><ul>
<li>关联分析（关联规则学习): 从大规模数据集中寻找物品间的隐含关系被称作 <code>关联分析(associati analysis)</code> 或者 <code>关联规则学习（association rule learning）</code> 。</li>
</ul>
<p>下面是用一个 <code>杂货店</code> 例子来说明这两个概念，如下图所示:  </p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20180409-150951@2x.png" alt="WX20180409-150951@2x"></p>
<ul>
<li>频繁项集: {葡萄酒, 尿布, 豆奶} 就是一个频繁项集的例子。</li>
<li>关联规则: 尿布 -&gt; 葡萄酒 就是一个关联规则。这意味着如果顾客买了尿布，那么他很可能会买葡萄酒。</li>
</ul>
<p>那么 <code>频繁</code> 的定义是什么呢？怎么样才算频繁呢？<br>度量它们的方法有很多种，这里我们来简单的介绍下支持度和置信度。</p>
<ul>
<li>支持度: 数据集中包含该项集的记录所占的比例。例如上图中，{豆奶} 的支持度为 4/5。{豆奶, 尿布} 的支持度为 3/5。</li>
<li>置信度: 针对一条诸如 {尿布} -&gt; {葡萄酒} 这样具体的关联规则来定义的。这条规则的 <code>置信度</code> 被定义为 <code>支持度(&#123;尿布, 葡萄酒&#125;)/支持度(&#123;尿布&#125;)</code>，从图中可以看出 支持度({尿布, 葡萄酒}) = 3/5，支持度({尿布}) = 4/5，所以 {尿布} -&gt; {葡萄酒} 的置信度 = 3/5 / 4/5 = 3/4 = 0.75。</li>
</ul>
<p><code>支持度</code> 和 <code>置信度</code> 是用来量化 <code>关联分析</code> 是否成功的一个方法。<br>假设想找到支持度大于 0.8 的所有项集，应该如何去做呢？<br>一个办法是生成一个物品所有可能组合的清单，然后对每一种组合统计它出现的频繁程度，但是当物品成千上万时，上述做法就非常非常慢了。<br>我们需要详细分析下这种情况并讨论下 Apriori 原理，该原理会减少关联规则学习时所需的计算量。</p>
<h1 id="Apriori-原理"><a href="#Apriori-原理" class="headerlink" title="Apriori 原理"></a>Apriori 原理</h1><p>假设我们一共有 4 个商品: 商品0, 商品1, 商品2, 商品3。<br>所有可能的情况如下:<br><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20180409-161808@2x.png" alt="WX20180409-161808@2x"><br>如果我们计算所有组合的支持度，也需要计算 15 次。即 2^N - 1 = 2^4 - 1 = 15。随着物品的增加，计算的次数呈指数的形式增长 …   </p>
<p>为了降低计算次数和时间，研究人员发现了一种所谓的 Apriori 原理，即某个项集是频繁的，那么它的所有子集也是频繁的。例如，如果 {0, 1} 是频繁的，那么 {0}, {1} 也是频繁的。</p>
<p>该原理直观上没有什么帮助，但是如果反过来看就有用了，也就是说如果一个项集是 <code>非频繁项集</code>，那么它的所有超集也是非频繁项集，如下图所示:  </p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20180409-162126@2x.png" alt="非频繁项集"></p>
<p>在图中我们可以看到，已知灰色部分 {2,3} 是 <code>非频繁项集</code>，那么利用上面的知识，我们就可以知道 {0,2,3} {1,2,3} {0,1,2,3} 都是 <code>非频繁的</code>。<br>也就是说，计算出 {2,3} 的支持度，知道它是 <code>非频繁</code> 的之后，就不需要再计算 {0,2,3} {1,2,3} {0,1,2,3} 的支持度，因为我们知道这些集合不会满足我们的要求。<br>使用该原理就可以避免项集数目的指数增长，从而在合理的时间内计算出频繁项集。</p>
<p>Apriori 算法优缺点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* 优点：易编码实现</span><br><span class="line">* 缺点：在大数据集上可能较慢</span><br><span class="line">* 适用数据类型：数值型 或者标准型数据。</span><br></pre></td></tr></table></figure>
<p>Apriori 算法流程步骤：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* 收集数据：使用任意方法。</span><br><span class="line">* 准备数据：任何数据类型都可以，因为我们只保存集合。</span><br><span class="line">* 分析数据：使用任意方法。</span><br><span class="line">* 训练数据：使用Apiori算法来找到频繁项集。</span><br><span class="line">* 测试算法：不需要测试过程。</span><br><span class="line">* 使用算法：用于发现频繁项集以及物品之间的关联规则。</span><br></pre></td></tr></table></figure>
<h1 id="Apriori-算法的使用"><a href="#Apriori-算法的使用" class="headerlink" title="Apriori 算法的使用"></a>Apriori 算法的使用</h1><p>前面提到，关联分析的目标包括两项: 发现 <code>频繁项集</code> 和发现 <code>关联规则</code>。<br>首先需要找到 <code>频繁项集</code>，然后才能发现 <code>关联规则</code>。<br><code>Apriori</code> 算法是发现 <code>频繁项集</code> 的一种方法。<br>Apriori 算法的两个输入参数分别是最小支持度和数据集。<br>该算法首先会生成所有单个物品的项集列表。<br>接着扫描交易记录来查看哪些项集满足最小支持度要求，那些不满足最小支持度要求的集合会被去掉。<br>然后对生下来的集合进行组合以生成包含两个元素的项集。<br>接下来再重新扫描交易记录，去掉不满足最小支持度的项集。<br>该过程重复进行直到所有项集被去掉。</p>
<h2 id="生成候选项集"><a href="#生成候选项集" class="headerlink" title="生成候选项集"></a>生成候选项集</h2><p>下面会创建一个用于构建初始集合的函数，也会创建一个通过扫描数据集以寻找交易记录子集的函数，<br>数据扫描的伪代码如下: </p>
<ul>
<li>对数据集中的每条交易记录 tran</li>
<li>对每个候选项集 can<ul>
<li>检查一下 can 是否是 tran 的子集: 如果是则增加 can 的计数值</li>
</ul>
</li>
<li>对每个候选项集 can<ul>
<li>如果其支持度不低于最小值，则保留该项集</li>
<li>返回所有频繁项集列表</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>以下是一些辅助函数。</strong></p>
</blockquote>
<h3 id="加载数据集"><a href="#加载数据集" class="headerlink" title="加载数据集"></a>加载数据集</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载数据集</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">loadDataSet</span>():</span><br><span class="line">    <span class="keyword">return</span> [[<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="number">2</span>, <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="创建集合-C1。即对-dataSet-进行去重，排序，放入-list-中，然后转换所有的元素为-frozenset"><a href="#创建集合-C1。即对-dataSet-进行去重，排序，放入-list-中，然后转换所有的元素为-frozenset" class="headerlink" title="创建集合 C1。即对 dataSet 进行去重，排序，放入 list 中，然后转换所有的元素为 frozenset"></a>创建集合 C1。即对 dataSet 进行去重，排序，放入 list 中，然后转换所有的元素为 frozenset</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建集合 C1。即对 dataSet 进行去重，排序，放入 list 中，然后转换所有的元素为 frozenset</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">createC1</span>(<span class="params">dataSet</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;createC1（创建集合 C1）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        dataSet 原始数据集</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        frozenset 返回一个 frozenset 格式的 list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    C1 = []</span><br><span class="line">    <span class="keyword">for</span> transaction <span class="keyword">in</span> dataSet:</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> transaction:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> [item] <span class="keyword">in</span> C1:</span><br><span class="line">                <span class="comment"># 遍历所有的元素，如果不在 C1 出现过，那么就 append</span></span><br><span class="line">                C1.append([item])</span><br><span class="line">    <span class="comment"># 对数组进行 `从小到大` 的排序</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;sort 前=&#x27;</span>, C1</span><br><span class="line">    C1.sort()</span><br><span class="line">    <span class="comment"># frozenset 表示冻结的 set 集合，元素无改变；可以把它当字典的 key 来使用</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;sort 后=&#x27;</span>, C1</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;frozenset=&#x27;</span>, <span class="built_in">map</span>(<span class="built_in">frozenset</span>, C1)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(<span class="built_in">frozenset</span>, C1)</span><br></pre></td></tr></table></figure>
<h3 id="计算候选数据集-CK-在数据集-D-中的支持度，并返回支持度大于最小支持度（minSupport）的数据"><a href="#计算候选数据集-CK-在数据集-D-中的支持度，并返回支持度大于最小支持度（minSupport）的数据" class="headerlink" title="计算候选数据集 CK 在数据集 D 中的支持度，并返回支持度大于最小支持度（minSupport）的数据"></a>计算候选数据集 CK 在数据集 D 中的支持度，并返回支持度大于最小支持度（minSupport）的数据</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 计算候选数据集 CK 在数据集 D 中的支持度，并返回支持度大于最小支持度（minSupport）的数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scanD</span>(<span class="params">D, Ck, minSupport</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;scanD（计算候选数据集 CK 在数据集 D 中的支持度，并返回支持度大于最小支持度 minSupport 的数据）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        D 数据集</span></span><br><span class="line"><span class="string">        Ck 候选项集列表</span></span><br><span class="line"><span class="string">        minSupport 最小支持度</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        retList 支持度大于 minSupport 的集合</span></span><br><span class="line"><span class="string">        supportData 候选项集支持度数据</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ssCnt 临时存放选数据集 Ck 的频率. 例如: a-&gt;10, b-&gt;5, c-&gt;8</span></span><br><span class="line">    ssCnt = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> tid <span class="keyword">in</span> D:</span><br><span class="line">        <span class="keyword">for</span> can <span class="keyword">in</span> Ck:</span><br><span class="line">            <span class="comment"># s.issubset(t)  测试是否 s 中的每一个元素都在 t 中</span></span><br><span class="line">            <span class="keyword">if</span> can.issubset(tid):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> ssCnt.has_key(can):</span><br><span class="line">                    ssCnt[can] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    ssCnt[can] += <span class="number">1</span></span><br><span class="line">    numItems = <span class="built_in">float</span>(<span class="built_in">len</span>(D)) <span class="comment"># 数据集 D 的数量</span></span><br><span class="line">    retList = []</span><br><span class="line">    supportData = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> ssCnt:</span><br><span class="line">        <span class="comment"># 支持度 = 候选项（key）出现的次数 / 所有数据集的数量</span></span><br><span class="line">        support = ssCnt[key]/numItems</span><br><span class="line">        <span class="keyword">if</span> support &gt;= minSupport:</span><br><span class="line">            <span class="comment"># 在 retList 的首位插入元素，只存储支持度满足频繁项集的值</span></span><br><span class="line">            retList.insert(<span class="number">0</span>, key)</span><br><span class="line">        <span class="comment"># 存储所有的候选项（key）和对应的支持度（support）</span></span><br><span class="line">        supportData[key] = support</span><br><span class="line">    <span class="keyword">return</span> retList, supportData</span><br></pre></td></tr></table></figure>
<p>完整代码地址: <a href="https://github.com/apachecn/MachineLearning/blob/master/src/py2.x/11.Apriori/apriori.py">https://github.com/apachecn/MachineLearning/blob/master/src/py2.x/11.Apriori/apriori.py</a></p>
<h2 id="组织完整的-Apriori-算法"><a href="#组织完整的-Apriori-算法" class="headerlink" title="组织完整的 Apriori 算法"></a>组织完整的 Apriori 算法</h2><h3 id="输入频繁项集列表-Lk-与返回的元素个数-k，然后输出所有可能的候选项集-Ck"><a href="#输入频繁项集列表-Lk-与返回的元素个数-k，然后输出所有可能的候选项集-Ck" class="headerlink" title="输入频繁项集列表 Lk 与返回的元素个数 k，然后输出所有可能的候选项集 Ck"></a>输入频繁项集列表 Lk 与返回的元素个数 k，然后输出所有可能的候选项集 Ck</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 输入频繁项集列表 Lk 与返回的元素个数 k，然后输出所有可能的候选项集 Ck</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aprioriGen</span>(<span class="params">Lk, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;aprioriGen（输入频繁项集列表 Lk 与返回的元素个数 k，然后输出候选项集 Ck。</span></span><br><span class="line"><span class="string">       例如: 以 &#123;0&#125;,&#123;1&#125;,&#123;2&#125; 为输入且 k = 2 则输出 &#123;0,1&#125;, &#123;0,2&#125;, &#123;1,2&#125;. 以 &#123;0,1&#125;,&#123;0,2&#125;,&#123;1,2&#125; 为输入且 k = 3 则输出 &#123;0,1,2&#125;</span></span><br><span class="line"><span class="string">       仅需要计算一次，不需要将所有的结果计算出来，然后进行去重操作</span></span><br><span class="line"><span class="string">       这是一个更高效的算法）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        Lk 频繁项集列表</span></span><br><span class="line"><span class="string">        k 返回的项集元素个数（若元素的前 k-2 相同，就进行合并）</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        retList 元素两两合并的数据集</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    retList = []</span><br><span class="line">    lenLk = <span class="built_in">len</span>(Lk)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(lenLk):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, lenLk):</span><br><span class="line">            L1 = <span class="built_in">list</span>(Lk[i])[: k-<span class="number">2</span>]</span><br><span class="line">            L2 = <span class="built_in">list</span>(Lk[j])[: k-<span class="number">2</span>]</span><br><span class="line">            <span class="comment"># print &#x27;-----i=&#x27;, i, k-2, Lk, Lk[i], list(Lk[i])[: k-2]</span></span><br><span class="line">            <span class="comment"># print &#x27;-----j=&#x27;, j, k-2, Lk, Lk[j], list(Lk[j])[: k-2]</span></span><br><span class="line">            L1.sort()</span><br><span class="line">            L2.sort()</span><br><span class="line">            <span class="comment"># 第一次 L1,L2 为空，元素直接进行合并，返回元素两两合并的数据集</span></span><br><span class="line">            <span class="comment"># if first k-2 elements are equal</span></span><br><span class="line">            <span class="keyword">if</span> L1 == L2:</span><br><span class="line">                <span class="comment"># set union</span></span><br><span class="line">                <span class="comment"># print &#x27;union=&#x27;, Lk[i] | Lk[j], Lk[i], Lk[j]</span></span><br><span class="line">                retList.append(Lk[i] | Lk[j])</span><br><span class="line">    <span class="keyword">return</span> retList</span><br></pre></td></tr></table></figure>
<h3 id="找出数据集-dataSet-中支持度-gt-最小支持度的候选项集以及它们的支持度。即我们的频繁项集。"><a href="#找出数据集-dataSet-中支持度-gt-最小支持度的候选项集以及它们的支持度。即我们的频繁项集。" class="headerlink" title="找出数据集 dataSet 中支持度 &gt;= 最小支持度的候选项集以及它们的支持度。即我们的频繁项集。"></a>找出数据集 dataSet 中支持度 &gt;= 最小支持度的候选项集以及它们的支持度。即我们的频繁项集。</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 找出数据集 dataSet 中支持度 &gt;= 最小支持度的候选项集以及它们的支持度。即我们的频繁项集。</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">apriori</span>(<span class="params">dataSet, minSupport=<span class="number">0.5</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;apriori（首先构建集合 C1，然后扫描数据集来判断这些只有一个元素的项集是否满足最小支持度的要求。那么满足最小支持度要求的项集构成集合 L1。然后 L1 中的元素相互组合成 C2，C2 再进一步过滤变成 L2，然后以此类推，知道 CN 的长度为 0 时结束，即可找出所有频繁项集的支持度。）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        dataSet 原始数据集</span></span><br><span class="line"><span class="string">        minSupport 支持度的阈值</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        L 频繁项集的全集</span></span><br><span class="line"><span class="string">        supportData 所有元素和支持度的全集</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># C1 即对 dataSet 进行去重，排序，放入 list 中，然后转换所有的元素为 frozenset</span></span><br><span class="line">    C1 = createC1(dataSet)</span><br><span class="line">    <span class="comment"># 对每一行进行 set 转换，然后存放到集合中</span></span><br><span class="line">    D = <span class="built_in">map</span>(<span class="built_in">set</span>, dataSet)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;D=&#x27;</span>, D</span><br><span class="line">    <span class="comment"># 计算候选数据集 C1 在数据集 D 中的支持度，并返回支持度大于 minSupport 的数据</span></span><br><span class="line">    L1, supportData = scanD(D, C1, minSupport)</span><br><span class="line">    <span class="comment"># print &quot;L1=&quot;, L1, &quot;\n&quot;, &quot;outcome: &quot;, supportData</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># L 加了一层 list, L 一共 2 层 list</span></span><br><span class="line">    L = [L1]</span><br><span class="line">    k = <span class="number">2</span></span><br><span class="line">    <span class="comment"># 判断 L 的第 k-2 项的数据长度是否 &gt; 0。第一次执行时 L 为 [[frozenset([1]), frozenset([3]), frozenset([2]), frozenset([5])]]。L[k-2]=L[0]=[frozenset([1]), frozenset([3]), frozenset([2]), frozenset([5])]，最后面 k += 1</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">len</span>(L[k-<span class="number">2</span>]) &gt; <span class="number">0</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;k=&#x27;</span>, k, L, L[k-<span class="number">2</span>]</span><br><span class="line">        Ck = aprioriGen(L[k-<span class="number">2</span>], k) <span class="comment"># 例如: 以 &#123;0&#125;,&#123;1&#125;,&#123;2&#125; 为输入且 k = 2 则输出 &#123;0,1&#125;, &#123;0,2&#125;, &#123;1,2&#125;. 以 &#123;0,1&#125;,&#123;0,2&#125;,&#123;1,2&#125; 为输入且 k = 3 则输出 &#123;0,1,2&#125;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Ck&#x27;</span>, Ck</span><br><span class="line"></span><br><span class="line">        Lk, supK = scanD(D, Ck, minSupport) <span class="comment"># 计算候选数据集 CK 在数据集 D 中的支持度，并返回支持度大于 minSupport 的数据</span></span><br><span class="line">        <span class="comment"># 保存所有候选项集的支持度，如果字典没有，就追加元素，如果有，就更新元素</span></span><br><span class="line">        supportData.update(supK)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(Lk) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="comment"># Lk 表示满足频繁子项的集合，L 元素在增加，例如: </span></span><br><span class="line">        <span class="comment"># l=[[set(1), set(2), set(3)]]</span></span><br><span class="line">        <span class="comment"># l=[[set(1), set(2), set(3)], [set(1, 2), set(2, 3)]]</span></span><br><span class="line">        L.append(Lk)</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        <span class="comment"># print &#x27;k=&#x27;, k, len(L[k-2])</span></span><br><span class="line">    <span class="keyword">return</span> L, supportData</span><br></pre></td></tr></table></figure>
<p>到这一步，我们就找出我们所需要的 <code>频繁项集</code> 和他们的 <code>支持度</code> 了，接下来再找出关联规则即可！</p>
<p>完整代码地址: <a href="https://github.com/apachecn/MachineLearning/blob/master/src/py2.x/11.Apriori/apriori.py">https://github.com/apachecn/MachineLearning/blob/master/src/py2.x/11.Apriori/apriori.py</a></p>
<h1 id="从频繁项集中挖掘关联规则"><a href="#从频繁项集中挖掘关联规则" class="headerlink" title="从频繁项集中挖掘关联规则"></a>从频繁项集中挖掘关联规则</h1><p>前面我们介绍了用于发现 <code>频繁项集</code> 的 Apriori 算法，现在要解决的问题是如何找出 <code>关联规则</code>。</p>
<p>要找到 <code>关联规则</code>，我们首先从一个 <code>频繁项集</code> 开始。<br>我们知道集合中的元素是不重复的，但我们想知道基于这些元素能否获得其它内容。<br>某个元素或某个元素集合可能会推导出另一个元素。<br>从先前 <code>杂货店</code> 的例子可以得到，如果有一个频繁项集 {豆奶,莴苣}，那么就可能有一条关联规则 “豆奶 -&gt; 莴苣”。<br>这意味着如果有人买了豆奶，那么在统计上他会购买莴苣的概率比较大。<br>但是，这一条件反过来并不总是成立。<br>也就是说 “豆奶 -&gt; 莴苣” 统计上显著，那么 “莴苣 -&gt; 豆奶” 也不一定成立。</p>
<p>前面我们给出了 <code>频繁项集</code> 的量化定义，即它满足最小支持度要求。<br>对于 <code>关联规则</code>，我们也有类似的量化方法，这种量化指标称之为 <code>置信度</code>。<br>一条规则 A -&gt; B 的置信度定义为 support(A | B) / support(A)。（注意: 在 python 中 | 表示集合的并操作，而数学书集合并的符号是 U）。<br><code>A | B</code> 是指所有出现在集合 A 或者集合 B 中的元素。<br>由于我们先前已经计算出所有 <code>频繁项集</code> 的支持度了，现在我们要做的只不过是提取这些数据做一次除法运算即可。</p>
<h2 id="一个频繁项集可以产生多少条关联规则呢？"><a href="#一个频繁项集可以产生多少条关联规则呢？" class="headerlink" title="一个频繁项集可以产生多少条关联规则呢？"></a>一个频繁项集可以产生多少条关联规则呢？</h2><p>如下图所示，给出的是项集 {0,1,2,3} 产生的所有关联规则:  </p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20180409-162246@2x.png" alt="关联规则网格示意图"></p>
<p>与我们前面的 <code>频繁项集</code> 生成一样，我们可以为每个频繁项集产生许多关联规则。<br>如果能减少规则的数目来确保问题的可解析，那么计算起来就会好很多。<br>通过观察，我们可以知道，如果某条规则并不满足 <code>最小置信度</code> 要求，那么该规则的所有子集也不会满足 <code>最小置信度</code> 的要求。<br>如上图所示，假设 <code>123 -&gt; 3</code>  并不满足最小置信度要求，那么就知道任何左部为 {0,1,2} 子集的规则也不会满足 <code>最小置信度</code> 的要求。<br>即 <code>12 -&gt; 03</code> , <code>02 -&gt; 13</code> , <code>01 -&gt; 23</code> , <code>2 -&gt; 013</code>, <code>1 -&gt; 023</code>, <code>0 -&gt; 123</code> 都不满足 <code>最小置信度</code> 要求。  </p>
<p>可以利用关联规则的上述性质属性来减少需要测试的规则数目，跟先前 Apriori 算法的套路一样。<br>以下是一些辅助函数: </p>
<h3 id="计算置信度"><a href="#计算置信度" class="headerlink" title="计算置信度"></a>计算置信度</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 计算置信度（confidence）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calcConf</span>(<span class="params">freqSet, H</span></span><br><span class="line"><span class="params">, supportData, brl, minConf=<span class="number">0.7</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;calcConf（对两个元素的频繁项，计算置信度，例如： &#123;1,2&#125;/&#123;1&#125; 或者 &#123;1,2&#125;/&#123;2&#125; 看是否满足条件）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        freqSet 频繁项集中的元素，例如: frozenset([1, 3])    </span></span><br><span class="line"><span class="string">        H 频繁项集中的元素的集合，例如: [frozenset([1]), frozenset([3])]</span></span><br><span class="line"><span class="string">        supportData 所有元素的支持度的字典</span></span><br><span class="line"><span class="string">        brl 关联规则列表的空数组</span></span><br><span class="line"><span class="string">        minConf 最小置信度</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        prunedH 记录 置信度大于阈值的集合</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 记录置信度大于最小置信度（minConf）的集合</span></span><br><span class="line">    prunedH = []</span><br><span class="line">    <span class="keyword">for</span> conseq <span class="keyword">in</span> H: <span class="comment"># 假设 freqSet = frozenset([1, 3]), H = [frozenset([1]), frozenset([3])]，那么现在需要求出 frozenset([1]) -&gt; frozenset([3]) 的置信度和 frozenset([3]) -&gt; frozenset([1]) 的置信度</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># print &#x27;confData=&#x27;, freqSet, H, conseq, freqSet-conseq</span></span><br><span class="line">        conf = supportData[freqSet]/supportData[freqSet-conseq] <span class="comment"># 支持度定义: a -&gt; b = support(a | b) / support(a). 假设  freqSet = frozenset([1, 3]), conseq = [frozenset([1])]，那么 frozenset([1]) 至 frozenset([3]) 的置信度为 = support(a | b) / support(a) = supportData[freqSet]/supportData[freqSet-conseq] = supportData[frozenset([1, 3])] / supportData[frozenset([1])]</span></span><br><span class="line">        <span class="keyword">if</span> conf &gt;= minConf:</span><br><span class="line">            <span class="comment"># 只要买了 freqSet-conseq 集合，一定会买 conseq 集合（freqSet-conseq 集合和 conseq 集合是全集）</span></span><br><span class="line">            <span class="built_in">print</span> freqSet-conseq, <span class="string">&#x27;--&gt;&#x27;</span>, conseq, <span class="string">&#x27;conf:&#x27;</span>, conf</span><br><span class="line">            brl.append((freqSet-conseq, conseq, conf))</span><br><span class="line">            prunedH.append(conseq)</span><br><span class="line">    <span class="keyword">return</span> prunedH</span><br></pre></td></tr></table></figure>
<h3 id="递归计算频繁项集的规则"><a href="#递归计算频繁项集的规则" class="headerlink" title="递归计算频繁项集的规则"></a>递归计算频繁项集的规则</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 递归计算频繁项集的规则</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rulesFromConseq</span>(<span class="params">freqSet, H, supportData, brl, minConf=<span class="number">0.7</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;rulesFromConseq</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        freqSet 频繁项集中的元素，例如: frozenset([2, 3, 5])    </span></span><br><span class="line"><span class="string">        H 频繁项集中的元素的集合，例如: [frozenset([2]), frozenset([3]), frozenset([5])]</span></span><br><span class="line"><span class="string">        supportData 所有元素的支持度的字典</span></span><br><span class="line"><span class="string">        brl 关联规则列表的数组</span></span><br><span class="line"><span class="string">        minConf 最小置信度</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># H[0] 是 freqSet 的元素组合的第一个元素，并且 H 中所有元素的长度都一样，长度由 aprioriGen(H, m+1) 这里的 m + 1 来控制</span></span><br><span class="line">    <span class="comment"># 该函数递归时，H[0] 的长度从 1 开始增长 1 2 3 ...</span></span><br><span class="line">    <span class="comment"># 假设 freqSet = frozenset([2, 3, 5]), H = [frozenset([2]), frozenset([3]), frozenset([5])]</span></span><br><span class="line">    <span class="comment"># 那么 m = len(H[0]) 的递归的值依次为 1 2</span></span><br><span class="line">    <span class="comment"># 在 m = 2 时, 跳出该递归。假设再递归一次，那么 H[0] = frozenset([2, 3, 5])，freqSet = frozenset([2, 3, 5]) ，没必要再计算 freqSet 与 H[0] 的关联规则了。</span></span><br><span class="line">    m = <span class="built_in">len</span>(H[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">len</span>(freqSet) &gt; (m + <span class="number">1</span>)):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;freqSet******************&#x27;</span>, <span class="built_in">len</span>(freqSet), m + <span class="number">1</span>, freqSet, H, H[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># 生成 m+1 个长度的所有可能的 H 中的组合，假设 H = [frozenset([2]), frozenset([3]), frozenset([5])]</span></span><br><span class="line">        <span class="comment"># 第一次递归调用时生成 [frozenset([2, 3]), frozenset([2, 5]), frozenset([3, 5])]</span></span><br><span class="line">        <span class="comment"># 第二次 。。。没有第二次，递归条件判断时已经退出了</span></span><br><span class="line">        Hmp1 = aprioriGen(H, m+<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 返回置信度大于最小置信度的集合</span></span><br><span class="line">        Hmp1 = calcConf(freqSet, Hmp1, supportData, brl, minConf)</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Hmp1=&#x27;</span>, Hmp1</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;len(Hmp1)=&#x27;</span>, <span class="built_in">len</span>(Hmp1), <span class="string">&#x27;len(freqSet)=&#x27;</span>, <span class="built_in">len</span>(freqSet)</span><br><span class="line">        <span class="comment"># 计算置信度后，还有数据大于最小置信度的话，那么继续递归调用，否则跳出递归</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">len</span>(Hmp1) &gt; <span class="number">1</span>):</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;----------------------&#x27;</span>, Hmp1</span><br><span class="line">            <span class="comment"># print len(freqSet),  len(Hmp1[0]) + 1</span></span><br><span class="line">            rulesFromConseq(freqSet, Hmp1, supportData, brl, minConf)</span><br></pre></td></tr></table></figure>
<h3 id="生成关联规则"><a href="#生成关联规则" class="headerlink" title="生成关联规则"></a>生成关联规则</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 生成关联规则</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generateRules</span>(<span class="params">L, supportData, minConf=<span class="number">0.7</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;generateRules</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        L 频繁项集列表</span></span><br><span class="line"><span class="string">        supportData 频繁项集支持度的字典</span></span><br><span class="line"><span class="string">        minConf 最小置信度</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        bigRuleList 置信度规则列表（关于 (A-&gt;B+置信度) 3个字段的组合）</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    bigRuleList = []</span><br><span class="line">    <span class="comment"># 假设 L = [[frozenset([1]), frozenset([3]), frozenset([2]), frozenset([5])], [frozenset([1, 3]), frozenset([2, 5]), frozenset([2, 3]), frozenset([3, 5])], [frozenset([2, 3, 5])]]</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(L)):</span><br><span class="line">        <span class="comment"># 获取频繁项集中每个组合的所有元素</span></span><br><span class="line">        <span class="keyword">for</span> freqSet <span class="keyword">in</span> L[i]:</span><br><span class="line">            <span class="comment"># 假设：freqSet= frozenset([1, 3]), H1=[frozenset([1]), frozenset([3])]</span></span><br><span class="line">            <span class="comment"># 组合总的元素并遍历子元素，并转化为 frozenset 集合，再存放到 list 列表中</span></span><br><span class="line">            H1 = [<span class="built_in">frozenset</span>([item]) <span class="keyword">for</span> item <span class="keyword">in</span> freqSet]</span><br><span class="line">            <span class="comment"># 2 个的组合，走 else, 2 个以上的组合，走 if</span></span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">1</span>):</span><br><span class="line">                rulesFromConseq(freqSet, H1, supportData, bigRuleList, minConf)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                calcConf(freqSet, H1, supportData, bigRuleList, minConf)</span><br><span class="line">    <span class="keyword">return</span> bigRuleList</span><br></pre></td></tr></table></figure>
<p>到这里为止，通过调用 generateRules 函数即可得出我们所需的 <code>关联规则</code>。</p>
<ul>
<li>分级法： 频繁项集-&gt;关联规则<ul>
<li>1.首先从一个频繁项集开始，接着创建一个规则列表，其中规则右部分只包含一个元素，然后对这个规则进行测试。</li>
<li>2.接下来合并所有剩余规则来创建一个新的规则列表，其中规则右部包含两个元素。</li>
<li>如下图：</li>
<li><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/WX20180409-162344@2x.png" alt="所有可能的项集组合"></li>
</ul>
</li>
<li>最后： 每次增加频繁项集的大小，Apriori 算法都会重新扫描整个数据集，是否有优化空间呢？ </li>
</ul>
<hr>
<ul>
<li><strong>信息参考于 <a href="http://www.apachecn.org/">ApacheCN</a></strong></li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>graduation</tag>
        <tag>毕业设计</tag>
        <tag>数据挖掘</tag>
        <tag>关联规则算法</tag>
        <tag>apriori</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS知识集</title>
    <url>/2017/03/12/CSS%E7%9F%A5%E8%AF%86%E9%9B%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p><strong>Info: CSS基础、布局、效果和动画、CSS工程化等</strong></p>
</blockquote>
<a id="more"></a>

<h1 id="CSS非布局样式"><a href="#CSS非布局样式" class="headerlink" title="CSS非布局样式"></a>CSS非布局样式</h1><h2 id="字体、字重、颜色、大小、行高"><a href="#字体、字重、颜色、大小、行高" class="headerlink" title="字体、字重、颜色、大小、行高"></a>字体、字重、颜色、大小、行高</h2><h3 id="字体族"><a href="#字体族" class="headerlink" title="字体族"></a>字体族</h3><ol>
<li>serif 衬线字体族(Times New Roman、MS Georgia、宋体等)</li>
<li>sans-serif 非衬线字体族(Arial、Helvetica、幼圆、隶书、楷体等)</li>
<li>monospace 等宽字体族(Courier、MS Courier New、Prestige等)</li>
<li>cursive 手写体族(Caflisch Script、Adobe Poetica、迷你简黄草、华文行草、静蕾体等)</li>
<li>fantasy 梦幻字体族(WingDings、WingDings 2、Symbol等)</li>
</ol>
<h3 id="多字体fallback"><a href="#多字体fallback" class="headerlink" title="多字体fallback"></a>多字体fallback</h3><ul>
<li>屏显效果好的字体放前面</li>
<li>适用范围小的字体放前面</li>
</ul>
<h3 id="自定义字体、网络字体"><a href="#自定义字体、网络字体" class="headerlink" title="自定义字体、网络字体"></a>自定义字体、网络字体</h3><p>在style标签中使用@font-face来指定一个自定义的字体，从而在下面应用这个字体。</p>
<h3 id="字重"><a href="#字重" class="headerlink" title="字重"></a>字重</h3><ul>
<li>font-weight取值范围: 100～900</li>
<li>font-weight: lighter 取决于父级字体大小</li>
<li>font-weight: normal 默认相当于400</li>
<li>font-weight: bold 默认相当于700</li>
<li>font-weight: bolder 取决于父级字体大小</li>
</ul>
<h3 id="字体-demo"><a href="#字体-demo" class="headerlink" title="字体 demo"></a>字体 demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--字体--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>fonts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* font-family: &quot;monaco&quot;; */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* font-family: &quot;monaco&quot;, &quot;PingFang SC&quot;; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: <span class="string">&quot;aaaaa&quot;</span>, <span class="string">&quot;monaco&quot;</span>, <span class="string">&quot;PingFang SC&quot;</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.chinese</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Microsoft Yahei&quot;</span>, monospace;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* font-family: &quot;Microsoft Yahei&quot;, serif; */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* font-family: &quot;serif&quot;; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.weight</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bolder;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: lighter;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: normal;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@font-face</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: <span class="string">&quot;IF&quot;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&quot;./IndieFlower.ttf&quot;</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-font</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: IF;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;body&quot;</span> <span class="attr">id</span>=<span class="string">&quot;body&quot;</span>&gt;</span></span><br><span class="line">    Hello world 你好，世界</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;chinese&quot;</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class=&quot;weight&quot;&gt;你好 Hello World&lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;custom-font&quot;</span>&gt;</span>你好 Hello World<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="line-height"><a href="#line-height" class="headerlink" title="line height"></a>line height</h3><ul>
<li>行高会撑开div的高度。inline元素会默认在div里垂直居中，所以可以通过line-height的方式来做这个垂直居中。</li>
<li>行内元素的对齐方式是默认底线对齐(baseline)。可以通过vertical-align这个属性来更改inline元素对齐的方式。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用vertical-align:bottom 来解决经典的图片3px缝隙问题--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>line-height<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.cc1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>:<span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.cc2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>:<span class="number">18px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.cc3</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>:<span class="number">24px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border:solid 1px red;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;background:blue;color:#fff;font-size:20px;line-height:60px;&quot;</span>&gt;</span></span><br><span class="line">            居中xfg<span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span><span class="symbol">&amp;emsp;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cc1&quot;</span>&gt;</span>第一段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cc2&quot;</span>&gt;</span>第二段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cc3&quot;</span>&gt;</span>第三段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background:red&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>文字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;test.png&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;float:left&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>第一段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;float:left&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>第二段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="背景、边框"><a href="#背景、边框" class="headerlink" title="背景、边框"></a>背景、边框</h2><h3 id="背景颜色"><a href="#背景颜色" class="headerlink" title="背景颜色"></a>背景颜色</h3><ul>
<li>常见的颜色可以用单词来表示，但很少用(balck、white等)</li>
<li>通常可以使用十六进制的颜色代码或者rgb颜色代码来精准地表示一个颜色(#ffffff、#000000等)</li>
<li>人眼对rgb不是非常敏感，所以可以采用hsl(色相(0°～360°)、饱和度(0～100%)、亮度(0～100%))来表示一个颜色(hsl(0,100%,50%)、hsl(240,50%,65%))</li>
<li>rgba和hsla可以给颜色加上一个透明度</li>
</ul>
<h3 id="渐变色背景"><a href="#渐变色背景" class="headerlink" title="渐变色背景"></a>渐变色背景</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;!--老版IE写法--&gt;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left, red, green);</span><br><span class="line">&lt;!--通用写法--&gt;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, red, green);</span><br><span class="line">&lt;!--<span class="number">0</span>°代表从下往上、<span class="number">90</span>°就代表从左往右，依此推算--&gt;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, red, green);</span><br><span class="line">&lt;!--渐变区域，可以实现彩虹效果--&gt;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, red <span class="number">0</span>, green <span class="number">10%</span>, yellow <span class="number">50%</span>, blue <span class="number">100%</span>);</span><br></pre></td></tr></table></figure>
<h3 id="多背景叠加"><a href="#多背景叠加" class="headerlink" title="多背景叠加"></a>多背景叠加</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;!--可以实现网格效果--&gt;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, transparent <span class="number">0</span>, transparent <span class="number">49.5%</span>, green <span class="number">49.5%</span>, green <span class="number">50.5%</span>, transparent <span class="number">50.5%</span>, transparent <span class="number">100%</span>),</span><br><span class="line">            <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, transparent <span class="number">0</span>, transparent <span class="number">49.5%</span>, red <span class="number">49.5%</span>, red <span class="number">50.5%</span>, transparent <span class="number">50.5%</span>, transparent <span class="number">100%</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">30px</span> <span class="number">30px</span>;</span><br></pre></td></tr></table></figure>
<h3 id="linear-gradient-demo"><a href="#linear-gradient-demo" class="headerlink" title="linear-gradient demo"></a>linear-gradient demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>background<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:white;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">90px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background:rgba(255,0,0, .3); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background:url(./test.png); */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">90px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background: -webkit-linear-gradient(left, red, green); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background: linear-gradient(to right, red, green); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background: linear-gradient(180deg, red, green); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background: linear-gradient(135deg, red 0, green 10%, yellow 50%, blue 100%); */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, transparent <span class="number">0</span>, transparent <span class="number">49.5%</span>, green <span class="number">49.5%</span>, green <span class="number">50.5%</span>, transparent <span class="number">50.5%</span>, transparent <span class="number">100%</span>),</span></span><br><span class="line"><span class="language-css">                <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, transparent <span class="number">0</span>, transparent <span class="number">49.5%</span>, red <span class="number">49.5%</span>, red <span class="number">50.5%</span>, transparent <span class="number">50.5%</span>, transparent <span class="number">100%</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-size</span>: <span class="number">30px</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;c2&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="背景图片和属性（雪碧图）"><a href="#背景图片和属性（雪碧图）" class="headerlink" title="背景图片和属性（雪碧图）"></a>背景图片和属性（雪碧图）</h3><p>把小图标合成一张大图，通过给元素的公共css设置background-image为该合成图，这样每个元素都会以该合成图为背景，而且页面也只加载一张合成图，然后再给每个元素单独微调其background-position，把多个请求合并成一个。这样就达到了优化网页性能的效果。</p>
<h3 id="base64和性能优化"><a href="#base64和性能优化" class="headerlink" title="base64和性能优化"></a>base64和性能优化</h3><ul>
<li>可以通过在线工具将图片转化成base64编码的形式来引用，从而优化网页性能。</li>
<li>但是此时的图片大小会是之前的三分之四，而且这样引用也会增大CSS的体积。</li>
<li>所以该方法只适用于小图标而且少量的情况，比如一个常用的地方就是loading时候的小图标</li>
</ul>
<h3 id="多分辨率优化"><a href="#多分辨率优化" class="headerlink" title="多分辨率优化"></a>多分辨率优化</h3><p>通过修改background-size修改相应的比例来让背景图在移动端设备上也能显示得很清楚。</p>
<h3 id="背景-demo"><a href="#背景-demo" class="headerlink" title="背景 demo"></a>背景 demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>background<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">900px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red <span class="built_in">url</span>(<span class="string">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAA2CAYAAAAIw43zAAAMJGlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU0kXx+eVJCQktEAEpITeBOlVeo1UqYKNkAQSSgiBoGJHFxVYCyoWrMiqiG0tgCwqYlcWwd4XRFCUdbFgQ+WbJICu+5XzzTnz5nfu3Lnzv/PmzXkDgHIUWyTKRFUAyBLmiaOD/ZiTE5OYpE5ABtpADRgAYzYnV+QbFRUGYBlp/17e3QKItL1uLY31z/7/WlS5vFwOAEgU5BRuLicL8lEAcGeOSJwHAKEP2o1m5okgE6FKoC6GAiEbSzlNzq5STpFzmMwnNtofcjIAClQ2W5wGgJJUFzOfkwbjKJVCthVyBULIjZC9OHw2F/JnyOOysrIhK5tDNk/5Lk7a32KmjMZks9NGWZ6LrCgECHJFmezZ/+dy/O+SlSkZmcMIVipfHBItzVm6bhnZoVKmQr4oTImIhKwG+YaAK/OXcg9fEhI37P+Bk+sP1wwwAECpXHZAKGQdyIaSjDjfYfZii2VjoT+aVMCPTZDHR4Xi7Ojh+GiBMDMibDhOKZ/HGuFKXm5gzIhPqiCIBRm+Q7RekMeKHY55MV8QHwFZCfKD3IyY0OGxzwv4/hGjc0mipZrhO8dAVu5ILphxqjgoWu6POfMFrIhhe1gePzZEPhabzmHLNGhCTuflTg4b0cPlBQTK9WCFPGHcsE6sTJTnFz3sXyXKjBr2xxp5mcFSuyHk1tz8mJGx/Xlws8lzwUE6e2KUfF5cXZQXFSvXhjNBGPAHAYAJJLCmgGyQDgStfXV9YKQnCLCBGKQBHrAetoyMSJD1COEzBhSAPyHxQO7oOD9ZLw/kQ/uXUav8aQ1SZb35shEZoAdyFq6Ne+EeeBh8+sBqj7vibiPjmMojsxIDiQHEEGIQ0WKGoFD8Q1wm4MAMMmEVg1DY8mBWUg3CEe3f4hB6CO2Ex4SbhA7CXRAPnkA/wT8y/BZNMGoLBx0watBwdinfZ4ebQtVOuB/uCfVD7TgD1wbWuCPMxBf3hrk5Qeu3Vft32iUjqsm2ZJQ8huxDNv/RT8lSyWl0jDS373XKdaWMZuI/2vPjbP7f5caFbeiPntgy7Ah2ATuNXcIasTrAxE5h9VgLdkLKo3vjiWxvjMwWLdOTAeMIRnxsa2x7bT//MDd7eH6x7P2DPN6sPOmH458tmi0WpPHzmL7wtOYxWUKOzTimva2dCwDSs19+tLxhyM50hHH5my2nCQC3YmhM+2ZjwzPoeA8A9HffbEav4SewCoATbRyJOF9uw6UPAqAAZfilaAE9eHaZw4zsgTPwAD4gEEwEkSAWJILpcJ35IAuqngnmgkWgCJSAVWAd2AS2gZ1gD9gPDoM60AhOg/PgCmgDN8F9uFe6wQvQD96BQQRBSAgNoSNaiD5iglgh9ogr4oUEImFINJKIJCNpiBCRIHORxUgJUoZsQnYg1civyHHkNHIJaUfuIp1IL/Ia+YRiKBVVR3VRU3Q86or6oqFoLDoNTUNz0AJ0CboC3YBWovvQWvQ0egW9iXagL9ABDGCKGAMzwKwxV8wfi8SSsFRMjM3HirFyrBI7gDXAN30d68D6sI84EafjTNwa7tcQPA7n4Dn4fLwU34TvwWvxs/h1vBPvx78SaAQdghXBncAiTCakEWYSigjlhF2EY4Rz8JvqJrwjEokMohnRBX6ricR04hxiKXEL8SCxidhO7CIOkEgkLZIVyZMUSWKT8khFpI2kfaRTpGukbtIHBUUFfQV7hSCFJAWhQqFCucJehZMK1xSeKgySVcgmZHdyJJlLnk1eSa4iN5CvkrvJgxRVihnFkxJLSacsomygHKCcozygvFFUVDRUdFOcpChQXKi4QfGQ4kXFTsWPVDWqJdWfOpUqoa6g7qY2Ue9S39BoNFOaDy2JlkdbQaumnaE9on1QoivZKLGUuEoLlCqUapWuKb1UJiubKPsqT1cuUC5XPqJ8VblPhaxiquKvwlaZr1KhclzltsqAKl3VTjVSNUu1VHWv6iXVZ2okNVO1QDWu2hK1nWpn1LroGN2I7k/n0BfTq+jn6N3qRHUzdZZ6unqJ+n71VvV+DTUNR414jVkaFRonNDoYGMOUwWJkMlYyDjNuMT6N0R3jO4Y3ZvmYA2OujXmvOVbTR5OnWax5UPOm5ictplagVobWaq06rYfauLal9iTtmdpbtc9p941VH+sxljO2eOzhsfd0UB1LnWidOTo7dVp0BnT1dIN1Rbobdc/o9ukx9Hz00vXW6p3U69Wn63vpC/TX6p/Sf87UYPoyM5kbmGeZ/QY6BiEGEoMdBq0Gg4ZmhnGGhYYHDR8aUYxcjVKN1ho1G/Ub6xuHG881rjG+Z0I2cTXhm6w3uWDy3tTMNMF0qWmd6TMzTTOWWYFZjdkDc5q5t3mOeaX5DQuihatFhsUWizZL1NLJkm9ZYXnVCrVythJYbbFqH0cY5zZOOK5y3G1rqrWvdb51jXWnDcMmzKbQps7m5Xjj8UnjV4+/MP6rrZNtpm2V7X07NbuJdoV2DXav7S3tOfYV9jccaA5BDgsc6h1eOVo58hy3Ot5xojuFOy11anb64uziLHY+4NzrYuyS7LLZ5barumuUa6nrRTeCm5/bArdGt4/uzu557ofd//Kw9sjw2OvxbILZBN6EqgldnoaebM8dnh1eTK9kr+1eHd4G3mzvSu/HPkY+XJ9dPk99LXzTfff5vvSz9RP7HfN77+/uP8+/KQALCA4oDmgNVAuMC9wU+CjIMCgtqCaoP9gpeE5wUwghJDRkdchtli6Lw6pm9U90mThv4tlQamhM6KbQx2GWYeKwhnA0fGL4mvAHESYRwoi6SBDJilwT+TDKLCon6rdJxElRkyom9UTbRc+NvhBDj5kRszfmXaxf7MrY+3HmcZK45njl+Knx1fHvEwISyhI6Jo+fPG/ylUTtREFifRIpKT5pV9LAlMAp66Z0T3WaWjT11jSzabOmXZquPT1z+okZyjPYM44kE5ITkvcmf2ZHsivZAymslM0p/Rx/znrOC64Pdy23l+fJK+M9TfVMLUt9luaZtiatl+/NL+f3CfwFmwSv0kPSt6W/z4jM2J0xlJmQeTBLISs567hQTZghPJutlz0ru11kJSoSdeS456zL6ReHinflIrnTcuvz1OFPdovEXPKTpDPfK78i/8PM+JlHZqnOEs5qmW05e/nspwVBBb/Mwedw5jTPNZi7aG7nPN95O+Yj81PmNy8wWrBkQffC4IV7FlEWZSz6vdC2sKzw7eKExQ1LdJcsXNL1U/BPNUVKReKi20s9lm5bhi8TLGtd7rB84/KvxdziyyW2JeUln0s5pZd/tvt5w89DK1JXtK50Xrl1FXGVcNWt1d6r95SplhWUda0JX1O7lrm2eO3bdTPWXSp3LN+2nrJesr5jQ9iG+o3GG1dt/LyJv+lmhV/Fwc06m5dvfr+Fu+XaVp+tB7bpbivZ9mm7YPudHcE7aitNK8t3Enfm7+ypiq+68IvrL9W7tHeV7PqyW7i7Y0/0nrPVLtXVe3X2rqxBayQ1vfum7mvbH7C//oD1gR0HGQdLDoFDkkPPf03+9dbh0MPNR1yPHDhqcnTzMfqx4lqkdnZtfx2/rqM+sb79+MTjzQ0eDcd+s/ltd6NBY8UJjRMrT1JOLjk5dKrg1ECTqKnvdNrpruYZzffPTD5z4+yks63nQs9dPB90/swF3wunLnpebLzkfun4ZdfLdVecr9S2OLUc+93p92Otzq21V12u1re5tTW0T2g/ec372unrAdfP32DduHIz4mb7rbhbd25Pvd1xh3vn2d3Mu6/u5d8bvL/wAeFB8UOVh+WPdB5V/mHxx8EO544TnQGdLY9jHt/v4nS9eJL75HP3kh5aT/lT/afVz+yfNfYG9bY9n/K8+4XoxWBf0Z+qf25+af7y6F8+f7X0T+7vfiV+NfS69I3Wm91vHd82D0QNPHqX9W7wffEHrQ97Prp+vPAp4dPTwZmfSZ83fLH40vA19OuDoayhIRFbzJb9CmCwoqmpALzeDQAtEf47tAFAmSK/m8kKIr9Pygj8J5bf32TFGYDdPgDELQQgDP6jbIXVBDIVttLf8VgfgDo4jNbhkpvqYC+PRYU3HMKHoaE3ugCQGgD4Ih4aGtwyNPSlCoq9C0BTjvxOKC3SO+h2dSldmcUGP5Z/ATRNb+Gbl8cXAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMjI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KKEFk0AAAABxpRE9UAAAAAgAAAAAAAAAbAAAAKAAAABsAAAAbAAAEjVcWetQAAARZSURBVHgB7FpdTFRHFP52gQW6ErYszbaLRDCAwQpYBcH6s/FBiCbUB9SYiGlo0oSX9am+oA8Ek4b40KRJ+9ySJk3RohiJxIhNlUQEotmaVmKJBim/QX4CEu4WZD2wcO/M3dm7mGjQvbPJZs/MmTlz5vvmnJk7dy3Z2TkByE/UI2CRREc9x8sTlESbg2dIoiXRJkHAJNOUES2JNgkCJpmmjGizEd3ZeW9dp1xcXLKu40f74GpES6LfbapP79uFk1uTyclF+lqhPLkPT9vEmp2WRK8ZqvVteLbUgy8ybaoTyn8+eK6PqeVIgiQ6EkLviP5s6T4iOkH15o0RHbs5RTX6NoSFp3zakXu0McqSaGN8okYriY4aKo0nIok2xidqtJLoqKEyOJFs+ukVzMn0ROckO1CduwGBecASF4PpoWHU9v+/DJXFlohvizNRtMmFJHvsCnyL8Ct+PB8bRdeDp6gfeSmANbSqYnMajuW74f7IgXgrqyd7MxP4y9cL76MXrGLNsndbFg5tT4dT9ZG6zi/5OIz27qCPpie6LDcPdfs/VkENDPlQcm0M35Tk4ViBVq820AnTPZ04eGdaV6sVrcmpaCovgNvOsas1YKTA7AiaWx6ifsrC1IYXLTYHfju+ExkRbE/3+NBhzULZlg2qMdM9XpXlfIq6A24NALox+nkiA9VFTrXOSDAC7GhuLs7s32jUXaDzo6u1Hd5+439oWe2puFn5GTTqBKYMqoz8FnULe2HyvjxH64n2T9HzuSMF8frZzi/AT1eH8XF8ZIYD7Oi2PJzZI8oIlKppjMFJPxI+sMPpolSuH4tGam28jdqwkW1H89ef4xPelWUryvgonk0tIMmZArcjMWg5eOvJjRLOb64RU4g6opfnxgAz9u8/uNQ9iIYXK+k0xooKVwqO7MrCFlcSVlM9gwmsdhf+rMwPIVAZ7sX3N/pw2c+2jsd3pTuwJ5OPzcBUL0419gkPVtW7C1GV/yFrhK6wJ9F6uRu141ra3+lOw4XyrcGoX6RJWbWVIYlW4ZvBrasdqBnRgFNVK0IpHbDKE8bpEKVwqrrDHpSla/fKS8qBh3dR0THLtWMLp4m8kxx5i+hqaYN3UD9+Ihq/2ouMOLb3JK40dKNe0bclbpNp0Z0QLLo3ddf9vqbuIHx+3Lp4GzWTocCx8Ipkiy0VbVX83qmM/g1P87CoOVMXi18qDyDHrlWJ+hWmZ+HHw5laI5IGOu+gwselCU5fVVKI6gI+A8iIJoiUPnqFd4O/S+eQMygcob25htub59Da0I5aQbTpzRTRwfAH5mCI+QGc+6kHN5lzmf4tFDBH0dwujOZV+6KtRBKNBXQ1/QHv89eP5iVgQ4mgFNz2AEOx2v64SsDSb0JMzErxJRSbE4eKNzF7eyiJ+ufhwPhjnPq9X7iXa+MIsoXpUzdF0XmKohYmijTAIkkE6JeUfrW3gZE6RNBTNviVssHM6qITELbG7KNfIK8b0a8AAAD//7ooWjUAAAPeSURBVO2YS0hUURjH/6PWKDq+wxoyR/FVZpJK6pCaGgaBEmgItTCFQFq00pUFkZtahJtoYYRkD5IoJnoRmiFSJGiYlBWpSflkJCZ1cszHdCad+xjvnTkz6uLamc09j+/77nf/vzlPVVxcvBXk19n51vbgfj4xoVx5IwoLgz9FYTMyMkV12sqR+CRczNPy5vPDONf4CS3/vopvpiv5oLk8DzpfOmvXVrN4frcDF6ZVK6ar41uGepD7wugyVG1hNoqj+cQsP4jfM9d+9sCqzQbaavmO801fPAZ9i4CO5/W06+ThczVox/jWiQ/INIy5jM9AO4xo2hEirawPHEFYRsnIeUw/cqTj2lsl4lOOTAbaETSlcHbpxU+pqbWbTK3iZUbs405NjebKHOi28D60UzADva6ggWtlBUgL9uJIWM3fcOZOP955tOZzYbjCpaJc5Gm3cnVa0HXEr9ADP/uLNt0aTSucXQDH59lDWTiZECBoNuLG9R40LAma1lCsLcwlmyoeNMjmsY5sHp84/SP5w3Bajx38/w/uficD7QAtITIeTUejRK0DHS9xom99SFdlpaNiX4gg/hI6HrSietK+Mxd0rRQTtLFoKooWdTDQa1qjbVr6kXX0oGgdxfwoLjd+xEOno07EAWlBPpj6tYCv4maotoajvWI/1IJ2V9Dqj+VDH+Et8AAb0a5EE6klUylNSUVNZpio12oZx/1Hvbhikh95NoeSyAgcz0hAdJg3OUO3Cc7QfLj60sPQh4njDHe9QUm3mTdaKdVkp6N0j3AGWO5w9ztlp+5Vb9zghvW6MHFXAOnPUpNjVo7keXpyqB9t70fwyvgH0/CCLkCNxPBAJOoikBwVATW3o54joNslQUtNxbY8pob6cPv1MG7OqMiMoEFlTgrStX6SKbr7nQy0pIwgU2wonpanIUywAZIxlWmWB21zqC0gN12xlDcztu2BQx4M9JrXaJ6byluDe2UHoNM4qMybOCk5B21zrCdHJr3gyCQfbBaTJi+EB/Mr+38Ieje5697JabS2mzEujKhQtTcWpWlR0Pi6Bj5nNmFkkEztfWNoMLnevVVnJqE4RSvanAlfbjWPw2DohSk5g+zWg7guywC5yGmlv8jhpm4uAivIKpDq74f8XRroQjQIVC9Dty4uYNpsxohxBl0Tv9EyJ+vupMMLp2K2IX17ABd3ataMz0MTuDq+6MSPvouBptdK0ZYMtKLx0SfPQNNrpWhLBlrR+OiTZ6DptVK0JQOtaHz0yTPQ9Fop2pKBVjQ++uQZaHqtFG3JQCsaH33yDDS9Voq2ZKAVjY8+eQaaXitFW/4FdhzkzmcYrBcAAAAASUVORK5CYII=</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background-position: center top; */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background-position: 20px 30px; */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background-size:100px 50px; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">./test_bg.png</span>) no-repeat;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-position</span>: -<span class="number">17px</span> -<span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-size</span>: <span class="number">261px</span> <span class="number">113px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c3</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">./test_bg.png</span>) no-repeat;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-position</span>: -<span class="number">169px</span> -<span class="number">23px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-size</span>: <span class="number">261px</span> <span class="number">113px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class=&quot;c2&quot;&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;c3&quot;&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h2><p>使用边框来画一个梯形、三角形、扇形等</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/QQ20180912-153943@2x.jpg" alt="QQ20180912-153943@2x"></p>
<h2 id="滚动、换行"><a href="#滚动、换行" class="headerlink" title="滚动、换行"></a>滚动、换行</h2><h3 id="滚动行为和滚动条"><a href="#滚动行为和滚动条" class="headerlink" title="滚动行为和滚动条"></a>滚动行为和滚动条</h3><p>overflow属性有四个值可以取</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/overflow%E5%B1%9E%E6%80%A7.png" alt="overflow属性"></p>
<h3 id="文字换行"><a href="#文字换行" class="headerlink" title="文字换行"></a>文字换行</h3><p>CSS通常有三个属性来控制文字换行问题</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/CSS%E6%96%87%E5%AD%97%E6%8D%A2%E8%A1%8C%E5%B1%9E%E6%80%A7.png" alt="CSS文字换行属性"></p>
<h2 id="CSS-Hack"><a href="#CSS-Hack" class="headerlink" title="CSS Hack"></a>CSS Hack</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/CSSHack1.png" alt="CSSHack1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/CSSHack2.png" alt="CSSHack2"></p>
<h1 id="CSS布局"><a href="#CSS布局" class="headerlink" title="CSS布局"></a>CSS布局</h1><h2 id="常用布局方法"><a href="#常用布局方法" class="headerlink" title="常用布局方法"></a>常用布局方法</h2><ol>
<li>table表格布局</li>
<li>float+margin布局</li>
<li>inline-block布局</li>
<li>flexbox布局</li>
</ol>
<h2 id="float-margin布局"><a href="#float-margin布局" class="headerlink" title="float+margin布局"></a>float+margin布局</h2><h3 id="float基础特性"><a href="#float基础特性" class="headerlink" title="float基础特性"></a>float基础特性</h3><ul>
<li>元素浮动</li>
<li>脱离文档流</li>
<li>但不脱离文本流</li>
</ul>
<h3 id="float对自身的影响"><a href="#float对自身的影响" class="headerlink" title="float对自身的影响"></a>float对自身的影响</h3><ul>
<li>形成”块”(BFC)</li>
<li>位置尽可能靠上</li>
<li>位置尽可能靠左(右)</li>
</ul>
<h3 id="float对兄弟的影响"><a href="#float对兄弟的影响" class="headerlink" title="float对兄弟的影响"></a>float对兄弟的影响</h3><ul>
<li>上面一般贴着非float元素</li>
<li>旁边贴着float元素</li>
<li>不影响其它块级元素的位置</li>
<li>影响其它块级元素的内部文本</li>
</ul>
<h3 id="float对父级的影响"><a href="#float对父级的影响" class="headerlink" title="float对父级的影响"></a>float对父级的影响</h3><ul>
<li>从布局上”消失”</li>
<li>高度塌陷</li>
</ul>
<h3 id="float-demo"><a href="#float-demo" class="headerlink" title="float demo"></a>float demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--经常使用的清除浮动的方法--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>float</span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.p1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container2</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&#x27;aaa&#x27;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">clear</span>:both;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">visibility</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;p1&quot;</span>&gt;</span></span><br><span class="line">            float</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;p2&quot;</span>&gt;</span></span><br><span class="line">            很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字很长的文字</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container container2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>写几个字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;p1&quot;</span>&gt;</span></span><br><span class="line">            float</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;p1&quot;</span>&gt;</span></span><br><span class="line">            float</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:200px;background:blue;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="float-margin实现两栏-三栏布局"><a href="#float-margin实现两栏-三栏布局" class="headerlink" title="float+margin实现两栏/三栏布局"></a>float+margin实现两栏/三栏布局</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* float:left; */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* height:100%; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:blue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span><span class="selector-pseudo">:right</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.middle</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: yellow;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-right</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">            左</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">            右</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span></span><br><span class="line">            中间</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="inline-block布局"><a href="#inline-block布局" class="headerlink" title="inline-block布局"></a>inline-block布局</h2><ul>
<li>像文本一样去排列block元素</li>
<li>没有清除浮动、高度塌陷等问题</li>
<li>但它需要处理间隙</li>
</ul>
<p>处理间隙有两种方法：</p>
<ol>
<li>将父级元素的font-size设为0，然后给子元素的font-size重新设为默认值。</li>
<li>将div标签之间的换行或者空格去除掉。</li>
</ol>
<h2 id="响应式设计和布局"><a href="#响应式设计和布局" class="headerlink" title="响应式设计和布局"></a>响应式设计和布局</h2><ul>
<li>在不同设备上正常使用</li>
<li>一般主要处理屏幕大小问题</li>
<li>主要方法：<ol>
<li>隐藏+折行+自适应空间</li>
<li>rem / viewport / media query </li>
</ol>
</li>
</ul>
<h3 id="响应式布局-demo"><a href="#响应式布局-demo" class="headerlink" title="响应式布局 demo"></a>响应式布局 demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>responsive<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">max-width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>:<span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">640px</span>)&#123;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.left</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:blue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">            这里是一些不重要的内容，比如友情链接、广告</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">            这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>responsive<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">html</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">max-width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>:<span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.intro</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">9rem</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">9rem</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">9rem</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">4.5rem</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>:<span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:.<span class="number">3rem</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">375px</span>)&#123;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">html</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">font-size</span>:<span class="number">24px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">320px</span>)&#123;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">html</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">font-size</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">640px</span>)&#123;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.intro</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>:.<span class="number">3rem</span> auto;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span></span><br><span class="line">            介绍1</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span></span><br><span class="line">            介绍2</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span></span><br><span class="line">            介绍3</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span></span><br><span class="line">            介绍4</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="CSS效果属性"><a href="#CSS效果属性" class="headerlink" title="CSS效果属性"></a>CSS效果属性</h1><h2 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h2><ul>
<li>营造层次感（立体感）</li>
<li>充当没有宽度的边框</li>
<li>投影</li>
<li>特殊效果</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/box-shadow.png" alt="box-shadow"></p>
<blockquote>
<p>box-shadow: (inset表示内阴影) [水平偏移量] [垂直偏移量] [模糊区域] [扩展区域] [半透明效果/颜色] </p>
</blockquote>
<h3 id="box-shadow-demo"><a href="#box-shadow-demo" class="headerlink" title="box-shadow demo"></a>box-shadow demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* box-shadow: inset 5px 5px 10px 0 rgba(0,0,0,.5); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* box-shadow: 0 0 0 5px green; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">4px</span> green,</span></span><br><span class="line"><span class="language-css">                <span class="number">40px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">4px</span> green,</span></span><br><span class="line"><span class="language-css">                <span class="number">30px</span> <span class="number">30px</span> <span class="number">0</span> -<span class="number">2px</span> red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="利用box-shadow来画哆啦A梦"><a href="#利用box-shadow来画哆啦A梦" class="headerlink" title="利用box-shadow来画哆啦A梦"></a>利用box-shadow来画哆啦A梦</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">300px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#C63D01</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">#000</span>,</span></span><br><span class="line"><span class="language-css">                -<span class="number">20px</span> -<span class="number">26px</span> <span class="number">0</span> -<span class="number">10px</span> <span class="number">#333333</span>,</span></span><br><span class="line"><span class="language-css">                -<span class="number">34px</span> -<span class="number">40px</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">#fff</span>,</span></span><br><span class="line"><span class="language-css">                -<span class="number">34px</span> -<span class="number">40px</span> <span class="number">0</span> <span class="number">16px</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">20px</span> -<span class="number">26px</span> <span class="number">0</span> -<span class="number">10px</span> <span class="number">#333333</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">34px</span> -<span class="number">40px</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">#fff</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">34px</span> -<span class="number">40px</span> <span class="number">0</span> <span class="number">16px</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">0px</span> <span class="number">55px</span> <span class="number">0</span> <span class="number">75px</span> <span class="number">#fff</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">0px</span> <span class="number">55px</span> <span class="number">0</span> <span class="number">76px</span> <span class="number">#000</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">0</span> <span class="number">22px</span> <span class="number">0</span> <span class="number">120px</span> <span class="number">#08BDEB</span>,</span></span><br><span class="line"><span class="language-css">                <span class="number">0</span> <span class="number">22px</span> <span class="number">0</span> <span class="number">121px</span> <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*叮当猫的鼻子*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span><span class="selector-pseudo">::before</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: -<span class="number">81px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">17px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*叮当猫的嘴巴*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: -<span class="number">83px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: -<span class="number">44px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">125px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">70px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom-right-radius</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom-left-radius</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="clip-path"><a href="#clip-path" class="headerlink" title="clip-path"></a>clip-path</h2><ul>
<li>对容器进行裁剪</li>
<li>常见的几何图形(圆形、菱形、五角星等等)</li>
<li>可以做iOS的圆角</li>
<li>自定义路径</li>
<li>但是clip-path对有些浏览器的兼容性不是很好</li>
</ul>
<h3 id="clip-path-demo"><a href="#clip-path-demo" class="headerlink" title="clip-path demo"></a>clip-path demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">./panda.jpg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-position</span>: center center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>:<span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 矩形 内部裁剪 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* clip-path: inset(100px 50px); */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 菱形 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); */</span></span></span><br><span class="line"><span class="language-css">            </span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 圆形 带过渡动画 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">50px</span> at <span class="number">100px</span> <span class="number">100px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>:clip-path .<span class="number">4s</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 五角星 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* clip-path: url(#clipPath); */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">80px</span> at <span class="number">100px</span> <span class="number">100px</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        你好，我是熊猫</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">clipPath</span> <span class="attr">id</span>=<span class="string">&quot;clipPath&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;circle cx=&quot;60&quot; cy=&quot;60&quot; r=&quot;50&quot; fill=&quot;#34538b&quot; /&gt; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">polygon</span> <span class="attr">stroke</span>=<span class="string">&quot;#979797&quot;</span> <span class="attr">points</span>=<span class="string">&quot;0.4921875 81.2070313 92.640625 81.2070313 121.601562 0.21875 153.648437 81.2070313 247.390625 80.7734375 173.394531 140.496094 200.308594 227.09375 121.601562 172.71875 53.4960937 227.09375 80.859375 140.496094&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">polygon</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">clipPath</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2D-3D变换"><a href="#2D-3D变换" class="headerlink" title="2D/3D变换"></a>2D/3D变换</h2><h3 id="2D变换"><a href="#2D变换" class="headerlink" title="2D变换"></a>2D变换</h3><ul>
<li>transform变换<ol>
<li>translate 偏移</li>
<li>scale 缩放</li>
<li>skew 斜切</li>
<li>rotate 旋转</li>
</ol>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/transform%E5%B1%9E%E6%80%A7.jpg" alt="transform属性"></p>
<h3 id="3D变换-demo"><a href="#3D变换-demo" class="headerlink" title="3D变换 demo"></a>3D变换 demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">perspective</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#cube</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-<span class="number">100px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>:transform .<span class="number">4s</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#cube</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>:<span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#cube</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transform: translateZ(-100px) rotateX(270deg); */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-<span class="number">100px</span>) <span class="built_in">rotateX</span>(<span class="number">90deg</span>) <span class="built_in">rotateY</span>(<span class="number">90deg</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.front</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transform: translateX(100px); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transform: translateX(100px) translateY(10px) rotate(25deg); */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transform: rotate(25deg) translateX(100px) translateY(10px); */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.back</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transform: translateZ(-100px); */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-<span class="number">100px</span>) <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100px</span>) <span class="built_in">rotateY</span>(-<span class="number">90deg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">100px</span>) <span class="built_in">rotateY</span>(<span class="number">90deg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">0</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.top</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">100px</span>) <span class="built_in">rotateX</span>(-<span class="number">90deg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">255</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bottom</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100px</span>) <span class="built_in">rotateX</span>(<span class="number">90deg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;cube&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;front&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="CSS动画"><a href="#CSS动画" class="headerlink" title="CSS动画"></a>CSS动画</h1><ul>
<li>动画的原理:<ol>
<li>视觉暂留作用</li>
<li>画面逐渐变化</li>
</ol>
</li>
<li>动画的作用：<ol>
<li>给用户愉悦感</li>
<li>引起用户注意</li>
<li>给用户操作反馈</li>
<li>掩饰后台加载</li>
</ol>
</li>
<li>CSS动画类型<ol>
<li>transition补间动画</li>
<li>keyframe关键帧动画</li>
<li>逐帧动画</li>
</ol>
</li>
</ul>
<h2 id="transition补间动画"><a href="#transition补间动画" class="headerlink" title="transition补间动画"></a>transition补间动画</h2><ul>
<li>过渡动画需要有状态的变化</li>
<li>位置-平移(left/right/margin/transform)</li>
<li>方位-旋转(transform)</li>
<li>大小-缩放(transform)</li>
<li>透明度(opacity)</li>
<li>其它-线性变换(transform)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB%E5%B1%9E%E6%80%A7.png" alt="补间动画属性"></p>
<h3 id="transition-demo"><a href="#transition-demo" class="headerlink" title="transition demo"></a>transition demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transition: width 1s, background 3s;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            transition-delay: 1s; */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: all <span class="number">1s</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* transition-timing-function: ease-in-out; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(<span class="number">0.465</span>, -<span class="number">0.460</span>, <span class="number">0.525</span>, <span class="number">1.435</span>);</span></span><br><span class="line"><span class="language-css">            </span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>:green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="keyframe关键帧动画"><a href="#keyframe关键帧动画" class="headerlink" title="keyframe关键帧动画"></a>keyframe关键帧动画</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/5E476FF4B278A49AB9EE1F32D8F16B4B.png" alt="5E476FF4B278A49AB9EE1F32D8F16B4B"></p>
<ul>
<li>相当于多个补间动画</li>
<li>但它与元素的状态变化无关</li>
<li>定义更加灵活</li>
</ul>
<h3 id="keyframe-demo"><a href="#keyframe-demo" class="headerlink" title="keyframe demo"></a>keyframe demo</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">animation</span>: run <span class="number">1s</span> linear;</span></span><br><span class="line"><span class="language-css">            </span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 反向动画 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* animation-direction: reverse; */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 决定动画最后停在哪 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* animation-fill-mode: forwards; */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 动画次数 infinite为无限执行 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">animation-iteration-count</span>: infinite;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 播放状态 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* animation-play-state: paused; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@keyframes</span> run&#123;</span></span><br><span class="line"><span class="language-css">            <span class="number">0%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">50%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">100%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="逐帧动画"><a href="#逐帧动画" class="headerlink" title="逐帧动画"></a>逐帧动画</h2><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E9%80%90%E5%B8%A7%E5%8A%A8%E7%94%BB.png" alt="逐帧动画"></p>
<ul>
<li>其实还是属于关键帧动画的一种</li>
<li>适用于无法补间计算的动画</li>
<li>资源较大</li>
<li>使用steps(x): 指定两个关键帧之间有几个画面</li>
</ul>
<h3 id="逐帧动画-demo"><a href="#逐帧动画-demo" class="headerlink" title="逐帧动画 demo"></a>逐帧动画 demo</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/%E9%80%90%E5%B8%A7%E5%8A%A8%E7%94%BBanimal.png" alt="逐帧动画animal"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--实现猎豹跑动的动画--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./animal.png</span>) no-repeat;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">animation</span>: run <span class="number">1s</span> infinite;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">animation-timing-function</span>: <span class="built_in">steps</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="keyword">@keyframes</span> run&#123;</span></span><br><span class="line"><span class="language-css">            <span class="number">0%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">12.5%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">100px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">25%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">200px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">37.5%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">300px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">50%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">62.5%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">100px</span> -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">75%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">200px</span> -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">87.5%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: -<span class="number">300px</span> -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="number">100%</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="CSS预处理器"><a href="#CSS预处理器" class="headerlink" title="CSS预处理器"></a>CSS预处理器</h1><h2 id="CSS预处理器简介"><a href="#CSS预处理器简介" class="headerlink" title="CSS预处理器简介"></a>CSS预处理器简介</h2><ul>
<li>基于CSS的另一种语言</li>
<li>通过工具编译成CSS</li>
<li>添加了很多CSS不具备的特性</li>
<li>能提升CSS文件的组织方式</li>
</ul>
<h2 id="CSS预处理器特性"><a href="#CSS预处理器特性" class="headerlink" title="CSS预处理器特性"></a>CSS预处理器特性</h2><ul>
<li>嵌套以反映层级和约束</li>
<li>变量和计算以减少重复代码</li>
<li>Extend和Mixin代码片段</li>
<li>循环以适用于复杂有规律的样式</li>
<li>import CSS文件以模块化</li>
</ul>
<h2 id="CSS预处理器框架"><a href="#CSS预处理器框架" class="headerlink" title="CSS预处理器框架"></a>CSS预处理器框架</h2><ul>
<li>Less - Lesshat/EST</li>
<li>SASS - Compass</li>
<li>提供现成的mixin</li>
<li>类似JS类库，封装常用功能</li>
</ul>
<h1 id="PostCSS后处理器"><a href="#PostCSS后处理器" class="headerlink" title="PostCSS后处理器"></a>PostCSS后处理器</h1><blockquote>
<p>CSS工程化：组织 优化 构建 维护</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/PostCSS%E7%A4%BA%E6%84%8F.png" alt="PostCSS示意"></p>
<h2 id="PostCSS常见的插件"><a href="#PostCSS常见的插件" class="headerlink" title="PostCSS常见的插件"></a>PostCSS常见的插件</h2><ul>
<li>import 模块合并 将import的语句都内联进来，方便组织更好的代码</li>
<li>autoprefixier 自动加前缀</li>
<li>cssnano 压缩代码，一般放在配置项的最后面</li>
<li>cssnext 使用CSS新特性</li>
<li>precss变量、mixin、循环等等</li>
</ul>
<h3 id="autoprefixer的配置写法"><a href="#autoprefixer的配置写法" class="headerlink" title="autoprefixer的配置写法"></a>autoprefixer的配置写法</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/autoprefixer%E5%86%99%E6%B3%95.jpg" alt="autoprefixer写法"></p>
<h3 id="cssnext"><a href="#cssnext" class="headerlink" title="cssnext"></a>cssnext</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/CSSnext.png" alt="CSSnext"></p>
<h3 id="precss"><a href="#precss" class="headerlink" title="precss"></a>precss</h3><blockquote>
<p>和预处理十分相似。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/precss.png" alt="precss"></p>
<h2 id="PostCSS支持的构建工具"><a href="#PostCSS支持的构建工具" class="headerlink" title="PostCSS支持的构建工具"></a>PostCSS支持的构建工具</h2><ul>
<li>CLI命令行工具</li>
<li>webpack postcss-loader</li>
<li>Gulp gulp-postcss</li>
<li>Grunt grunt-postcss</li>
<li>Rollup rollup-postcss</li>
<li>…</li>
</ul>
<h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/webpack%E7%A4%BA%E6%84%8F.png" alt="webpack示意"></p>
<ul>
<li>JS是整个应用的核心入口</li>
<li>一切资源均由JS管理依赖</li>
<li>一切资源均由webpack打包</li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>Web前端面试【一】</title>
    <url>/2017/07/18/Web%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E3%80%90%E4%B8%80%E3%80%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>INFO ：这段时间遇到的面试题。</p>
</blockquote>
<a id="more"></a>

<h1 id="前端页面由哪三层构成及各层的作用"><a href="#前端页面由哪三层构成及各层的作用" class="headerlink" title="前端页面由哪三层构成及各层的作用"></a>前端页面由哪三层构成及各层的作用</h1><ul>
<li><p>结构层：由 HTML 或 XHTML 之类的标记语言负责创建，仅负责语义的表达。解决了页面“内容是什么”的问题。</p>
</li>
<li><p>表示层：由CSS负责创建，解决了页面“如何显示内容”的问题。</p>
</li>
<li><p>行为层：由脚本语言负责。解决了页面上“内容应该如何对事件作出反应”的问题。</p>
</li>
</ul>
<h1 id="行内元素有哪些？块级元素有哪些？-空-void-元素有那些？"><a href="#行内元素有哪些？块级元素有哪些？-空-void-元素有那些？" class="headerlink" title="行内元素有哪些？块级元素有哪些？ 空(void)元素有那些？"></a>行内元素有哪些？块级元素有哪些？ 空(void)元素有那些？</h1><ul>
<li><p>行内元素：a、b、span、img、input、strong、select、label、em、button、textarea;</p>
</li>
<li><p>块级元素：div、ul、li、dl、dt、dd、p、h1-h6、blockquote;</p>
</li>
<li><p>空元素：br、meta、hr、link、input、img。</p>
</li>
</ul>
<h1 id="html5有哪些新特性、移除了那些元素？"><a href="#html5有哪些新特性、移除了那些元素？" class="headerlink" title="html5有哪些新特性、移除了那些元素？"></a>html5有哪些新特性、移除了那些元素？</h1><ul>
<li><p>新特性：</p>
<ol>
<li>语义化更好的内容元素，比如 article、footer、header、nav、section，表单控件，calendar、date、time、email、url、search;</li>
<li>一些功能标签，如绘画 canvas，用于媒介播放的 video 和 audio 元素;</li>
<li>本地离线存储 localStorage 长期存储数据，浏览器关闭后数据不丢失;sessionStorage 的数据在浏览器关闭后自动删除；</li>
<li>新的技术，如webworker, websocket, Geolocation;</li>
</ol>
</li>
<li><p>移除的元素：</p>
<ol>
<li>纯表现的元素：basefont，big，center，font, s，strike，tt，u;</li>
<li>对可用性产生负面影响的元素：frame，frameset，noframes；</li>
</ol>
</li>
</ul>
<h1 id="meta标签"><a href="#meta标签" class="headerlink" title="meta标签"></a>meta标签</h1><ol>
<li><p>charset属性：单独使用，设置文档字符及编码格式。<br>写法：&lt;meta charset=”UTF-8”&gt;<br>常见的中文编码格式：</p>
<ul>
<li>B-2312: 国标码，简体中文</li>
<li>GBK：扩展的国标编码，简体中文</li>
<li>UTF-8: 万国码 Unicode码，基本兼容各国语言</li>
</ul>
</li>
<li><p>name属性：需配合content属性使用，主要用于给搜索引擎提供必要信息。<br>写法：&lt;meta name=”属性值” content=”属性值详细内容”<br>重要属性值：</p>
<ul>
<li>author 作者，声明网站作者，常用公司网址表示</li>
<li>keywords 网站关键字，多个关键字，用英文逗号分隔</li>
<li>description 网页描述，搜索引擎显示在title下的描述内容</li>
</ul>
</li>
<li><p>http-equiv属性: 也需要与content属性配合使用，前者是用于声明即将修改哪些属性值，而实际的属性值内容，在content中描述。而这个属性的用途是把 content 属性关联到 HTTP 头部。<br>常用属性值：</p>
<ul>
<li><p>Content-Type HTML4.01之前的文档内容编码声明。</p>
</li>
<li><p>refresh 网页刷新</p>
</li>
<li><p>set-Cookie 设置浏览器cookie缓存</p>
<p>http-equiv 属性为名称/值对提供了名称。并指示服务器在发送实际的文档之前先在要传送给浏览器的 MIME 文档头部包含名称/值对。</p>
<p>当服务器向浏览器发送文档时，会先发送许多名称/值对。虽然有些服务器会发送许多这种名称/值对，但是所有服务器都至少要发送一个：content-type:text/html。这将告诉浏览器准备接受一个 HTML 文档。</p>
<p>使用带有 http-equiv 属性的 <meta> 标签时，服务器将把名称/值对添加到发送给浏览器的内容头部。例如，添加：</p>
</li>
</ul>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;charset&quot;</span> <span class="attr">content</span>=<span class="string">&quot;iso-8859-1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;expires&quot;</span> <span class="attr">content</span>=<span class="string">&quot;31 Dec 2008&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样发送到浏览器的头部就应该包含：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">content-type: text/html</span><br><span class="line">charset:iso-8859-1</span><br><span class="line">expires:31 Dec 2008</span><br></pre></td></tr></table></figure>
<h1 id="对标签语义化的理解"><a href="#对标签语义化的理解" class="headerlink" title="对标签语义化的理解"></a>对标签语义化的理解</h1><ul>
<li><p>去掉或者丢失样式的时候能够让页面呈现出清晰的结构；</p>
</li>
<li><p>有利于SEO：和搜索引擎建立良好沟通，有助于爬虫抓取更多的有效信息：爬虫依赖于标签来确定上下文和各个关键字的权重；</p>
</li>
<li><p>方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以意义的方式来渲染网页；</p>
</li>
<li><p>便于团队开发和维护，语义化更具可读性，遵循W3C标准的团队都遵循这个标准，可以减少差异化。</p>
</li>
</ul>
<h1 id="以前端角度出发做好SEO需要考虑什么"><a href="#以前端角度出发做好SEO需要考虑什么" class="headerlink" title="以前端角度出发做好SEO需要考虑什么"></a>以前端角度出发做好SEO需要考虑什么</h1><ul>
<li><p>了解搜索引擎如何抓取网页和如何索引网页</p>
</li>
<li><p>meta标签优化</p>
</li>
<li><p>关键词分析</p>
</li>
<li><p>付费给搜索引擎</p>
</li>
<li><p>链接交换和链接广泛度（Link Popularity）</p>
</li>
<li><p>合理的标签使用</p>
</li>
</ul>
<h1 id="HTML与XHTML二者有什么区别"><a href="#HTML与XHTML二者有什么区别" class="headerlink" title="HTML与XHTML二者有什么区别"></a>HTML与XHTML二者有什么区别</h1><ol>
<li><p>XHTML 元素必须被正确地嵌套。</p>
</li>
<li><p>XHTML 元素必须被关闭。</p>
</li>
<li><p>标签名必须用小写字母。</p>
</li>
<li><p>XHTML 文档必须拥有根元素。</p>
</li>
</ol>
<h1 id="DOCTYPE作用是什么以及标准模式与兼容模式的区别"><a href="#DOCTYPE作用是什么以及标准模式与兼容模式的区别" class="headerlink" title="DOCTYPE作用是什么以及标准模式与兼容模式的区别"></a>DOCTYPE作用是什么以及标准模式与兼容模式的区别</h1><ol>
<li><!DOCTYPE><p>声明位于HTML文档中的第一行，处于 <html> 标签之前。告知浏览器的解析器用什么文档标准解析这个文档。DOCTYPE不存在或格式不正确会导致文档以兼容模式呈现。</p>
</li>
<li><p>标准模式的排版 和JS运作模式都是以该浏览器支持的最高标准运行。在兼容模式中，页面以宽松的向后兼容的方式显示,模拟老式浏览器的行为以防止站点无法工作。</p>
</li>
</ol>
<h1 id="HTML5-为什么只需要写"><a href="#HTML5-为什么只需要写" class="headerlink" title="HTML5 为什么只需要写"></a>HTML5 为什么只需要写<!DOCTYPE HTML></h1><p>HTML5 不基于 SGML，因此不需要对DTD进行引用，但是需要doctype来规范浏览器的行为（让浏览器按照它们应该的方式来运行）；而HTML4.01基于SGML,所以需要对DTD进行引用，才能告知浏览器文档所使用的文档类型。</p>
<p>问：如果我不放入<!DOCTYPE html> ，HTML5还会工作么？<br>答：不会，浏览器将不能识别他是HTML文档，同时HTML5的标签将不能正常工作。</p>
<h1 id="iframe有哪些缺点"><a href="#iframe有哪些缺点" class="headerlink" title="iframe有哪些缺点"></a>iframe有哪些缺点</h1><ol>
<li>iframe会阻塞主页面的Onload事件；</li>
<li>搜索引擎的检索程序无法解读这种页面，不利于SEO；</li>
<li>iframe和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载。</li>
</ol>
<blockquote>
<p>如果需要使用iframe，最好是通过javascript动态给iframe添加src属性值，这样可以绕开以上两个问题。</p>
</blockquote>
<h1 id="Label的作用是什么以及它该如何使用"><a href="#Label的作用是什么以及它该如何使用" class="headerlink" title="Label的作用是什么以及它该如何使用"></a>Label的作用是什么以及它该如何使用</h1><ol>
<li>作用：label标签来定义表单控制间的关系,当用户选择该标签时，浏览器会自动将焦点转到和标签相关的表单控件上。</li>
<li>用法：</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;Name&quot;</span>&gt;</span>Number:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“text“name</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;Name&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Date:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;B&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="canvas和svg图形的区别是什么"><a href="#canvas和svg图形的区别是什么" class="headerlink" title="canvas和svg图形的区别是什么"></a>canvas和svg图形的区别是什么</h1><p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/canvas%E5%92%8Csvg%E7%9A%84%E5%8C%BA%E5%88%AB%E5%9B%BE.png" alt="canvas和svg的区别图"></p>
<h1 id="简述盒模型"><a href="#简述盒模型" class="headerlink" title="简述盒模型"></a>简述盒模型</h1><ul>
<li>文档中的每个元素被描绘为矩形盒子。盒子有四个边界：外边距边界margin, 边框边界border, 内边距边界padding与内容边界content。CSS3中有个box-sizing属性可以控制盒子的计算方式:</li>
</ul>
<ol>
<li><p>W3C盒子模型：content-box：padding和border不被包含在定义的width和height之内。对象的实际宽度等于设置的width值和border、padding之和。</p>
</li>
<li><p>IE6盒子模型：border-box：padding和border被包含在定义的width和height之内。对象的实际宽度就等于设置的width值。</p>
</li>
</ol>
<h1 id="position的几个取值以及它们定位的原点"><a href="#position的几个取值以及它们定位的原点" class="headerlink" title="position的几个取值以及它们定位的原点"></a>position的几个取值以及它们定位的原点</h1><ul>
<li><p>absolute：生成绝对定位的元素，相对于值不为static的第一个父元素进行定位，absolute元素脱离了文档流</p>
</li>
<li><p>relative：生成相对定位的元素，相对于其在普通流中的位置进行定位，relative元素偏移的时候不会改变它占据的空间</p>
</li>
<li><p>static：默认值。没有定位，元素出现在正常的流中忽略 top, bottom, left, right z-index 声明）</p>
</li>
<li><p>fixed：生成绝对定位的元素，相对于浏览器窗口进行定位。 （IE6不支持）fixed元素也脱离了文档流</p>
</li>
<li><p>inherit：规定从父元素继承 position 属性的值。</p>
</li>
</ul>
<h1 id="position的absolute与fixed的异同点"><a href="#position的absolute与fixed的异同点" class="headerlink" title="position的absolute与fixed的异同点"></a>position的absolute与fixed的异同点</h1><ul>
<li><p>相同：</p>
<ol>
<li>改变行内元素的呈现方式，display被置为block</li>
<li>让元素脱离普通流，不占据空间</li>
<li>默认会覆盖到非定位元素上</li>
</ol>
</li>
<li><p>区别：</p>
<ol>
<li>absolute的”根元素“是可以设置的，而fixed的”根元素“固定为浏览器窗口</li>
<li>当你滚动网页，fixed元素与浏览器窗口之间的距离是不变的。</li>
</ol>
</li>
</ul>
<h1 id="display的取值以及它们的作用"><a href="#display的取值以及它们的作用" class="headerlink" title="display的取值以及它们的作用"></a>display的取值以及它们的作用</h1><ol>
<li>block     块类型。默认宽度为父元素宽度，可设置宽高，换行显示。</li>
<li>none     缺省值。象行内元素类型一样显示。</li>
<li>inline     行内元素类型。默认宽度为内容宽度，不可设置宽高，同行显示。</li>
<li>inline-block     默认宽度为内容宽度，可以设置宽高，同行显示。</li>
<li>list-item     像块类型元素一样显示，并添加样式列表标记。</li>
<li>table     此元素会作为块级表格来显示。</li>
<li>inherit     规定应该从父元素继承 display 属性的值。</li>
</ol>
<h1 id="CSS3的Flexbox（弹性盒布局模型）以及适用场景"><a href="#CSS3的Flexbox（弹性盒布局模型）以及适用场景" class="headerlink" title="CSS3的Flexbox（弹性盒布局模型）以及适用场景"></a>CSS3的Flexbox（弹性盒布局模型）以及适用场景</h1><ol>
<li>一个用于页面布局的全新CSS3功能，Flexbox可以把列表放在同一个方向（从上到下排列，从左到右），并让列表能延伸到占用可用的空间。</li>
<li>较为复杂的布局还可以通过嵌套一个伸缩容器（flex container）来实现。</li>
<li>采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。</li>
<li>它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。</li>
<li>常规布局是基于块和内联流方向，而Flex布局是基于flex-flow流可以很方便的用来做居中，能对不同屏幕大小自适应。</li>
<li>在布局上有了比以前更加灵活的空间。</li>
</ol>
<h1 id="CSS中的文档流"><a href="#CSS中的文档流" class="headerlink" title="CSS中的文档流"></a>CSS中的文档流</h1><p>普通流就是正常的文档流，在HTML里面的写法就是从上到下，从左到右的排版布局。其中涉及到了块状元素和内联元素。脱离文档流的几个属性：绝对定位(absolute)、固定定位(fixed)、浮动(float)。</p>
<h1 id="请列举几种可以清除浮动的方法"><a href="#请列举几种可以清除浮动的方法" class="headerlink" title="请列举几种可以清除浮动的方法"></a>请列举几种可以清除浮动的方法</h1><ul>
<li>浮动会漂浮于普通流之上，像浮云一样，但是只能左右浮动。正是这种特性，导致框内部不存在其他普通流元素了，从而表现出高度为0，也就是高度塌陷的问题。</li>
</ul>
<ol>
<li>添加额外标签，例如&lt;div style=”clear:both”/div&gt;</li>
<li>使用br标签和其自身的html属性，例如&lt;br clear=”all” /&gt;</li>
<li>父元素设置 overflow：hidden；在IE6中还需要触发hasLayout，例如zoom:1；</li>
<li>父元素设置 overflow：auto；同样IE6需要触发hasLayout；</li>
<li>父元素也设置浮动；</li>
<li>父元素设置display: table；</li>
<li>使用 :after 伪元素；由于IE6-7不支持 :after，使用 zoom: 1 触发<a href="http://yiminghe.iteye.com/blog/367384">hasLayout</a>。</li>
</ol>
<ul>
<li><p>在CSS2.1里面有一个很重要的概念，那就是 Block formatting contexts （块级格式化上下文），简称<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context">BFC</a>。</p>
</li>
<li><p>创建了BFC的元素就是一个独立的盒子，里面的子元素不会在布局上影响外面的元素，同时BFC仍然属于文档中的普通流。</p>
</li>
<li><p>IE6-7的显示引擎使用的是一个称为布局（layout）的内部概念。</p>
</li>
</ul>
<h1 id="对BFC规范的理解"><a href="#对BFC规范的理解" class="headerlink" title="对BFC规范的理解"></a>对BFC规范的理解</h1><ul>
<li><p>BFC全称是Block Formatting Context，即块格式化上下文。它是CSS2.1规范定义的，关于CSS渲染定位的一个概念。</p>
</li>
<li><p>BFC是页面CSS 视觉渲染的一部分，用于决定块盒子的布局及浮动相互影响范围的一个区域。</p>
</li>
<li><p>BFC的一个最重要的效果是，让处于BFC内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。</p>
</li>
<li><p>利用BFC可以闭合浮动、防止与浮动元素重叠、以及多栏布局的一种方式。</p>
</li>
</ul>
<h1 id="请列举几种隐藏元素的方法"><a href="#请列举几种隐藏元素的方法" class="headerlink" title="请列举几种隐藏元素的方法"></a>请列举几种隐藏元素的方法</h1><ol>
<li>visibility: hidden；这个属性只是简单的隐藏某个元素，但是元素占用的空间任然存在。</li>
<li>opacity: 0；一个CSS3属性，设置0可以使一个元素完全透明，制作出和visibility一样的效果。与visibility相比，它可以被transition和animate</li>
<li>position: absolute；使元素脱离文档流，处于普通文档之上，给它设置一个很大的left负值定位，使元素定位在可见区域之外。</li>
<li>display: none；元素会变得不可见，并且不会再占用文档的空间。</li>
<li>transform: scale(0)；将一个元素设置为无限小，这个元素将不可见。这个元素原来所在的位置将被保留。</li>
<li>HTML5 hidden attribute；hidden属性的效果和display:none;相同，这个属性用于记录一个元素的状态</li>
<li>height: 0; overflow: hidden；将元素在垂直方向上收缩为0,使元素消失。只要元素没有可见的边框，该技术就可以正常工作。</li>
<li>filter: blur(0)；将一个元素的模糊度设置为0，从而使这个元素“消失”在页面中。</li>
</ol>
<h1 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h1><ol>
<li>元素选择器 a{}</li>
<li>伪元素选择器 ::before{}</li>
<li>类选择器 .myClass{}</li>
<li>属性选择器 [type=radio]{}</li>
<li>伪类选择器 :hover{}  li:nth-child</li>
<li>ID选择器 #myId{}</li>
<li>组合选择器 [type=checkbox]+label{}</li>
<li>否定选择器 :not(.link){}</li>
<li>通用选择器 *</li>
</ol>
<h1 id="CSS伪类与CSS伪对象的区别"><a href="#CSS伪类与CSS伪对象的区别" class="headerlink" title="CSS伪类与CSS伪对象的区别"></a>CSS伪类与CSS伪对象的区别</h1><ul>
<li>CSS 引入伪类和伪元素的概念是为了描述一些现有CSS无法描述的东西，根本区别在于：它们是否创造了新的元素（抽象）</li>
</ul>
<ol>
<li>伪类：一开始用来表示一些元素的动态状态，随后CSS2标准扩展了其概念范围，使其成为了所有逻辑上存在但在文档树中却无须标识的“幽灵”分类。</li>
<li>伪对象：代表了某个元素的子元素，这个子元素虽然在逻辑上存在，但却并不实际存在于文档树中。</li>
</ol>
<h1 id="CSS3新增伪类有那些"><a href="#CSS3新增伪类有那些" class="headerlink" title="CSS3新增伪类有那些"></a>CSS3新增伪类有那些</h1><ol>
<li>p:first-of-type     选择属于其父元素的首个 &lt;p&gt; 元素的每个&lt;p&gt;元素。</li>
<li>p:last-of-type        选择属于其父元素的最后 &lt;p&gt;元素的每个&lt;p&gt;元素。</li>
<li>p:only-of-type     选择属于其父元素唯一的 &lt;p&gt;元素的每个 <p> 元素。</li>
<li>p:only-child     选择属于其父元素的唯一子元素的每个 &lt;p&gt;元素。</li>
<li>p:nth-child(2)        选择属于其父元素的第二个子元素的每个 &lt;p&gt; 元素。</li>
<li>:checked      单选框或复选框被选中。</li>
<li>:disabled     控制表单控件的禁用状态。</li>
</ol>
<h1 id="CSS的权重规则-计算时候不进位"><a href="#CSS的权重规则-计算时候不进位" class="headerlink" title="CSS的权重规则(计算时候不进位)"></a>CSS的权重规则(计算时候不进位)</h1><ul>
<li>行内样式：+1000</li>
<li>ID选择器：+100</li>
<li>属性选择器/类选择器/伪类选择器：+10</li>
<li>一个元素名/伪对象选择器：+1</li>
<li>其它选择器： +0</li>
</ul>
<p>#可以继承的CSS属性</p>
<ul>
<li>可继承的样式： font-size font-family color, UL LI DL DD DT</li>
<li>不可继承的样式：border padding margin width height</li>
</ul>
<h1 id="外边距重叠"><a href="#外边距重叠" class="headerlink" title="外边距重叠"></a>外边距重叠</h1><ul>
<li><p>外边距重叠就是margin-collapse。在CSS当中，相邻的两个盒子（可能是兄弟关系也可能是祖先关系）的外边距可以结合成一个单独的外边距。这种合并外边距的方式被称为折叠，并且因而所结合成的外边距称为折叠外边距。</p>
</li>
<li><p>折叠结果遵循下列计算规则：</p>
<ol>
<li>两个相邻的外边距都是正数时，折叠结果是它们两者之间较大的值。</li>
<li>两个相邻的外边距都是负数时，折叠结果是两者绝对值的较大值。</li>
<li>两个外边距一正一负时，折叠结果是两者的相加的和。</li>
</ol>
</li>
</ul>
<h1 id="px和em的区别"><a href="#px和em的区别" class="headerlink" title="px和em的区别"></a>px和em的区别</h1><ul>
<li><p>px和em都是长度单位，区别是，px的值是固定的，指定是多少就是多少，计算比较容易。em得值不是固定的，并且em会继承父级元素的字体大小。</p>
</li>
<li><p>浏览器的默认字体高都是16px。所以未经调整的浏览器都符合: 1em=16px。那么12px=0.75em, 10px=0.625em。</p>
</li>
</ul>
<h1 id="em和rem的区别"><a href="#em和rem的区别" class="headerlink" title="em和rem的区别"></a>em和rem的区别</h1><ul>
<li>em是相对长度单位，相对于当前对象内文本的字体尺寸；</li>
<li>em是CSS3新增的一个相对单位（root em，根em），这个单位与em有什么区别呢？区别在于使用rem为元素设定字体大小时，仍然是相对大小，但相对的只是HTML根元素。</li>
</ul>
<h1 id="用纯CSS创建一个三角形的原理"><a href="#用纯CSS创建一个三角形的原理" class="headerlink" title="用纯CSS创建一个三角形的原理"></a>用纯CSS创建一个三角形的原理</h1><p>把上、左、右三条边框隐藏掉（颜色设为 transparent）</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">border</span>: transparent solid <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">#005AA0</span> solid <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="li与li之间有看不见的空白间隔是什么原因引起的以及它的解决办法"><a href="#li与li之间有看不见的空白间隔是什么原因引起的以及它的解决办法" class="headerlink" title="li与li之间有看不见的空白间隔是什么原因引起的以及它的解决办法"></a>li与li之间有看不见的空白间隔是什么原因引起的以及它的解决办法</h1><p>行框的排列会受到中间空白（回车\空格）等的影响，因为空格也属于字符,这些空白也会被应用样式，占据空间，所以会有间隔，把字符大小设为0，就没有空格了。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*解决空格问题*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">70px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">line-height</span>: <span class="number">70px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">#005AA0</span> solid <span class="number">2px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*解决空格问题*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>li标签<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>li标签<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>li标签<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="如何解决图片与文字的不对齐"><a href="#如何解决图片与文字的不对齐" class="headerlink" title="如何解决图片与文字的不对齐"></a>如何解决图片与文字的不对齐</h1><ol>
<li>vertical-align：最有效的一种方式；</li>
<li>margin： 需要不断调试图片的高度，精确度难以保证；</li>
<li>position：同样是需要不断调试图片的高度，精确度难以保证。</li>
</ol>
<h1 id="png、jpg、gif-这些图片格式解释一下，分别什么时候用，有没有了解过webp？"><a href="#png、jpg、gif-这些图片格式解释一下，分别什么时候用，有没有了解过webp？" class="headerlink" title="png、jpg、gif 这些图片格式解释一下，分别什么时候用，有没有了解过webp？"></a>png、jpg、gif 这些图片格式解释一下，分别什么时候用，有没有了解过webp？</h1><ol>
<li><p>GIF是一种索引颜色格式，在颜色数很少的情况下，产生的文件极小。GIF格式支持背景透明；GIF格式支持动画；GIF格式支持图形渐进；GIF格式支持无损压缩。</p>
</li>
<li><p>JPG最主要的优点是能支持上百万种颜色，从而可以用来表现照片。此外，由于JPG图片使用更有效的有损压缩算法，从而使文件长度更小，下载时间更短。JPG较GIF更适合于照片，因为在照片中损失一些细节不像对艺术线条那么明显。另外，JPG对照片的压缩比例更大，而最后的质量也更好。</p>
</li>
<li><p>PNG 是20世纪90年代中期开始开发的图像文件存储格式，其目的是企图替代GIF和TIFF文件格式，同时增加一些GIF文件格式所不具备的特性。png是一种无损耗的图像格式。</p>
</li>
<li><p>Webp格式：Google开发的一种旨在加快图片加载速度的图片格式。图片压缩体积大约只有JPEG的2/3，并能节省大量的服务器带宽资源和数据空间。Facebook Ebay等知名网站已经开始测试并使用WebP格式。当然其也是一种有损压缩，其主要目的就是加快网络图片的传输效率，让图片能更快的显示在用户的眼前。目前所知道的只有高版本的W3C浏览器才支持这种格式，比如chorme39+，safari7+等等。</p>
</li>
</ol>
<h1 id="什么是CSS-预处理器-后处理器"><a href="#什么是CSS-预处理器-后处理器" class="headerlink" title="什么是CSS 预处理器/后处理器"></a>什么是CSS 预处理器/后处理器</h1><ul>
<li><p>预处理器：LESS、Sass、Stylus，用来预编译Sass或less，增强了css代码的复用性，还有层级、mixin、变量、循环、函数等，具有很方便的UI组件模块化开发能力，极大的提高工作效率。</p>
</li>
<li><p>后处理器：Postcss，通常被视为在完成的样式表中根据CSS规范处理CSS，让其更有效；目前最常做的是给CSS属性添加浏览器私有前缀，实现跨浏览器兼容性的问题。</p>
</li>
</ul>
<h1 id="什么是CSS-Hack"><a href="#什么是CSS-Hack" class="headerlink" title="什么是CSS Hack"></a>什么是CSS Hack</h1><p>针对不同的浏览器写不同的CSS,就是 CSS Hack。<br>IE浏览器Hack一般又分为三种，条件Hack、属性级Hack、选择符Hack（详细参考CSS文档：<a href="http://www.phpstudy.net/css3/">css文档</a>）。例如：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"> // <span class="number">1</span>、条件Hack</span><br><span class="line">&lt;!--<span class="selector-attr">[if IE]</span>&gt;</span><br><span class="line">   &lt;style&gt;</span><br><span class="line">         <span class="selector-class">.test</span>&#123;<span class="attribute">color</span>:red;&#125;</span><br><span class="line">   &lt;/style&gt;</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span>--&gt;</span><br><span class="line">// <span class="number">2</span>、属性Hack</span><br><span class="line"> <span class="selector-class">.test</span>&#123;</span><br><span class="line"> <span class="attribute">color</span>:<span class="number">#090</span>\<span class="number">9</span>; <span class="comment">/* For IE8+ */</span></span><br><span class="line"> *<span class="attribute">color</span>:<span class="number">#f00</span>;  <span class="comment">/* For IE7 and earlier */</span></span><br><span class="line"> _color:<span class="number">#ff0</span>;  <span class="comment">/* For IE6 and earlier */</span></span><br><span class="line"> &#125;</span><br><span class="line">// <span class="number">3</span>、选择符Hack</span><br><span class="line"> * <span class="selector-tag">html</span> <span class="selector-class">.test</span>&#123;<span class="attribute">color</span>:<span class="number">#090</span>;&#125;       <span class="comment">/* For IE6 and earlier */</span></span><br><span class="line"> * + <span class="selector-tag">html</span> <span class="selector-class">.test</span>&#123;<span class="attribute">color</span>:<span class="number">#ff0</span>;&#125;     <span class="comment">/* For IE7 */</span></span><br></pre></td></tr></table></figure>
<h1 id="什么叫优雅降级和渐进增强及其区别"><a href="#什么叫优雅降级和渐进增强及其区别" class="headerlink" title="什么叫优雅降级和渐进增强及其区别"></a>什么叫优雅降级和渐进增强及其区别</h1><ul>
<li><p>渐进增强 progressive enhancement：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。</p>
</li>
<li><p>优雅降级 graceful degradation：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</p>
<p>  区别：</p>
</li>
</ul>
<ol>
<li>优雅降级是从复杂的现状开始，并试图减少用户体验的供给；</li>
<li>渐进增强则是从一个非常基础的，能够起作用的版本开始，并不断扩充，以适应未来环境的需要；</li>
<li>降级（功能衰减）意味着往回看；而渐进增强则意味着朝前看，同时保证其根基处于安全地带。</li>
</ol>
<h1 id="什么是JavaScript闭包"><a href="#什么是JavaScript闭包" class="headerlink" title="什么是JavaScript闭包"></a>什么是JavaScript闭包</h1><ul>
<li><p>当函数可以记住并访问所在的作用域时，就产生了闭包，即使函数是在当前作用域之外执行。闭包有如下特性：</p>
<ol>
<li>JavaScript允许你使用在当前函数以外定义的变量</li>
<li>即使外部函数已经返回，当前函数仍然可以引用在外部函数所定义的变量</li>
<li>闭包可以更新外部变量的值</li>
<li>用闭包模拟私有方法</li>
</ol>
</li>
<li><p>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题。</p>
</li>
<li><p>在定时器、事件监听器、Ajax请求、跨窗口通信、Web Workers或者任何其他的异步（或者同步）任务中，只要使用了回调函数，实际上就是在使用闭包！</p>
</li>
</ul>
<h1 id="JS如何实现面向对象和继承机制"><a href="#JS如何实现面向对象和继承机制" class="headerlink" title="JS如何实现面向对象和继承机制"></a>JS如何实现面向对象和继承机制</h1><ul>
<li><p>创建对象方法：</p>
<ol>
<li>利用json创建对象</li>
<li>使用JavaScript中的Object类型</li>
<li>通过创建函数来生成对象</li>
</ol>
</li>
<li><p>继承机制：</p>
<ol>
<li>构造函数绑定，使用call或apply方法，将父对象的构造函数绑定在子对象上</li>
<li>prototype模式，继承new函数的模式</li>
<li>直接继承函数的prototype属性，对2的一种改进</li>
<li>利用空对象作为中介</li>
<li>在ECMAScript5中定义了一个新方法Object.create()，用于创建一个新方法</li>
<li>拷贝继承，把父对象的所有属性和方法，拷贝进子对象，实现继承。参考<a href="http://myweb.jowai.info/javascript-clone-and-copy-and-whatever/">《JavaScript中的对象克隆》</a></li>
</ol>
</li>
</ul>
<h1 id="对this指针的理解"><a href="#对this指针的理解" class="headerlink" title="对this指针的理解"></a>对this指针的理解</h1><ul>
<li><p>this实际上是在函数被调用时发生的绑定，它指向什么完全取决于函数在哪里被调用。</p>
</li>
<li><p>this指的是：调用函数的那个对象。</p>
</li>
</ul>
<ol>
<li>纯粹的函数调用，属于全局性调用，因此this就代表全局对象Global。</li>
<li>作为对象方法的调用，这时this就指这个上级对象。</li>
<li>作为构造函数调用，就是通过这个函数new一个新对象（object）。这时，this就指这个新对象。</li>
<li>apply与call的调用，它们的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。</li>
</ol>
<h1 id="简述同步和异步"><a href="#简述同步和异步" class="headerlink" title="简述同步和异步"></a>简述同步和异步</h1><p>JavaScript是单线程，一个时间段内，JavaScript只能干一件事情。任务队列分为同步任务和异步任务。</p>
<ul>
<li><p>同步是阻塞模式：同步是指一个进程在执行某个请求的时候，若该请求需要一段时间才能返回信息，那么这个进程将会一直等待下去，直到收到返回信息才继续执行下去。</p>
</li>
<li><p>异步是非阻塞模式：异步是指进程不需要一直等下去，而是继续执行下面的操作，不管其他进程的状态。当有消息返回时系统会通知进程进行处理，这样可以提高执行的效率。</p>
</li>
</ul>
<h1 id="JS常用的绑定事件的方法有哪些"><a href="#JS常用的绑定事件的方法有哪些" class="headerlink" title="JS常用的绑定事件的方法有哪些"></a>JS常用的绑定事件的方法有哪些</h1><ul>
<li><p>在DOM元素中直接绑定，DOM元素，可以理解为HTML标签，onXXX=”JavaScript Code”，查看事件列表。</p>
</li>
<li><p>在JavaScript代码中绑定，elementObject.onXXX=function(){}，通称为DOM0事件系统。</p>
</li>
<li><p>绑定事件监听函数，标准浏览器使用 addEventListener() ，IE11以下版本attachEvent() 来绑定事件监听函数，通称为DOM2事件系统。</p>
</li>
</ul>
<h1 id="Event对象的常见应用"><a href="#Event对象的常见应用" class="headerlink" title="Event对象的常见应用"></a>Event对象的常见应用</h1><ol>
<li>event.preventDefault()：阻止事件的默认行为</li>
<li>event.stopPropagation()：阻止事件的进一步传播，也就是阻止冒泡</li>
<li>event.stopImmediatePropagation()：阻止剩余的事件处理函数的执行，并防止当前事件在DOM树上冒泡。</li>
<li>event.currentTarget：返回绑定事件的元素</li>
<li>event.target：返回触发事件的元素</li>
</ol>
<h1 id="解释下javascript的冒泡和捕获"><a href="#解释下javascript的冒泡和捕获" class="headerlink" title="解释下javascript的冒泡和捕获"></a>解释下javascript的冒泡和捕获</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;click1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;click2&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;click3&quot;</span>&gt;</span>事件<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>Netscape主张元素1的事件首先发生，这种事件发生顺序被称为捕获型。</li>
<li>微软则保持元素3具有优先权，这种事件顺序被称为冒泡型。</li>
<li>W3C选择了一个择中的方案。任何发生在w3c事件模型中的事件，首是进入捕获阶段，直到达到目标元素，再进入冒泡阶段。</li>
</ol>
<ul>
<li>事件监听函数addEventListener()的第三个参数就是控制方法是捕获还是冒泡</li>
</ul>
<h1 id="js延迟加载的方式有哪些"><a href="#js延迟加载的方式有哪些" class="headerlink" title="js延迟加载的方式有哪些"></a>js延迟加载的方式有哪些</h1><ul>
<li><p>将script节点放置在最后&lt;/body&gt;之前</p>
</li>
<li><p>使用script标签的defer和async属性，defer属性为延迟加载，是在页面渲染完成之后再进行加载的，而async属性则是和文档并行加载</p>
</li>
<li><p>通过监听onload事件，动态添加script节点创建DOM元素（用得最多）</p>
</li>
<li><p>通过ajax下载js脚本，动态添加script节点</p>
</li>
</ul>
<h1 id="window-onload和DOMContentLoaded的区别"><a href="#window-onload和DOMContentLoaded的区别" class="headerlink" title="window.onload和DOMContentLoaded的区别"></a>window.onload和DOMContentLoaded的区别</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//页面的全部资源加载完才会执行，包括图片、视频等</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//DOM渲染完即可执行，此时图片、视频还可能没有加载完</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="如何解决跨域问题"><a href="#如何解决跨域问题" class="headerlink" title="如何解决跨域问题"></a>如何解决跨域问题</h1><ul>
<li><p>JSONP（JSON with Padding），填充式JSON</p>
</li>
<li><p>iframe跨域</p>
</li>
<li><p>HTML5的window.postMessage方法跨域</p>
</li>
<li><p>通过设置img的src属性，进行跨域请求</p>
</li>
<li><p>跨域资源共享（CORS），服务器设置Access-Control-Allow-OriginHTTP响应头之后，浏览器将会允许跨域请求</p>
</li>
</ul>
<h1 id="哪些操作会造成内存泄漏"><a href="#哪些操作会造成内存泄漏" class="headerlink" title="哪些操作会造成内存泄漏"></a>哪些操作会造成内存泄漏</h1><ul>
<li><p>当页面中元素被移除或替换时，若元素绑定的事件仍没被移除，在IE中不会作出恰当处理，此时要先手工移除事件，不然会存在内存泄露。</p>
</li>
<li><p>在IE中，如果循环引用中的任何对象是 DOM 节点或者 ActiveX 对象，垃圾收集系统则不会处理。</p>
</li>
<li><p>闭包可以维持函数内局部变量，使其得不到释放。</p>
</li>
<li><p>在销毁对象的时候，要遍历属性中属性，依次删除，否则会泄漏。</p>
</li>
</ul>
<h1 id="JavaScript中的变量声明提升"><a href="#JavaScript中的变量声明提升" class="headerlink" title="JavaScript中的变量声明提升"></a>JavaScript中的变量声明提升</h1><ul>
<li><p>函数声明和变量声明总是被JavaScript解释器隐式地提升到包含他们的作用域的最顶端。</p>
</li>
<li><p>function优先声明于var。</p>
</li>
<li><p>函数表达式中只会提升名称，函数体只有在执行到赋值语句时才会被赋值。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">bar</span>();</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;<span class="comment">//等同于</span></span><br><span class="line">    <span class="keyword">var</span> x;</span><br><span class="line">    <span class="title function_">bar</span>();</span><br><span class="line">    x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">foo</span>(); <span class="comment">// TypeError &quot;foo is not a function&quot;</span></span><br><span class="line">    <span class="title function_">bar</span>(); <span class="comment">// &quot;this will run!&quot;</span></span><br><span class="line">    <span class="keyword">var</span> foo = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;<span class="comment">// 函数表达式被赋值给变量&#x27;foo&#x27;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123; &#125;<span class="comment">// 名为&#x27;bar&#x27;的函数声明</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="JavaScript原型和原型链"><a href="#JavaScript原型和原型链" class="headerlink" title="JavaScript原型和原型链"></a>JavaScript原型和原型链</h1><ul>
<li><p>原型：</p>
<ol>
<li>原型是一个对象，其他对象可以通过它实现属性继承。</li>
<li>一个对象的真正原型是被对象内部的[[Prototype]]属性(property)所持有。浏览器支持非标准的访问器<strong>proto</strong>。</li>
<li>在javascript中，一个对象就是任何无序键值对的集合，如果它不是一个主数据类型(undefined，null，boolean，number，string)，那它就是一个对象。</li>
</ol>
</li>
<li><p>原型链：</p>
<ol>
<li>因为每个对象和原型都有一个原型(注:原型也是一个对象)，对象的原型指向对象的父，而父的原型又指向父的父，我们把这种通过原型层层连接起来的关系称为原型链。</li>
<li>这条链的末端一般总是默认的对象原型。</li>
</ol>
</li>
</ul>
<h1 id="JavaScript中的作用域和作用域链"><a href="#JavaScript中的作用域和作用域链" class="headerlink" title="JavaScript中的作用域和作用域链"></a>JavaScript中的作用域和作用域链</h1><ul>
<li><p>变量的作用域（scope）：程序源代码中定义这个变量的区域。</p>
</li>
<li><p>作用域链：是一个对象列表或链表，这组对象定义了这段代码“作用域中”的变量。查找变量会从第一个对象开始查找，有则用，无则查找链上的下一个对象。</p>
</li>
</ul>
<h1 id="jQuery源码以及jQuery的实现原理"><a href="#jQuery源码以及jQuery的实现原理" class="headerlink" title="jQuery源码以及jQuery的实现原理"></a>jQuery源码以及jQuery的实现原理</h1><ul>
<li><p>jQuery给我们带来了一个简洁方便的编码模型(1&gt;创建jQuery对象;2&gt;直接使用jQuery对象的属性/方法/事件),</p>
</li>
<li><p>一个强悍的dom元素查找器($)，插件式编程接口(jQuery.fn)，以及插件初始化的”配置”对象思想</p>
</li>
</ul>
<h1 id="jQuery的特点"><a href="#jQuery的特点" class="headerlink" title="jQuery的特点"></a>jQuery的特点</h1><ol>
<li>一款轻量级的js库</li>
<li>丰富快速的DOM选择器</li>
<li>链式表达式</li>
<li>事件、样式、动画等特效支持</li>
<li>Ajax操作封装，支持跨域</li>
<li>跨浏览器兼容</li>
<li>插件扩展开发</li>
</ol>
<h1 id="浏览器的内核分别是什么"><a href="#浏览器的内核分别是什么" class="headerlink" title="浏览器的内核分别是什么"></a>浏览器的内核分别是什么</h1><ul>
<li>IE: trident内核</li>
<li>Firefox：gecko内核</li>
<li>Safari：webkit内核</li>
<li>Opera：以前是presto内核，现已改用Google Chrome的Blink内核</li>
<li>Chrome：Blink(基于webkit，Google与Opera Software共同开发)</li>
</ul>
<h1 id="经常遇到的浏览器的兼容性有哪些？原因，解决方法是什么，常用hack的技巧"><a href="#经常遇到的浏览器的兼容性有哪些？原因，解决方法是什么，常用hack的技巧" class="headerlink" title="经常遇到的浏览器的兼容性有哪些？原因，解决方法是什么，常用hack的技巧"></a>经常遇到的浏览器的兼容性有哪些？原因，解决方法是什么，常用hack的技巧</h1><ol>
<li>png24位的图片在iE6浏览器上出现背景，解决方案是做成PNG8</li>
<li>浏览器默认的margin和padding不同，解决方案是加一个全局的*{margin:0;padding:0;}来统一</li>
<li>IE6双边距bug:块属性标签float后，又有横行的margin情况下，在ie6显示margin比设置的大</li>
<li>超链接访问过后hover样式就不出现了 被点击访问过的超链接样式不在具有hover和active了解决方法是改变CSS属性的排列顺序:L-V-H-A : a:link {} a:visited {} a:hover {} a:active {}</li>
</ol>
<h1 id="网站重构的理解"><a href="#网站重构的理解" class="headerlink" title="网站重构的理解"></a>网站重构的理解</h1><ul>
<li>重构：在不改变外部行为的前提下，简化结构、添加可读性，而在网站前端保持一致的行为。</li>
</ul>
<ol>
<li>使网站前端兼容于现代浏览器(针对于不合规范的CSS、如对IE6有效的)</li>
<li>对于移动平台的优化，针对于SEO进行优化</li>
<li>减少代码间的耦合，让代码保持弹性</li>
<li>压缩或合并JS、CSS、image等前端资源</li>
</ol>
<h1 id="WEB应用从服务器主动推送Data到客户端有那些方式"><a href="#WEB应用从服务器主动推送Data到客户端有那些方式" class="headerlink" title="WEB应用从服务器主动推送Data到客户端有那些方式"></a>WEB应用从服务器主动推送Data到客户端有那些方式</h1><ol>
<li>Html5 websoket</li>
<li>WebSocket 通过 Flash</li>
<li>XHR长时间连接</li>
<li>XHR Multipart Streaming</li>
<li>不可见的Iframe</li>
<li>&lt;script&gt;标签的长时间连接(可跨域)</li>
</ol>
<h1 id="如何实现浏览器内多个标签页之间的通信"><a href="#如何实现浏览器内多个标签页之间的通信" class="headerlink" title="如何实现浏览器内多个标签页之间的通信"></a>如何实现浏览器内多个标签页之间的通信</h1><ol>
<li>WebSocket、SharedWorker；</li>
<li>也可以调用localstorge、cookies等本地存储方式；</li>
</ol>
<h1 id="webSocket如何兼容低浏览器？"><a href="#webSocket如何兼容低浏览器？" class="headerlink" title="webSocket如何兼容低浏览器？"></a>webSocket如何兼容低浏览器？</h1><ol>
<li>Adobe Flash Socket ；</li>
<li>ActiveX HTMLFile (IE) ；</li>
<li>基于 multipart 编码发送 XHR；</li>
<li>基于长轮询的 XHR。</li>
</ol>
<h1 id="输入完网址按下回车到看到网页这个过程中发生了什么"><a href="#输入完网址按下回车到看到网页这个过程中发生了什么" class="headerlink" title="输入完网址按下回车到看到网页这个过程中发生了什么"></a>输入完网址按下回车到看到网页这个过程中发生了什么</h1><ol>
<li>域名解析</li>
<li>发起TCP的3次握手</li>
<li>建立TCP连接后发起http请求</li>
<li>服务器端响应http请求，浏览器得到html代码</li>
<li>浏览器解析html代码，并请求html代码中的资源</li>
<li>浏览器对页面进行渲染呈现给用户</li>
</ol>
<h1 id="关于前端性能优化"><a href="#关于前端性能优化" class="headerlink" title="关于前端性能优化"></a>关于前端性能优化</h1><ul>
<li><p>请求优化：合并JS和CSS，减少DNS查找次数，避免重定向，使用GET完成AJAX请求，减小请求中的Cookie，缓存资源，使用CDN，开启GZip，压缩HTML页面，开启长连接，避免行内脚本阻塞并行下载，少用iframe（阻塞onload事件，影响并行下载）。</p>
</li>
<li><p>CSS优化：样式表置于页面顶部，避免使用CSS表达式，使用外部JS和CSS，压缩JS和CSS，避免滤镜。</p>
</li>
<li><p>JavaScript优化：脚本置于页面底部，减少DOM访问，减少重绘和重排，尽量使用局部变量，使用定时器分割大型任务，用合适的正则操作字符串，惰性模式减少分支，事件委托，第三方代码异步加载，节流与去抖动，使用localStorage替代cookie。</p>
</li>
<li><p>图片优化：内联图使用Data:URL，压缩图片或使用WebP格式，固定图片尺寸，图片预加载，图片延迟加载，使用字体矢量图标，Sprites图片。</p>
</li>
</ul>
<h1 id="减少页面加载时间的方法"><a href="#减少页面加载时间的方法" class="headerlink" title="减少页面加载时间的方法"></a>减少页面加载时间的方法</h1><ul>
<li><p>尽量减少页面中重复的HTTP请求数量</p>
</li>
<li><p>服务器开启gzip压缩</p>
</li>
<li><p>css样式的定义放置在文件头部</p>
</li>
<li><p>Javascript脚本放在文件末尾</p>
</li>
<li><p>压缩合并Javascript、CSS代码</p>
</li>
<li><p>使用多域名负载网页内的多个文件、图片</p>
</li>
</ul>
<h1 id="一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"><a href="#一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。" class="headerlink" title="一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"></a>一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。</h1><ul>
<li><p>图片懒加载，滚动到相应位置才加载图片。</p>
</li>
<li><p>图片预加载，如果为幻灯片、相册等，将当前展示图片的前一张和后一张优先下载。</p>
</li>
<li><p>使用CSSsprite，SVGsprite，Iconfont、Base64等技术，如果图片为css图片的话。</p>
</li>
<li><p>如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。</p>
</li>
</ul>
<h1 id="浏览器本地存储"><a href="#浏览器本地存储" class="headerlink" title="浏览器本地存储"></a>浏览器本地存储</h1><ul>
<li><p>sessionStorage：用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁，是会话级别的存储。</p>
</li>
<li><p>localStorage：用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。</p>
</li>
</ul>
<h1 id="web-storage和cookie的区别"><a href="#web-storage和cookie的区别" class="headerlink" title="web storage和cookie的区别"></a>web storage和cookie的区别</h1><ol>
<li>Cookie的大小是受限的；</li>
<li>每次你请求一个新的页面的时候Cookie都会被发送过去，这样无形中浪费了带宽；</li>
<li>cookie还需要指定作用域，不可以跨域调用；</li>
<li>Web Storage拥有setItem,getItem等方法，cookie需要前端开发者自己封装setCookie，getCookie；</li>
<li>Cookie的作用是与服务器进行交互，作为HTTP规范的一部分而存在 ，而Web Storage仅仅是为了在本地“存储”数据而生；</li>
<li>IE7、IE6中的UserData通过简单的代码封装可以统一到所有的浏览器都支持web storage；</li>
</ol>
<h1 id="请求服务器时的状态码。"><a href="#请求服务器时的状态码。" class="headerlink" title="请求服务器时的状态码。"></a>请求服务器时的状态码。</h1><br>
>1xx：请求收到，继续处理
2xx：操作成功收到，分析、接受
3xx：完成此请求必须进一步处理
4xx：请求包含一个错误语法或不能完成
5xx：服务器执行一个完全有效请求失败

<p>常见的有：</p>
<ol>
<li><p>200 OK 客户端请求成功<br>表示成功访问,为网站可正常访问时的状态。</p>
</li>
<li><p>301 Moved Permanently 永久重定向<br>对搜索引擎相对友好的跳转方式，当网站更换域名时可将原域名作301永久重定向到新域名，原域名权重可传递到新域名，也常有将不含www的域名301跳转到含www的，如xxx.com通过301跳转到<a href="http://www.xxx.com">www.xxx.com</a> </p>
</li>
<li><p>302  Moved Temporarily 临时重定向<br>易被搜索引擎判为作弊,比如asp程序的response.Redirect()跳转、js跳转或静态http跳转。</p>
</li>
<li><p>400 Bad Request 请求错误<br>由于客户端请求有语法错误，不能被服务器所理解。</p>
</li>
<li><p>401 Unauthorized 未授权<br>请求未经授权，无法访问。</p>
</li>
<li><p>403 Forbidden 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因。<br>你的IP被列入黑名单，连接的用户过多，可以过后再试，网站域名解析到了空间，但空间未绑定此域名等情况。</p>
</li>
<li><p>404 Not Found 文件或目录不存在<br>表示请求文件、目录不存在或删除，设置404错误页时需确保返回值为404。常有因为404错误页设置不当导致不存在的网页返回的不是404而导致搜索引擎降权。</p>
</li>
<li><p>500 Internal Server Error 程序或服务器错误<br>表示服务器内部程序错误，出现这样的提示一般是程序页面中出现错误，如小的语法错误，数据连接故障等。 </p>
</li>
<li><p>503 Service Unavailable 服务器当前不能够处理客户端的请求<br>在一段时间之后，服务器可能会恢复正常。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>work</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>interview</tag>
        <tag>html</tag>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>http</tag>
        <tag>jquery</tag>
        <tag>面试</tag>
        <tag>盒模型</tag>
        <tag>状态码</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue:构建数据驱动的web界面的渐进式框架</title>
    <url>/2017/12/14/Vue:%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E7%9A%84web%E7%95%8C%E9%9D%A2%E7%9A%84%E6%B8%90%E8%BF%9B%E5%BC%8F%E6%A1%86%E6%9E%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>Info: Vue官网内容深入了解</p>
</blockquote>
<a id="more"></a>

<h1 id="Vue起步"><a href="#Vue起步" class="headerlink" title="Vue起步"></a>Vue起步</h1><h2 id="实例方法-实例属性"><a href="#实例方法-实例属性" class="headerlink" title="实例方法/实例属性"></a>实例方法/实例属性</h2><p><code>vm.$data.content</code>可以访问vm实例data里的content内容。这个$表示的是Vue的实例方法或者实例属性。</p>
<h2 id="全局组件"><a href="#全局组件" class="headerlink" title="全局组件"></a>全局组件</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Vue中使用这样的语法来定义一个全局组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;组件名&quot;</span>,&#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="给某个元素标签加一个key值"><a href="#给某个元素标签加一个key值" class="headerlink" title="给某个元素标签加一个key值"></a>给某个元素标签加一个key值</h2><p>Vue在重新渲染页面时，它会尽量复用页面上的dom，但此时该dom上内容并不会被清空。要解决这个问题，可以给该元素标签加一个key值，此时Vue就能知道这是页面上一个唯一的元素，如果两个元素的key值不一样，Vue就不会复用以前的dom元素。这是Vue中虚拟DOM的diff算法中的内容。</p>
<h2 id="给Vue组件绑定原生事件"><a href="#给Vue组件绑定原生事件" class="headerlink" title="给Vue组件绑定原生事件"></a>给Vue组件绑定原生事件</h2><ol>
<li><p>原生事件是指绑定在子组件内部的template模板标签中的事件。</p>
</li>
<li><p>而绑定在父组件里面的子组件标签上的事件叫做自定义事件，它的触发可以通过父子组件间通信的方式。</p>
</li>
<li><p>自定义事件可以通过加一个native修饰符来变成原生事件。形如：<code>@click.native=&quot;handleClick&quot;</code>。</p>
</li>
</ol>
<h1 id="父子组件间通信"><a href="#父子组件间通信" class="headerlink" title="父子组件间通信"></a>父子组件间通信</h1><ol>
<li>Vue中父组件向子组件传值是通过属性的形式，具体作法是在父组件里面的子组件标签类上绑定一个content属性作为需要传递的值，然后在子组件内部通过props参数来接受这个content值。</li>
</ol>
<blockquote>
<p>Vue中有一个叫”单向数据流”的概念。父组件可以给子组件任意传递参数，但是子组件只能使用这个参数而不能反过来去修改这个参数。原因是通过父组件<code>:content=&quot;item&quot;</code>这种形式向子组件传值，这个<code>item</code>其实是一个js表达式<code>&#123;&#125;</code>，里面的js对象等等都是引用类型。(如果是<code>content=&quot;item&quot;</code>这种形式，那么这个<code>item</code>是一个String字符串)如果其他子组件也用到了这个数据，那会就会造成混乱。解决这个问题的方法是在子组件内部使用data函数形式返回一个对象来存储这个传过来的数据再对其进行修改使用。</p>
</blockquote>
<ol start="2">
<li>Vue中子组件向父组件传值是通过在子组件内部调用<code>this.$emit()</code>方法来向外触发一个事件以及传递一个参数，而在父组件模板中通过v-on(简写”@”)监听这个事件。</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>todoList<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;inputValue&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleBtnClick&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">todo-item</span>  <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">:index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">:content</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">                        @<span class="attr">delete</span> = <span class="string">&quot;handleItemDelete&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> <span class="title class_">TodoItem</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">props</span>:[<span class="string">&#x27;content&#x27;</span>,<span class="string">&#x27;index&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">&quot;&lt;li @click=&#x27;handleBtnItem&#x27;&gt;&#123;&#123;content&#125;&#125;&lt;/li&gt;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleBtnItem</span>: <span class="keyword">function</span>(<span class="params">index</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$emit(<span class="string">&quot;delete&quot;</span>,<span class="variable language_">this</span>.<span class="property">index</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title class_">TodoItem</span>: <span class="title class_">TodoItem</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">inputValue</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleBtnClick</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">inputValue</span> != <span class="string">&quot;&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">inputValue</span>)</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">inputValue</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleItemDelete</span>:<span class="keyword">function</span>(<span class="params">index</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">splice</span>(index,<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Vue实例生命周期函数"><a href="#Vue实例生命周期函数" class="headerlink" title="Vue实例生命周期函数"></a>Vue实例生命周期函数</h1><h2 id="Vue生命周期简介"><a href="#Vue生命周期简介" class="headerlink" title="Vue生命周期简介"></a>Vue生命周期简介</h2><blockquote>
<p>生命周期函数就是Vue实例在某一个时间点会自动执行的函数<br>这些生命周期函数直接定义在Vue实例中而不放在methods对象中。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE.png" alt="vue生命周期图"></p>
<blockquote>
<p>除了图片中的这8个生命周期函数，Vue还有另外三个生命周期函数，分别是deactivated()、activated()以及errorCaptured()</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vueLifecycleHooks.png" alt="vueLifecycleHooks"></p>
<h2 id="Vue生命周期探究"><a href="#Vue生命周期探究" class="headerlink" title="Vue生命周期探究"></a>Vue生命周期探究</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue实例生命周期函数<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>生命周期函数就是Vue实例在某一个时间点会自动执行的函数<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">msg</span>: <span class="string">&#x27;hello Vue!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">beforeCreate</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;beforeCreate 创建前状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span> , <span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>); <span class="comment">//undefined</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); <span class="comment">//undefined </span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>)  </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">created</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;created 创建完毕状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>); <span class="comment">//undefined</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); <span class="comment">//已被初始化 </span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); <span class="comment">//已被初始化</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      </span></span><br><span class="line"><span class="language-javascript">      <span class="attr">beforeMount</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;beforeMount 挂载前状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + (<span class="variable language_">this</span>.<span class="property">$el</span>)); <span class="comment">//已被初始化</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); <span class="comment">//已被初始化  </span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); <span class="comment">//已被初始化  </span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">mounted</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;mounted 挂载结束状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>); <span class="comment">//已被初始化</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);    </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); <span class="comment">//已被初始化</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); <span class="comment">//已被初始化 </span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">beforeUpdate</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;beforeUpdate 更新前状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);   </span></span><br><span class="line"><span class="language-javascript">             <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); </span></span><br><span class="line"><span class="language-javascript">             <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">updated</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;updated 更新完成状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">beforeDestroy</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;beforeDestroy 销毁前状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);    </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>); </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">destroyed</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;destroyed 销毁完成状态===============》&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;el     : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$el</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>);  </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;data   : &quot;</span> + <span class="variable language_">this</span>.<span class="property">$data</span>); </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;%c%s&quot;</span>, <span class="string">&quot;color:red&quot;</span>,<span class="string">&quot;message: &quot;</span> + <span class="variable language_">this</span>.<span class="property">message</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%8E%A2%E7%A9%B6.jpg" alt="Vue生命周期函数探究"></p>
<h2 id="Vue生命周期总结"><a href="#Vue生命周期总结" class="headerlink" title="Vue生命周期总结"></a>Vue生命周期总结</h2><ul>
<li>beforecreate: 举个栗子：可以在这加个loading事件</li>
<li>created: 在这结束loading，还做一些初始化，实现函数自执行 </li>
<li>mounted: 在这发起后端请求，拿回数据，配合路由钩子做一些事情</li>
<li>beforeDestroy: 解绑自定义事件(event.$off)、清除定时器、解绑自定义的 DOM 事件，如 window scroll 等等</li>
<li>destroyed: 当前组件已被删除，清空相关内容</li>
<li>errorCaptured: 当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 false 以阻止该错误继续向上传播。(err: Error, vm: Component, info: string) =&gt; ?boolean</li>
</ul>
<h1 id="Vue的模板语法"><a href="#Vue的模板语法" class="headerlink" title="Vue的模板语法"></a>Vue的模板语法</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue模板语法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;greetting&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;greetting&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;greetting&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">greetting</span>: <span class="string">&#x27;&lt;h1&gt;hello Vue!&lt;/h1&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/hello-vue.png" alt="hello-vue"></p>
<blockquote>
<p>模指令v-text=””、v-html=””，双引号内指令 (Directives) 是带有 v- 前缀的特殊特性。指令特性的值预期是单个 JavaScript 表达式 (v-for是例外情况)。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。</p>
</blockquote>
<h1 id="计算属性、方法、侦听器"><a href="#计算属性、方法、侦听器" class="headerlink" title="计算属性、方法、侦听器"></a>计算属性、方法、侦听器</h1><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue计算属性、方法、侦听器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">        &#123;&#123;age&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;chris&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;su&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>: <span class="number">23</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//计算属性</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算了一次&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7computed.png" alt="vue计算属性computed"></p>
<blockquote>
<p>computed计算属性有一个缓存机制，也就是只要计算属性所依赖的值没有发生改变时，就不会重新计算。这样就可以使性能得到优化。</p>
</blockquote>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue计算属性、方法、侦听器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName()&#125;&#125; <span class="comment">&lt;!--此处因为fullName()是一个方法，所以要加上()来进行调用--&gt;</span></span><br><span class="line">        &#123;&#123;age&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;chris&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;su&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>: <span class="number">23</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//方法</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算了一次&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E6%96%B9%E6%B3%95methods.png" alt="vue方法methods"></p>
<blockquote>
<p>只要页面数据发生改变，methods方法都会执行。所以同样的情况下优先选用computed计算属性。</p>
</blockquote>
<h2 id="侦听器"><a href="#侦听器" class="headerlink" title="侦听器"></a>侦听器</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue计算属性、方法、侦听器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">        &#123;&#123;age&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;chris&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;su&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>: <span class="number">23</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: <span class="string">&#x27;chris su&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//侦听器</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//监听firstName的变化</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算了一次&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//监听lastName的变化</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算了一次&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E4%BE%A6%E5%90%AC%E5%99%A8watch.png" alt="vue侦听器watch"></p>
<blockquote>
<p>只要监听的值不发生变化，watch侦听器就不会被执行。</p>
</blockquote>
<h1 id="Vue计算属性中的getter和setter"><a href="#Vue计算属性中的getter和setter" class="headerlink" title="Vue计算属性中的getter和setter"></a>Vue计算属性中的getter和setter</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue计算属性的setter和getter<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;chris&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;su&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//fullName写成对象的形式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> arr = value.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">firstName</span> = arr[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">lastName</span> = arr[<span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84getter%E5%92%8Csetter.png" alt="vue计算属性的getter和setter"></p>
<h1 id="Vue中的样式绑定"><a href="#Vue中的样式绑定" class="headerlink" title="Vue中的样式绑定"></a>Vue中的样式绑定</h1><h2 id="通过class进行绑定"><a href="#通过class进行绑定" class="headerlink" title="通过class进行绑定"></a>通过class进行绑定</h2><h3 id="class的对象绑定"><a href="#class的对象绑定" class="headerlink" title="class的对象绑定"></a>class的对象绑定</h3><blockquote>
<p>将div节点绑定一个activated类，这个类显示与否取决于一个叫isActivated对象的值，初始值为false，即不显示这个类</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的样式绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.activated</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&#x27;handleClick&#x27;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">:class</span>=<span class="string">&quot;&#123;activated:isActivated&#125;&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            hello Vue</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isActivated</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isActivated</span> = !<span class="variable language_">this</span>.<span class="property">isActivated</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="class的数组绑定"><a href="#class的数组绑定" class="headerlink" title="class的数组绑定"></a>class的数组绑定</h3><blockquote>
<p>将div节点绑定一个数组，数组中的每个变量的值都可以添加到这个节点的class类</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的样式绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.activated</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&#x27;handleClick&#x27;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">:class</span>=<span class="string">&quot;[activated]&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            hello Vue</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">activated</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">activated</span> = <span class="variable language_">this</span>.<span class="property">activated</span> === <span class="string">&quot;activated&quot;</span> ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;activated&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="通过style进行绑定"><a href="#通过style进行绑定" class="headerlink" title="通过style进行绑定"></a>通过style进行绑定</h2><h3 id="style的对象绑定"><a href="#style的对象绑定" class="headerlink" title="style的对象绑定"></a>style的对象绑定</h3><blockquote>
<p>将div节点绑定一个内联的style样式，这个样式的值由一个叫styleObj的值来决定</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的样式绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span></span></span><br><span class="line"><span class="tag">             @<span class="attr">click</span>=<span class="string">&#x27;handleClick&#x27;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            hello Vue</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">styleObj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;black&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">styleObj</span>.<span class="property">color</span> = <span class="variable language_">this</span>.<span class="property">styleObj</span>.<span class="property">color</span>===<span class="string">&quot;black&quot;</span> ? <span class="string">&quot;red&quot;</span> : <span class="string">&quot;black&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="style的数组绑定"><a href="#style的数组绑定" class="headerlink" title="style的数组绑定"></a>style的数组绑定</h3><blockquote>
<p>将div节点绑定一个内联的style样式，这个样式的值由一个叫styleObj的数组来决定，数组中每个对象的值都可以添加到样式的值里</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的样式绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span></span></span><br><span class="line"><span class="tag">             @<span class="attr">click</span>=<span class="string">&#x27;handleClick&#x27;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            hello Vue</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">styleObj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;black&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">styleObj</span>.<span class="property">color</span> = <span class="variable language_">this</span>.<span class="property">styleObj</span>.<span class="property">color</span>===<span class="string">&quot;black&quot;</span> ? <span class="string">&quot;red&quot;</span> : <span class="string">&quot;black&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Vue中的条件渲染"><a href="#Vue中的条件渲染" class="headerlink" title="Vue中的条件渲染"></a>Vue中的条件渲染</h1><h2 id="v-if与v-show"><a href="#v-if与v-show" class="headerlink" title="v-if与v-show"></a>v-if与v-show</h2><blockquote>
<p>v-if=”false”是将该标签所对应的dom节点从页面上移除掉，而v-show=”false”是指该标签所对应的dom节点依然存在，只是加了个标签style=”display:none”。所以同样控制dom元素显示与否的场景下，更推荐v-show指令，这样使得页面性能更好。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的条件渲染<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;hello Vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="v-else-if与v-else"><a href="#v-else-if与v-else" class="headerlink" title="v-else-if与v-else"></a>v-else-if与v-else</h2><blockquote>
<p>v-else只能与v-if成对出现，且必须要连在一起使用，否则Vue会报错。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的条件渲染<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show === &#x27;a&#x27;&quot;</span>&gt;</span>this is a<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;show === &#x27;b&#x27;&quot;</span>&gt;</span>this is b<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>this is others<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClickB&quot;</span>&gt;</span>change to b<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClickOthers&quot;</span>&gt;</span>change to others<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="string">&#x27;a&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClickB</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="string">&#x27;b&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClickOthers</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="string">&#x27;others&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Vue中的set方法"><a href="#Vue中的set方法" class="headerlink" title="Vue中的set方法"></a>Vue中的set方法</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的set方法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,key,index) of userInfo&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;index&#125;&#125;---&#123;&#123;key&#125;&#125; : &#123;&#123;item&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">userInfo</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;su&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: <span class="number">23</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>在使用v-for遍历一个数组时，如果想要往userInfo中添加一项数据，不能通过userInfo[3]=””这种下标的形式来进行赋值，因为这样的话数据虽然得到了更改，但是页面并不会发生响应式的变化。在Vue中想要改变数组，要通过数组的几种变异方法，或者给这个对象一个新的引用，除了这两种方法，Vue还提供了一个叫做set的方法向对象中注入数据或者更改数据。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm.<span class="property">userInfo</span>,<span class="string">&quot;address&quot;</span>,<span class="string">&quot;hangzhou&quot;</span>) <span class="comment">// Vue全局set方法给数组增加数据</span></span><br><span class="line"></span><br><span class="line">vm.$set(vm.<span class="property">userInfo</span>,<span class="string">&quot;address&quot;</span>,<span class="string">&quot;hangzhou&quot;</span>) <span class="comment">// vm实例set方法给数组增加数据</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm.<span class="property">userInfo</span>,<span class="string">&quot;age&quot;</span>, <span class="number">24</span>) <span class="comment">// Vue全局set方法改变数组中的数据</span></span><br><span class="line"></span><br><span class="line">vm.$set(vm.<span class="property">userInfo</span>,<span class="string">&quot;age&quot;</span>, <span class="number">24</span>) <span class="comment">// vm实例set方法改变数组中的数据</span></span><br></pre></td></tr></table></figure>
<h1 id="使用Vue组件的几个细节点"><a href="#使用Vue组件的几个细节点" class="headerlink" title="使用Vue组件的几个细节点"></a>使用Vue组件的几个细节点</h1><h2 id="is标签"><a href="#is标签" class="headerlink" title="is标签"></a>is标签</h2><blockquote>
<p>根据h5规范，<code>&lt;tbody&gt;</code>标签内部只能写<code>&lt;tr&gt;</code>标签，所以不能在<code>&lt;tbody&gt;</code>标签里直接写Vue组件。而是通过is属性来实现正确的效果。同理，<code>&lt;ul&gt;</code>、<code>&lt;ol&gt;</code>标签内部只能写<code>&lt;li&gt;</code>标签，<code>&lt;select&gt;</code>标签内部只能写<code>&lt;option&gt;</code>标签，都可以通过is属性来解决模板标签渲染时出现bug的情况。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>is标签<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 错误写法 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">row</span>&gt;</span><span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">row</span>&gt;</span><span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">row</span>&gt;</span><span class="tag">&lt;/<span class="name">row</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 推荐写法(使用is标签) --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">&quot;row&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">&quot;row&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">&quot;row&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;row&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>:<span class="string">&#x27;&lt;tr&gt;&lt;td&gt;this is a row&lt;/td&gt;&lt;/tr&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="非根组件中的data里只能定义为函数"><a href="#非根组件中的data里只能定义为函数" class="headerlink" title="非根组件中的data里只能定义为函数"></a>非根组件中的data里只能定义为函数</h2><blockquote>
<p>原因是根组件只会被调用一次，而非根组件（子组件）可能会被调用很多次。一个子组件在不同的地方调用时，里面的data可能会产生冲突。通过函数来返回一个对象的目的就是让每一个子组件都拥有一个独立的数据存储。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;row&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">content</span>: <span class="string">&#x27;this is a row&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;tr&gt;&lt;td&gt;&#123;&#123; content &#125;&#125;&lt;/td&gt;&lt;/tr&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="refs"><a href="#refs" class="headerlink" title="$refs"></a>$refs</h2><h3 id="在html标签内使用ref"><a href="#在html标签内使用ref" class="headerlink" title="在html标签内使用ref"></a>在html标签内使用ref</h3><blockquote>
<p>在html标签内使用ref，得到的是该标签对应的dom节点。vue就可以通过这种方式来操作dom节点。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>$ref<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">ref</span> = <span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            hello Vue</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">hello</span>.<span class="property">innerHTML</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="在Vue组件内使用ref"><a href="#在Vue组件内使用ref" class="headerlink" title="在Vue组件内使用ref"></a>在Vue组件内使用ref</h3><blockquote>
<p>在Vue组件内使用ref，得到的是该组件数据的引用。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>累加器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">counter</span> <span class="attr">ref</span>=<span class="string">&quot;num1&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;add&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">counter</span> <span class="attr">ref</span>=<span class="string">&quot;num2&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;add&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;total&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;counter&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>:<span class="string">&#x27;&lt;div @click=&quot;handleClick&quot;&gt;&#123;&#123;number&#125;&#125;&lt;/div&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">number</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">number</span> ++,</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$emit(<span class="string">&#x27;change&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">total</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">add</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">total</span> = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">num1</span>.<span class="property">number</span> + <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">num2</span>.<span class="property">number</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="组件参数校验与非props特性"><a href="#组件参数校验与非props特性" class="headerlink" title="组件参数校验与非props特性"></a>组件参数校验与非props特性</h1><h2 id="组件参数校验"><a href="#组件参数校验" class="headerlink" title="组件参数校验"></a>组件参数校验</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;div id=&quot;root&quot;&gt;</span></span><br><span class="line"><span class="comment"> *      &lt;child :content=&quot;&#123;&#125;&quot;&gt;&lt;/child&gt; // 带冒号则&quot;&quot;里面是一个js表达式</span></span><br><span class="line"><span class="comment"> * &lt;/div&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的参数只能是String</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: <span class="title class_">String</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的参数可以是字符串也可以是数字类型</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: [<span class="title class_">Number</span>, <span class="title class_">String</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的参数只能是String，而且必须要传</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">            <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的参数只能是String，而且可传可不传，如果不传那么给它一个默认值</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">            <span class="attr">required</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">default</span>: <span class="string">&#x27;default value&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的参数只能是String，而且必须要传，并且该字符串的长度必须大于5</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">            <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// 自定义校验器 (参数value为一个形参，代表传递的参数))</span></span><br><span class="line">            <span class="attr">validator</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> (value.<span class="property">length</span> &gt; <span class="number">5</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="非props特性"><a href="#非props特性" class="headerlink" title="非props特性"></a>非props特性</h2><ol>
<li><p>子组件内部并没有通过props参数来接收在父组件里面的子组件模板中绑定的属性被称为非props属性。</p>
</li>
<li><p>非props特性不能在子组件内部通过插值表达式的形式来使用。</p>
</li>
<li><p>非props特性会被作为一个class类渲染到页面的dom元素中。</p>
</li>
</ol>
<h1 id="Vue中的插槽slot"><a href="#Vue中的插槽slot" class="headerlink" title="Vue中的插槽slot"></a>Vue中的插槽slot</h1><h2 id="单个插槽"><a href="#单个插槽" class="headerlink" title="单个插槽"></a>单个插槽</h2><p>除非子组件模板包含至少一个 <code>&lt;slot&gt;</code> 插口，否则父组件的内容将会被丢弃。<strong>当子组件模板只有一个没有属性的插槽时，父组件传入的整个内容片段将插入到插槽所在的 DOM 位置，并替换掉插槽标签本身。</strong> (这点很类似于input里面的placeholder占位属性)</p>
<p>最初在 <code>&lt;slot&gt;</code>标签中的任何内容都被视为备用内容。备用内容在子组件的作用域内编译，并且只有在宿主元素为空，且没有要插入的内容时才显示备用内容。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--  my-component 子组件有如下模板： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件的标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span></span><br><span class="line">    默认内容（只有在没有要分发的内容时才会显示）</span><br><span class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 父组件的模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是父组件的标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一些要分发内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是更多要分发的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 渲染结果 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是父组件的标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件的标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一些初始内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是更多的初始内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h2><p>使用场景：设计组合使用的组件时，内容分发 API 是非常有用的机制。</p>
<p><code>&lt;slot&gt;</code>元素可以用一个特殊的特性 name 来进一步配置如何分发内容。多个插槽可以有不同的名字。具名插槽将匹配内容片段中有对应 slot 特性的元素。</p>
<p>仍然可以有一个匿名插槽，它是默认插槽，作为找不到匹配的内容片段的备用插槽。如果没有默认插槽，这些找不到匹配的内容片段将被抛弃。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- app-layout子组件模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 父组件模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">app-layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">slot</span>=<span class="string">&quot;header&quot;</span>&gt;</span>这里可能是一个页面标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>主要内容的一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>另一个主要段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>这里有一些联系信息<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">app-layout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 渲染结果 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这里可能是一个页面标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>主要内容的一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>另一个主要段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这里有一些联系信息<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="单个插槽和具名插槽示例"><a href="#单个插槽和具名插槽示例" class="headerlink" title="单个插槽和具名插槽示例"></a>单个插槽和具名插槽示例</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的插槽slot<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        Vue.component(&#x27;child&#x27;,&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template:   `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;header&quot;</span>&gt;</span>I&#x27;m a slot header<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                            <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                            <span class="tag">&lt;<span class="name">div</span>&gt;</span>Body<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        var vm = new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            el: &#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h2><p>使用场景：当子组件作循环或者某一部分，它的dom结构不是本身自己定义，而是由父组件来传递一个展示的模板。</p>
<p>作用域插槽必须使用<code>&lt;template&gt;</code>标签进行包裹，同时这个插槽使用<code>v-slot=&quot;slotProps&quot;</code>来声明父组件接收到的子组件数据都存放在哪。<code>&lt;template&gt;</code>标签（在父组件中）内部就是子组件模板的信息，来指明子组件展示(渲染)的方式。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的作用域插槽<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- 想要接收子组件传递过来的数据，需要使用template标签进行包裹并使用slot-scope属性来声明接收的数据存放在哪 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot</span>=<span class="string">&quot;slotProps&quot;</span>&gt;</span></span><br><span class="line">              	<span class="comment">&lt;!-- 使用子组件传递过来的数据 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;props.item&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:<span class="keyword">function</span> (<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">list</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`&lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;ul&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                            &lt;slot</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                                v-for=&quot;item of list&quot;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                                :item=&quot;item&quot; // 子组件可以向父组件的插槽传递数据</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                            &gt;&lt;/slot&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;/ul&gt;  </span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                      &lt;/div&gt;`</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Vue动态组件"><a href="#Vue动态组件" class="headerlink" title="Vue动态组件"></a>Vue动态组件</h1><blockquote>
<p><code>&lt;component :is=&quot;xxx&quot;&gt;&lt;/component&gt;</code>来调用子组件。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue动态组件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 写法一:使用v-if来实现两个组件之间的切换显示 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child-one</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;child-one&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-one</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child-two</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;child-two&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-two</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 写法二:使用Vue自带的component标签来实现动态组件的效果 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;type&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child-one&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;child-one&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child-two&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;child-two&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;child-one&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">type</span> = <span class="variable language_">this</span>.<span class="property">type</span> === <span class="string">&#x27;child-one&#x27;</span> ? <span class="string">&#x27;child-two&#x27;</span> : <span class="string">&#x27;child-one&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="路由（Vue-Router）"><a href="#路由（Vue-Router）" class="headerlink" title="路由（Vue Router）"></a>路由（Vue Router）</h1><h2 id="网页-URL-组成部分"><a href="#网页-URL-组成部分" class="headerlink" title="网页 URL 组成部分"></a>网页 URL 组成部分</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// http://127.0.0.1:8881/01-hash.html?a=100&amp;b=20#/aaa/bbb</span></span><br><span class="line">location.<span class="property">protocol</span> <span class="comment">// &#x27;http:&#x27;</span></span><br><span class="line">location.<span class="property">hostname</span> <span class="comment">// &#x27;127.0.0.1&#x27;</span></span><br><span class="line">location.<span class="property">host</span> <span class="comment">// &#x27;127.0.0.1:8881&#x27;</span></span><br><span class="line">location.<span class="property">port</span> <span class="comment">// &#x27;8881&#x27;</span></span><br><span class="line">location.<span class="property">pathname</span> <span class="comment">// &#x27;/01-hash.html:&#x27;</span></span><br><span class="line">location.<span class="property">search</span> <span class="comment">// &#x27;?a=100&amp;b=20&#x27;</span></span><br><span class="line">location.<span class="property">hash</span> <span class="comment">// &#x27;#/aaa/bbb&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="hash模式"><a href="#hash模式" class="headerlink" title="hash模式"></a>hash模式</h2><ul>
<li>hash 变化会触发网页跳转，即浏览器的前进、后退</li>
<li>hash 变化不会刷新页面，SPA 必需的特点</li>
<li>hash 永远不会提交到 server 端（前端自生自灭，无需后端支持）</li>
<li>hash - window.onhashchange</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>hash test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hash test<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>修改 hash<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 🌟🌟🌟 监听 hash 变化，包括：</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// a. JS 修改 url</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// b. 手动修改 url 的 hash（在浏览器地址栏直接改</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// c. 浏览器前进、后退</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onhashchange</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;old url&#x27;</span>, event.<span class="property">oldURL</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new url&#x27;</span>, event.<span class="property">newURL</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hash:&#x27;</span>, location.<span class="property">hash</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 页面初次加载，获取 hash</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hash:&#x27;</span>, location.<span class="property">hash</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// JS 修改 url</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            location.<span class="property">href</span> = <span class="string">&#x27;#/user&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="H5-history模式"><a href="#H5-history模式" class="headerlink" title="H5 history模式"></a>H5 history模式</h2><ul>
<li>用 url 规范的路由，但跳转时不刷新页面</li>
<li>需要后端支持（无论访问什么路由，始终保证只返回一个index.html这个界面）</li>
<li>然后再通过pushState的方式进行前端路由的切换</li>
<li>H5 history - history.pushState 和 window.onPopstate</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>history API test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>history API test<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>修改 url<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 页面初次加载，获取 path</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;load&#x27;</span>, location.<span class="property">pathname</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 打开一个新的路由</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 【注意】用 pushState 方式，浏览器不会刷新页面</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> state = &#123; <span class="attr">name</span>: <span class="string">&#x27;page1&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;切换路由到&#x27;</span>, <span class="string">&#x27;page1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            history.<span class="title function_">pushState</span>(state, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;page1&#x27;</span>) <span class="comment">// 重要！！</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听浏览器前进、后退</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onpopstate</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123; <span class="comment">// 重要！！</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onpopstate&#x27;</span>, event.<span class="property">state</span>, location.<span class="property">pathname</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 需要 server 端配合，可参考</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="两种模式的选择"><a href="#两种模式的选择" class="headerlink" title="两种模式的选择"></a>两种模式的选择</h2><ul>
<li>to B 的系统推荐用hash，简单易用，对 url 规范不敏感</li>
<li>to C 的系统，可以考虑选择H5 history，但需要服务端支持</li>
<li>能选择简单的，就别用复杂的，要考虑成本和收益</li>
</ul>
<h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><h2 id="使用Vuex来实现数据共享"><a href="#使用Vuex来实现数据共享" class="headerlink" title="使用Vuex来实现数据共享"></a>使用Vuex来实现数据共享</h2><p><code>Vuex</code>是一个专为<code>Vue.js</code>应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。在Vue的大型项目开发之中，Vue.js只能承担视图层的主要内容，而当涉及到大量数据间的传递，往往都要通过vuex这个数据框架来完成。虽然bus总线的作法有时候也可以完成效果，但写起来还是比较麻烦。</p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vuex%E7%AE%80%E4%BB%8B%E5%9B%BE.jpg" alt="vuex简介图"></p>
<p>Vuex其实就是一个单向数据的改变流程。使用vuex需要先安装vuex：<code>npm install vuex --save</code>，之后要在项目的入口文件<code>main.js</code>中引入这个包并在创建根实例的时候把<code>store</code>传递进去来使用：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">      <span class="attr">city</span>: <span class="string">&#x27;杭州&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">      changeCity (ctx, city) &#123; <span class="comment">// ctx是一个上下文，可以通过它来执行commit方法</span></span><br><span class="line">          ctx.<span class="title function_">commit</span>(<span class="string">&#x27;changeCity&#x27;</span>, city)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">      changeCity (state, city) &#123;</span><br><span class="line">          state.<span class="property">city</span> = city</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="vuex中的map映射api"><a href="#vuex中的map映射api" class="headerlink" title="vuex中的map映射api"></a>vuex中的map映射api</h2><p>在每次调用vuex公用数据中的city的时候，都要写<code>this.$store.state.city</code>这样的一串，而vuex就提供了一个map映射api来简化这样的代码，先要引入需要映射的数据，然后通过<code>...</code>扩展运算符将<code>state</code>里面的city映射到HomeHeader这个组件的computed计算属性中，然后就可以直接通过<code>this.city</code>来调用这个数据了(如果是mutations则可以映射到组件的methods方法中)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;HomeHeader&#x27;</span>,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;city&#x27;</span>])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="vuex中的getter和module"><a href="#vuex中的getter和module" class="headerlink" title="vuex中的getter和module"></a>vuex中的getter和module</h2><p>vuex中的getter很类似于组件中的computed计算属性，如果需要根据vuex的state里的数据来计算出一个新的数据的时候，就可以通过getter来进行实现，从而避免数据的冗余。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">todos</span>: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">doneTodos</span>: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">done</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>由于使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿。</p>
<p>为了解决以上问题，Vuex 允许我们将 store 分割成模块（module）。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块——从上至下进行同样方式的分割：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a // -&gt; moduleA 的状态</span><br><span class="line">store.state.b // -&gt; moduleB 的状态</span><br></pre></td></tr></table></figure>
<h1 id="vue中的内置组件-lt-keep-alive-gt"><a href="#vue中的内置组件-lt-keep-alive-gt" class="headerlink" title="vue中的内置组件&lt;keep-alive&gt;"></a>vue中的内置组件<code>&lt;keep-alive&gt;</code></h1><p><code>&lt;keep-alive&gt;</code>包裹动态组件时，会缓存不活动的组件实例，而不是销毁它们。和<code>&lt;transition&gt;</code>相似，<code>&lt;keep-alive&gt;</code>是一个抽象组件：它自身不会渲染一个DOM元素，也不会出现在父组件链中。</p>
<p><code>&lt;keep-alive&gt;</code>可以接受可选参数：</p>
<ul>
<li><p>include - 字符串或正则表达式。只有匹配的组件会被缓存。</p>
</li>
<li><p>exclude - 字符串或正则表达式。任何匹配的组件都不会被缓存。</p>
</li>
</ul>
<p>当组件在<code>&lt;keep-alive&gt;</code>内被切换，它的<code>activated</code>和<code>deactivated</code>这两个生命周期钩子函数将会被对应执行。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    getDetailInfo () &#123;</span><br><span class="line">      axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/detail.json&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">params</span>: &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">id</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="variable language_">this</span>.<span class="property">handleGetDataSucc</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getDetailInfo</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  activated () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getDetailInfo</span>() <span class="comment">// 每次页面被加载的时候，都重新发送一个ajax请求</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="Vue中的动画特效"><a href="#Vue中的动画特效" class="headerlink" title="Vue中的动画特效"></a>Vue中的动画特效</h1><h2 id="Vue中css动画原理"><a href="#Vue中css动画原理" class="headerlink" title="Vue中css动画原理"></a>Vue中css动画原理</h2><p>使用<code>&lt;transition&gt;</code>标签来实现一个显示隐藏的过渡动画效果。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;./animate.css&quot;&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>vue中css动画原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.fade-enter</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">opacity</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.fade-enter-active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: opacity <span class="number">3s</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: opacity <span class="number">1s</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;fade&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125;   </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue-transition-1.png" alt="vue-transition-1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/iszw/ImgHosting@master/uPic/vue-transition-2.png" alt="vue-transition-2"></p>
<h2 id="在Vue中使用animate-css库"><a href="#在Vue中使用animate-css库" class="headerlink" title="在Vue中使用animate.css库"></a>在Vue中使用animate.css库</h2><blockquote>
<p>animate.css提供的动画类型其实是css3中@keyframe的动画效果。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./animate.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>在Vue中使用animate.css库<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">            <span class="attr">enter-active-class</span> = <span class="string">&quot;animated tada&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">leave-active-class</span> = <span class="string">&quot;animated zoomOutLeft&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="在Vue中同时使用过渡和动画"><a href="#在Vue中同时使用过渡和动画" class="headerlink" title="在Vue中同时使用过渡和动画"></a>在Vue中同时使用过渡和动画</h2><p>使用appear类和appear-active-class类来给元素在第一次载入的时候也添加一个animated动画。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">    <span class="attr">appear</span></span></span><br><span class="line"><span class="tag">    <span class="attr">enter-active-class</span> = <span class="string">&quot;animated tada&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">leave-active-class</span> = <span class="string">&quot;animated zoomOutLeft&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">appear-active-class</span> = <span class="string">&quot;animated swing&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在Vue中同时使用过渡和动画。在同时使用两种效果时它们的动画时间可能不一样，所以要再添加上<code>type=&quot;transition&quot;</code>这个属性来解决这个问题使得整体动画时间以transition为准。还可以使用<code>:duration=&quot;&#123;enter: 3000, leave: 5000&#125;&quot;</code>来自定义入场和出场的动画时间。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./animate.css&quot;</span>&gt;</span> <span class="comment">&lt;!-- 引入animate.css动画库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>在Vue中同时使用过渡和动画<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: opacity <span class="number">3s</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span> = <span class="string">&quot;fade&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">appear</span></span></span><br><span class="line"><span class="tag">        <span class="attr">enter-active-class</span> = <span class="string">&quot;animated tada fade-enter-active&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">leave-active-class</span> = <span class="string">&quot;animated zoomOutLeft fade-leave-active&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">appear-active-class</span> = <span class="string">&quot;animated swing&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125; </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Vue中的JS动画和Velocity-js动画库"><a href="#Vue中的JS动画和Velocity-js动画库" class="headerlink" title="Vue中的JS动画和Velocity.js动画库"></a>Vue中的JS动画和Velocity.js动画库</h2><p>Vue中提供了很多js动画的钩子。<code>@before-enter</code>、<code>@enter</code>、<code>@after-enter</code>等等</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./velocity.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- 引入velocity.js动画库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的JS动画和Velocity.js动画库<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">&quot;fade&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">before-enter</span>=<span class="string">&quot;handleBeforeEnter&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">enter</span>=<span class="string">&quot;handleEnter&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">after-enter</span>=<span class="string">&quot;handleAfterEnter&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleBeforeEnter</span>: <span class="keyword">function</span>(<span class="params">el</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    el.<span class="property">style</span>.<span class="property">opacity</span> = <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleEnter</span>: <span class="keyword">function</span>(<span class="params">el, done</span>)&#123; <span class="comment">//这个done为回调函数，执行这个函数After-enter才会执行</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title class_">Velocity</span>(el,&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;,&#123;<span class="attr">duration</span>: <span class="number">1000</span>, <span class="attr">complete</span>: done&#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleAfterEnter</span>: <span class="keyword">function</span>(<span class="params">el</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&#x27;动画结束&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Vue中多个元素或组件的过渡"><a href="#Vue中多个元素或组件的过渡" class="headerlink" title="Vue中多个元素或组件的过渡"></a>Vue中多个元素或组件的过渡</h2><p>使用<code>v-if</code>和<code>v-else</code>来写两个元素的toggle显示。<code>&lt;transition&gt;</code>标签内可以添加一个<code>mode=&quot;in-out&quot;</code>属性来确定元素显示隐藏的先后方式。由于Vue有一个会复用dom的机制，为了防止动画过渡不成功，要给元素标签上加一个<code>key</code>值。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中多个元素的过渡<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.v-enter</span>, <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">opacity</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.v-enter-active</span>, <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: opacity <span class="number">1s</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">mode</span>=<span class="string">&quot;in-out&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span> <span class="attr">key</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>hello Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span> <span class="attr">key</span>=<span class="string">&quot;bye&quot;</span>&gt;</span>bye Vue<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">show</span> = !<span class="variable language_">this</span>.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Vue中多个组件的过渡动画。可以用<code>v-if</code>、<code>v-else</code>的方式，也可以用动态组件的方式。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中多个组件的过渡<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.v-enter</span>, <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">opacity</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.v-enter-active</span>, <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: opacity <span class="number">1s</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">mode</span>=<span class="string">&quot;out-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 写法一:使用v-if来实现两个组件之间的切换显示 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">child-one</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;child-one&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-one</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">child-two</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;child-two&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-two</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">mode</span>=<span class="string">&quot;in-out&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 写法二:使用Vue自带的component标签来实现动态组件的效果 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;type&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child-one&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;child-one&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child-two&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;child-two&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;child-one&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">handleClick</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">type</span> = <span class="variable language_">this</span>.<span class="property">type</span> === <span class="string">&#x27;child-one&#x27;</span> ? <span class="string">&#x27;child-two&#x27;</span> : <span class="string">&#x27;child-one&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>study</tag>
        <tag>vue</tag>
        <tag>vue父子间通信</tag>
        <tag>vue生命周期函数</tag>
        <tag>vue模版语法</tag>
        <tag>vue样式绑定</tag>
        <tag>vue条件渲染</tag>
        <tag>vue动态组件</tag>
        <tag>vue组件原生事件</tag>
        <tag>is</tag>
        <tag>refs</tag>
        <tag>props</tag>
        <tag>slot</tag>
        <tag>animate</tag>
        <tag>velocity</tag>
      </tags>
  </entry>
</search>
